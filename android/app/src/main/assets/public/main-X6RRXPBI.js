var GM=Object.defineProperty,WM=Object.defineProperties;var KM=Object.getOwnPropertyDescriptors;var QI=Object.getOwnPropertySymbols,QM=Object.getPrototypeOf,YM=Object.prototype.hasOwnProperty,ZM=Object.prototype.propertyIsEnumerable,JM=Reflect.get;var YI=(n,e,t)=>e in n?GM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})YM.call(e,t)&&YI(n,t,e[t]);if(QI)for(var t of QI(e))ZM.call(e,t)&&YI(n,t,e[t]);return n},ne=(n,e)=>WM(n,KM(e));var Sr=(n,e,t)=>JM(QM(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function ZI(n,e){return Object.is(n,e)}var ze=null,Au=!1,Ru=1,Hn=Symbol("SIGNAL");function de(n){let e=ze;return ze=n,e}function JI(){return ze}var wa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lf(n){if(Au)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(n);let e=ze.nextProducerIndex++;if(Pu(ze),e<ze.producerNode.length&&ze.producerNode[e]!==n&&_a(ze)){let t=ze.producerNode[e];xu(t,ze.producerIndexOfThis[e])}ze.producerNode[e]!==n&&(ze.producerNode[e]=n,ze.producerIndexOfThis[e]=_a(ze)?nE(n,ze,e):0),ze.producerLastReadVersion[e]=n.version}function XM(){Ru++}function XI(n){if(!(_a(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ru)){if(!n.producerMustRecompute(n)&&!jf(n)){n.dirty=!1,n.lastCleanEpoch=Ru;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ru}}function eE(n){if(n.liveConsumerNode===void 0)return;let e=Au;Au=!0;try{for(let t of n.liveConsumerNode)t.dirty||eN(t)}finally{Au=e}}function tE(){return ze?.consumerAllowSignalWrites!==!1}function eN(n){n.dirty=!0,eE(n),n.consumerMarkedDirty?.(n)}function Nu(n){return n&&(n.nextProducerIndex=0),de(n)}function Vf(n,e){if(de(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_a(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)xu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jf(n){Pu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(XI(t),r!==t.version))return!0}return!1}function Uf(n){if(Pu(n),_a(n))for(let e=0;e<n.producerNode.length;e++)xu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function nE(n,e,t){if(rE(n),n.liveConsumerNode.length===0&&iE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=nE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function xu(n,e){if(rE(n),n.liveConsumerNode.length===1&&iE(n))for(let r=0;r<n.producerNode.length;r++)xu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Pu(i),i.producerIndexOfThis[r]=e}}function _a(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function rE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function iE(n){return n.producerNode!==void 0}function oE(n){let e=Object.create(tN);e.computation=n;let t=()=>{if(XI(e),Lf(e),e.value===Mu)throw e.error;return e.value};return t[Hn]=e,t}var Of=Symbol("UNSET"),Ff=Symbol("COMPUTING"),Mu=Symbol("ERRORED"),tN=ne(j({},wa),{value:Of,dirty:!0,error:null,equal:ZI,producerMustRecompute(n){return n.value===Of||n.value===Ff},producerRecomputeValue(n){if(n.value===Ff)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ff;let t=Nu(n),r;try{r=n.computation()}catch(i){r=Mu,n.error=i}finally{Vf(n,t)}if(e!==Of&&e!==Mu&&r!==Mu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function nN(){throw new Error}var sE=nN;function aE(){sE()}function cE(n){sE=n}var rN=null;function uE(n){let e=Object.create(dE);e.value=n;let t=()=>(Lf(e),e.value);return t[Hn]=e,t}function Bf(n,e){tE()||aE(),n.equal(n.value,e)||(n.value=e,iN(n))}function lE(n,e){tE()||aE(),Bf(n,e(n.value))}var dE=ne(j({},wa),{equal:ZI,value:void 0});function iN(n){n.version++,XM(),eE(n),rN?.()}function te(n){return typeof n=="function"}function _o(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ku=_o(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ui(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof ku?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{hE(o)}catch(s){e=e??[],s instanceof ku?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ku(e)}}add(e){var t;if(e&&e!==this)if(this.closed)hE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ui(t,e)}remove(e){let{_finalizers:t}=this;t&&ui(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var $f=Le.EMPTY;function Ou(n){return n instanceof Le||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function hE(n){te(n)?n():n.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(n,e,...t){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=wo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Fu(n){wo.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(n);else throw n})}function li(){}var fE=Hf("C",void 0,void 0);function pE(n){return Hf("E",void 0,n)}function gE(n){return Hf("N",n,void 0)}function Hf(n,e,t){return{kind:n,value:e,error:t}}var di=null;function Io(n){if(tn.useDeprecatedSynchronousErrorHandling){let e=!di;if(e&&(di={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=di;if(di=null,t)throw r}}else n()}function mE(n){tn.useDeprecatedSynchronousErrorHandling&&di&&(di.errorThrown=!0,di.error=n)}var hi=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ou(e)&&e.add(this)):this.destination=aN}static create(e,t,r){return new zn(e,t,r)}next(e){this.isStopped?qf(gE(e),this):this._next(e)}error(e){this.isStopped?qf(pE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(fE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oN=Function.prototype.bind;function zf(n,e){return oN.call(n,e)}var Gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Lu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Lu(r)}else Lu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Lu(t)}}},zn=class extends hi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zf(e.next,o),error:e.error&&zf(e.error,o),complete:e.complete&&zf(e.complete,o)}):i=e}this.destination=new Gf(i)}};function Lu(n){tn.useDeprecatedSynchronousErrorHandling?mE(n):Fu(n)}function sN(n){throw n}function qf(n,e){let{onStoppedNotification:t}=tn;t&&wo.setTimeout(()=>t(n,e))}var aN={closed:!0,next:li,error:sN,complete:li};var Eo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(n){return n}function Do(...n){return Wf(n)}function Wf(n){return n.length===0?tt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=uN(t)?t:new zn(t,r,i);return Io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=yE(r),new r((i,o)=>{let s=new zn({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Eo](){return this}pipe(...t){return Wf(t)(this)}toPromise(t){return t=yE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function yE(n){var e;return(e=n??tn.Promise)!==null&&e!==void 0?e:Promise}function cN(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function uN(n){return n&&n instanceof hi||cN(n)&&Ou(n)}function Kf(n){return te(n?.lift)}function se(n){return e=>{if(Kf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,e,t,r,i){return new Qf(n,e,t,r,i)}var Qf=class extends hi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bo(){return se((n,e)=>{let t=null;n._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Co=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Kf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return bo()(this)}};var vE=_o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new vE}next(t){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$f:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,ui(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Vu(e,t),n})(),Vu=class extends Me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:$f}};var qe=class extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ia={now(){return(Ia.delegate||Date).now()},delegate:void 0};var qn=class extends Me{constructor(e=1/0,t=1/0,r=Ia){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var ju=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var Ea={setInterval(n,e,...t){let{delegate:r}=Ea;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ea;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var To=class extends ju{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ea.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ea.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ui(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var So=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};So.now=Ia.now;var Ao=class extends So{constructor(e,t=So.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Yf=new Ao(To);var Uu=class extends To{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Bu=class extends Ao{};var Zf=new Bu(Uu);var Et=new ue(n=>n.complete());function _E(n){return n&&te(n.schedule)}function Jf(n){return n[n.length-1]}function Ro(n){return te(Jf(n))?n.pop():void 0}function pn(n){return _E(Jf(n))?n.pop():void 0}function wE(n,e){return typeof Jf(n)=="number"?n.pop():e}function Xf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function EE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function IE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fi(n){return this instanceof fi?(this.v=n,this):new fi(n)}function DE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(R){return new Promise(function(S,N){o.push([y,R,S,N])>1||u(y,R)})},w&&(i[y]=w(i[y])))}function u(y,w){try{l(r[y](w))}catch(R){g(o[0][3],R)}}function l(y){y.value instanceof fi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,w){y(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof IE=="function"?IE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var $u=n=>n&&typeof n.length=="number"&&typeof n!="function";function Hu(n){return te(n?.then)}function zu(n){return te(n[Eo])}function qu(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function Gu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wu=lN();function Ku(n){return te(n?.[Wu])}function Qu(n){return DE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield fi(t.read());if(i)return yield fi(void 0);yield yield fi(r)}}finally{t.releaseLock()}})}function Yu(n){return te(n?.getReader)}function be(n){if(n instanceof ue)return n;if(n!=null){if(zu(n))return dN(n);if($u(n))return hN(n);if(Hu(n))return fN(n);if(qu(n))return CE(n);if(Ku(n))return pN(n);if(Yu(n))return gN(n)}throw Gu(n)}function dN(n){return new ue(e=>{let t=n[Eo]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hN(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fN(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Fu)})}function pN(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function CE(n){return new ue(e=>{mN(n,e).catch(t=>e.error(t))})}function gN(n){return CE(Qu(n))}function mN(n,e){var t,r,i,o;return EE(this,void 0,void 0,function*(){try{for(t=bE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function St(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ar(n,e=0){return se((t,r)=>{t.subscribe(ie(r,i=>St(r,n,()=>r.next(i),e),()=>St(r,n,()=>r.complete(),e),i=>St(r,n,()=>r.error(i),e)))})}function Rr(n,e=0){return se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function TE(n,e){return be(n).pipe(Rr(e),Ar(e))}function SE(n,e){return be(n).pipe(Rr(e),Ar(e))}function AE(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function RE(n,e){return new ue(t=>{let r;return St(t,e,()=>{r=n[Wu](),St(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Zu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ME(n,e){return Zu(Qu(n),e)}function NE(n,e){if(n!=null){if(zu(n))return TE(n,e);if($u(n))return AE(n,e);if(Hu(n))return SE(n,e);if(qu(n))return Zu(n,e);if(Ku(n))return RE(n,e);if(Yu(n))return ME(n,e)}throw Gu(n)}function pe(n,e){return e?NE(n,e):be(n)}function $(...n){let e=pn(n);return pe(n,e)}function nn(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function ep(n){return!!n&&(n instanceof ue||te(n.lift)&&te(n.subscribe))}var Gn=_o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function K(n,e){return se((t,r)=>{let i=0;t.subscribe(ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yN}=Array;function vN(n,e){return yN(e)?n(...e):n(e)}function Ju(n){return K(e=>vN(n,e))}var{isArray:_N}=Array,{getPrototypeOf:wN,prototype:IN,keys:EN}=Object;function Xu(n){if(n.length===1){let e=n[0];if(_N(e))return{args:e,keys:null};if(DN(e)){let t=EN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function DN(n){return n&&typeof n=="object"&&wN(n)===IN}function el(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function tl(...n){let e=pn(n),t=Ro(n),{args:r,keys:i}=Xu(n);if(r.length===0)return pe([],e);let o=new ue(bN(r,e,i?s=>el(i,s):tt));return t?o.pipe(Ju(t)):o}function bN(n,e,t=tt){return r=>{xE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)xE(e,()=>{let l=pe(n[u],e),h=!1;l.subscribe(ie(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xE(n,e,t){n?St(t,n,e):e()}function PE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?w(R):u.push(R),w=R=>{o&&e.next(R),l++;let S=!1;be(t(R,h++)).subscribe(ie(e,N=>{i?.(N),o?y(N):e.next(N)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let N=u.shift();s?St(e,s,()=>w(N)):w(N)}g()}catch(N){e.error(N)}}))};return n.subscribe(ie(e,y,()=>{p=!0,g()})),()=>{a?.()}}function ke(n,e,t=1/0){return te(e)?ke((r,i)=>K((o,s)=>e(r,o,i,s))(be(n(r,i))),t):(typeof e=="number"&&(t=e),se((r,i)=>PE(r,i,n,t)))}function Da(n=1/0){return ke(tt,n)}function kE(){return Da(1)}function Mo(...n){return kE()(pe(n,pn(n)))}function gn(n){return new ue(e=>{be(n()).subscribe(e)})}function tp(...n){let e=Ro(n),{args:t,keys:r}=Xu(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;be(t[h]).subscribe(ie(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?el(r,a):a),o.complete())}))}});return e?i.pipe(Ju(e)):i}function nl(n,e,t){return gn(()=>n()?e:t)}function np(...n){let e=pn(n),t=wE(n,1/0),r=n;return r.length?r.length===1?be(r[0]):Da(t)(pe(r,e)):Et}function ut(n,e){return se((t,r)=>{let i=0;t.subscribe(ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ge(n){return se((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ie(t,void 0,void 0,s=>{o=be(n(s,Ge(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function OE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ie(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function At(n,e){return te(e)?ke(n,e,1):ke(n,1)}function Mr(n){return se((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ot(n){return n<=0?()=>Et:se((e,t)=>{let r=0;e.subscribe(ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ba(n){return K(()=>n)}function No(n,e=tt){return n=n??CN,se((t,r)=>{let i,o=!0;t.subscribe(ie(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function CN(n,e){return n===e}function rl(n=TN){return se((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TN(){return new Gn}function Ca(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ye(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ut((i,o)=>n(i,o,r)):tt,Ot(1),t?Mr(e):rl(()=>new Gn))}function xo(n){return n<=0?()=>Et:se((e,t)=>{let r=[];e.subscribe(ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ut((i,o)=>n(i,o,r)):tt,xo(1),t?Mr(e):rl(()=>new Gn))}function ip(...n){let e=n.length;if(e===0)throw new Error("list of properties cannot be empty.");return K(t=>{let r=t;for(let i=0;i<e;i++){let o=r?.[n[i]];if(typeof o<"u")r=o;else return}return r})}function Po(n,e){return se(OE(n,e,arguments.length>=2,!0))}function FE(n={}){let{connector:e=()=>new Me,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,h=p=!1},w=()=>{let R=s;y(),R?.unsubscribe()};return se((R,S)=>{l++,!p&&!h&&g();let N=u=u??e();S.add(()=>{l--,l===0&&!p&&!h&&(a=op(w,i))}),N.subscribe(S),!s&&l>0&&(s=new zn({next:O=>N.next(O),error:O=>{p=!0,g(),a=op(y,t,O),N.error(O)},complete:()=>{h=!0,g(),a=op(y,r),N.complete()}}),be(R).subscribe(s))})(o)}}function op(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new zn({next:()=>{r.unsubscribe(),n()}});return be(e(...t)).subscribe(r)}function sp(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,FE({connector:()=>new qn(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function il(...n){let e=pn(n);return se((t,r)=>{(e?Mo(n,t,e):Mo(n,t)).subscribe(r)})}function lt(n,e){return se((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,h=o++;be(n(u,h)).subscribe(i=ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ta(n){return se((e,t)=>{be(n).subscribe(ie(t,()=>t.complete(),li)),!t.closed&&e.subscribe(t)})}function Ae(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tt}function ap(...n){let e=Ro(n);return se((t,r)=>{let i=n.length,o=new Array(i),s=n.map(()=>!1),a=!1;for(let u=0;u<i;u++)be(n[u]).subscribe(ie(r,l=>{o[u]=l,!a&&!s[u]&&(s[u]=!0,(a=s.every(tt))&&(s=null))},li));t.subscribe(ie(r,u=>{if(a){let l=[u,...o];r.next(e?e(...l):l)}}))})}var ID="https://g.co/ng/security#xss",H=class extends Error{constructor(e,t){super(_g(e,t)),this.code=e}};function _g(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ba(n){return{toString:n}.toString()}var ol="__parameters__";function SN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function AN(n,e,t){return Ba(()=>{let r=SN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ol)?u[ol]:Object.defineProperty(u,ol,{value:[]})[ol];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ep=globalThis;function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function RN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function LE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var MN=Te({__forward_ref__:Te});function Ci(n){return n.__forward_ref__=Ci,n.toString=function(){return bt(this())},n}function Dt(n){return ED(n)?n():n}function ED(n){return typeof n=="function"&&n.hasOwnProperty(MN)&&n.__forward_ref__===Ci}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vl(n){return VE(n,bD)||VE(n,CD)}function DD(n){return Vl(n)!==null}function VE(n,e){return n.hasOwnProperty(e)?n[e]:null}function NN(n){let e=n&&(n[bD]||n[CD]);return e||null}function jE(n){return n&&(n.hasOwnProperty(UE)||n.hasOwnProperty(xN))?n[UE]:null}var bD=Te({\u0275prov:Te}),UE=Te({\u0275inj:Te}),CD=Te({ngInjectableDef:Te}),xN=Te({ngInjectorDef:Te}),q=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function TD(n){return n&&!!n.\u0275providers}var PN=Te({\u0275cmp:Te}),kN=Te({\u0275dir:Te}),ON=Te({\u0275pipe:Te}),FN=Te({\u0275mod:Te}),ml=Te({\u0275fac:Te}),Ra=Te({__NG_ELEMENT_ID__:Te}),BE=Te({__NG_ENV_ID__:Te});function jl(n){return typeof n=="string"?n:n==null?"":String(n)}function LN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():jl(n)}function VN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new H(-200,n)}function wg(n,e){throw new H(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),Dp;function SD(){return Dp}function Ht(n){let e=Dp;return Dp=n,e}function AD(n,e,t){let r=Vl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;wg(n,"Injector")}var jN={},Ma=jN,bp="__NG_DI_FLAG__",yl="ngTempTokenPath",UN="ngTokenPath",BN=/\n/gm,$N="\u0275",$E="__source",Lo;function HN(){return Lo}function Nr(n){let e=Lo;return Lo=n,e}function zN(n,e=ce.Default){if(Lo===void 0)throw new H(-203,!1);return Lo===null?AD(n,void 0,e):Lo.get(n,e&ce.Optional?null:void 0,e)}function G(n,e=ce.Default){return(SD()||zN)(Dt(n),e)}function x(n,e=ce.Default){return G(n,Ul(e))}function Ul(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Cp(n){let e=[];for(let t=0;t<n.length;t++){let r=Dt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=GN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function qN(n,e){return n[bp]=e,n.prototype[bp]=e,n}function GN(n){return n[bp]}function WN(n,e,t,r){let i=n[yl];throw e[$E]&&i.unshift(e[$E]),n.message=KN(`
`+n.message,i,t,r),n[UN]=i,n[yl]=null,n}function KN(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==$N?n.slice(2):n;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(BN,`
  `)}`}var Rt=qN(AN("Optional"),8);function jo(n,e){let t=n.hasOwnProperty(ml);return t?n[ml]:null}function QN(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function YN(n){return n.flat(Number.POSITIVE_INFINITY)}function Ig(n,e){n.forEach(t=>Array.isArray(t)?Ig(t,e):e(t))}function RD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function vl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ZN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function JN(n,e,t){let r=$a(n,e);return r>=0?n[r|1]=t:(r=~r,ZN(n,r,e,t)),r}function cp(n,e){let t=$a(n,e);if(t>=0)return n[t|1]}function $a(n,e){return XN(n,e,1)}function XN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Uo={},zt=[],Bo=new q(""),MD=new q("",-1),ND=new q(""),_l=class{get(e,t=Ma){if(t===Ma){let r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return t}},xD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xD||{}),vn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vn||{}),kr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(kr||{});function ex(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Tp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];tx(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function PD(n){return n===3||n===4||n===6}function tx(n){return n.charCodeAt(0)===64}function Na(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?HE(n,t,i,null,e[++r]):HE(n,t,i,null,null))}}return n}function HE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var kD="ng-template";function nx(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ex(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Eg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Eg(n){return n.type===4&&n.value!==kD}function rx(n,e,t){let r=n.type===4&&!t?kD:n.value;return e===r}function ix(n,e,t){let r=4,i=n.attrs,o=i!==null?ax(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!rx(n,u,t)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!nx(n,i,u,t)){if(rn(r))return!1;s=!0}}else{let l=e[++a],h=ox(u,i,Eg(n),t);if(h===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(n){return(n&1)===0}function ox(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cx(e,n)}function sx(n,e,t=!1){for(let r=0;r<e.length;r++)if(ix(n,e[r],t))return!0;return!1}function ax(n){for(let e=0;e<n.length;e++){let t=n[e];if(PD(t))return e}return n.length}function cx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function zE(n,e){return n?":not("+e.trim()+")":e}function ux(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=zE(o,i),i=""),r=s,o=o||!rn(r);t++}return i!==""&&(e+=zE(o,i)),e}function lx(n){return n.map(ux).join(",")}function dx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!rn(i))break;i=o}r++}return{attrs:e,classes:t}}function Mt(n){return Ba(()=>{let e=jD(n),t=ne(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vn.Emulated,styles:n.styles||zt,_:null,schemas:n.schemas||null,tView:null,id:""});UD(t);let r=n.dependencies;return t.directiveDefs=GE(r,!1),t.pipeDefs=GE(r,!0),t.id=px(t),t})}function hx(n){return gi(n)||OD(n)}function fx(n){return n!==null}function Jn(n){return Ba(()=>({type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qE(n,e){if(n==null)return Uo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=kr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==kr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function pt(n){return Ba(()=>{let e=jD(n);return UD(e),e})}function gi(n){return n[PN]||null}function OD(n){return n[kN]||null}function FD(n){return n[ON]||null}function LD(n){let e=gi(n)||OD(n)||FD(n);return e!==null?e.standalone:!1}function VD(n,e){let t=n[FN]||null;if(!t&&e===!0)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return t}function jD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Uo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qE(n.inputs,e),outputs:qE(n.outputs),debugInfo:null}}function UD(n){n.features?.forEach(e=>e(n))}function GE(n,e){if(!n)return null;let t=e?FD:hx;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(fx)}function px(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xn(n){return{\u0275providers:n}}function gx(...n){return{\u0275providers:BD(!0,n),\u0275fromNgModule:!0}}function BD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ig(e,s=>{let a=s;Sp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$D(i,o),t}function $D(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Dg(i,o=>{e(o,r)})}}function Sp(n,e,t,r){if(n=Dt(n),!n)return!1;let i=null,o=jE(n),s=!o&&gi(n);if(!o&&!s){let u=n.ngModule;if(o=jE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Sp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ig(o.imports,h=>{Sp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&$D(l,e)}if(!a){let l=jo(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:ND,useValue:i,multi:!0},i),e({provide:Bo,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Dg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Dg(n,e){for(let t of n)TD(t)&&(t=t.\u0275providers),Array.isArray(t)?Dg(t,e):e(t)}var mx=Te({provide:String,useValue:Te});function HD(n){return n!==null&&typeof n=="object"&&mx in n}function yx(n){return!!(n&&n.useExisting)}function vx(n){return!!(n&&n.useFactory)}function $o(n){return typeof n=="function"}function _x(n){return!!n.useClass}var Bl=new q(""),ll={},wx={},up;function bg(){return up===void 0&&(up=new _l),up}var Gt=class{},xa=class extends Gt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rp(e,s=>this.processProvider(s)),this.records.set(MD,ko(void 0,this)),i.has("environment")&&this.records.set(Gt,ko(void 0,this));let o=this.records.get(Bl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ND,zt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Nr(this),r=Ht(void 0),i;try{return e()}finally{Nr(t),Ht(r)}}get(e,t=Ma,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(BE))return e[BE](this);r=Ul(r);let i,o=Nr(this),s=Ht(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Cx(e)&&Vl(e);l&&this.injectableDefInScope(l)?u=ko(Ap(e),ll):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ce.Self?bg():this.parent;return t=r&ce.Optional&&t===Ma?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[yl]=a[yl]||[]).unshift(bt(e)),o)throw a;return WN(a,e,"R3InjectorError",this.source)}else throw a}finally{Ht(s),Nr(o)}}resolveInjectorInitializers(){let e=de(null),t=Nr(this),r=Ht(void 0),i;try{let o=this.get(Bo,zt,ce.Self);for(let s of o)s()}finally{Nr(t),Ht(r),de(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=Dt(e);let t=$o(e)?e:Dt(e&&e.provide),r=Ex(e);if(!$o(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ko(void 0,ll,!0),i.factory=()=>Cp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=de(null);try{return t.value===ll&&(t.value=wx,t.value=t.factory()),typeof t.value=="object"&&t.value&&bx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ap(n){let e=Vl(n),t=e!==null?e.factory:jo(n);if(t!==null)return t;if(n instanceof q)throw new H(204,!1);if(n instanceof Function)return Ix(n);throw new H(204,!1)}function Ix(n){if(n.length>0)throw new H(204,!1);let t=NN(n);return t!==null?()=>t.factory(n):()=>new n}function Ex(n){if(HD(n))return ko(void 0,n.useValue);{let e=zD(n);return ko(e,ll)}}function zD(n,e,t){let r;if($o(n)){let i=Dt(n);return jo(i)||Ap(i)}else if(HD(n))r=()=>Dt(n.useValue);else if(vx(n))r=()=>n.useFactory(...Cp(n.deps||[]));else if(yx(n))r=()=>G(Dt(n.useExisting));else{let i=Dt(n&&(n.useClass||n.provide));if(Dx(n))r=()=>new i(...Cp(n.deps));else return jo(i)||Ap(i)}return r}function ko(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Dx(n){return!!n.deps}function bx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Cx(n){return typeof n=="function"||typeof n=="object"&&n instanceof q}function Rp(n,e){for(let t of n)Array.isArray(t)?Rp(t,e):t&&TD(t)?Rp(t.\u0275providers,e):e(t)}function er(n,e){n instanceof xa&&n.assertNotDestroyed();let t,r=Nr(n),i=Ht(void 0);try{return e()}finally{Nr(r),Ht(i)}}function qD(){return SD()!==void 0||HN()!=null}function GD(n){if(!qD())throw new H(-203,!1)}function Tx(n){return typeof n=="function"}var tr=0,X=1,J=2,ft=3,on=4,cn=5,Pa=6,wl=7,dt=8,Ho=9,_n=10,We=11,ka=12,WE=13,Zo=14,sn=15,mi=16,Oo=17,Wn=18,$l=19,WD=20,xr=21,lp=22,qt=23,an=25,KD=1;var yi=7,Il=8,zo=9,ht=10,El=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(El||{});function Pr(n){return Array.isArray(n)&&typeof n[KD]=="object"}function nr(n){return Array.isArray(n)&&n[KD]===!0}function QD(n){return(n.flags&4)!==0}function Hl(n){return n.componentOffset>-1}function Cg(n){return(n.flags&1)===1}function Or(n){return!!n.template}function Mp(n){return(n[J]&512)!==0}var Np=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function YD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Lr(){return ZD}function ZD(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ax),Sx}Lr.ngInherit=!0;function Sx(){let n=XD(this),e=n?.current;if(e){let t=n.previous;if(t===Uo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ax(n,e,t,r,i){let o=this.declaredInputs[r],s=XD(n)||Rx(n,{previous:Uo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Np(l&&l.currentValue,t,u===Uo),YD(n,e,i,t)}var JD="__ngSimpleChanges__";function XD(n){return n[JD]||null}function Rx(n,e){return n[JD]=e}var KE=null;var mn=function(n,e,t){KE?.(n,e,t)},Mx="svg",Nx="math";function wn(n){for(;Array.isArray(n);)n=n[tr];return n}function eb(n,e){return wn(e[n])}function Wt(n,e){return wn(e[n.index])}function Tg(n,e){return n.data[e]}function Vr(n,e){let t=e[n];return Pr(t)?t:t[tr]}function xx(n){return(n[J]&4)===4}function Sg(n){return(n[J]&128)===128}function Px(n){return nr(n[ft])}function qo(n,e){return e==null?null:n[e]}function tb(n){n[Oo]=0}function nb(n){n[J]&1024||(n[J]|=1024,Sg(n)&&ql(n))}function kx(n,e){for(;n>0;)e=e[Zo],n--;return e}function zl(n){return!!(n[J]&9216||n[qt]?.dirty)}function xp(n){n[_n].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),zl(n)&&ql(n)}function ql(n){n[_n].changeDetectionScheduler?.notify(0);let e=vi(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Sg(e)));)e=vi(e)}function rb(n,e){if((n[J]&256)===256)throw new H(911,!1);n[xr]===null&&(n[xr]=[]),n[xr].push(e)}function Ox(n,e){if(n[xr]===null)return;let t=n[xr].indexOf(e);t!==-1&&n[xr].splice(t,1)}function vi(n){let e=n[ft];return nr(e)?e[ft]:e}var he={lFrame:hb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ib=!1;function Fx(){return he.lFrame.elementDepthCount}function Lx(){he.lFrame.elementDepthCount++}function Vx(){he.lFrame.elementDepthCount--}function ob(){return he.bindingsEnabled}function jx(){return he.skipHydrationRootTNode!==null}function Ux(n){return he.skipHydrationRootTNode===n}function Bx(){he.skipHydrationRootTNode=null}function _e(){return he.lFrame.lView}function gt(){return he.lFrame.tView}function Kt(n){return he.lFrame.contextLView=n,n[dt]}function Qt(n){return he.lFrame.contextLView=null,n}function Ct(){let n=sb();for(;n!==null&&n.type===64;)n=n.parent;return n}function sb(){return he.lFrame.currentTNode}function $x(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ha(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function ab(){return he.lFrame.isParent}function Hx(){he.lFrame.isParent=!1}function cb(){return ib}function QE(n){ib=n}function zx(n){return he.lFrame.bindingIndex=n}function Jo(){return he.lFrame.bindingIndex++}function qx(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Gx(){return he.lFrame.inI18n}function Wx(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pp(e)}function Kx(){return he.lFrame.currentDirectiveIndex}function Pp(n){he.lFrame.currentDirectiveIndex=n}function Qx(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ub(){return he.lFrame.currentQueryIndex}function Ag(n){he.lFrame.currentQueryIndex=n}function Yx(n){let e=n[X];return e.type===2?e.declTNode:e.type===1?n[cn]:null}function lb(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=Yx(o),i===null||(o=o[Zo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=db();return r.currentTNode=e,r.lView=n,!0}function Rg(n){let e=db(),t=n[X];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function db(){let n=he.lFrame,e=n===null?null:n.child;return e===null?hb(n):e}function hb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fb(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var pb=fb;function Mg(){let n=fb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zx(n){return(he.lFrame.contextLView=kx(n,he.lFrame.contextLView))[dt]}function Ti(){return he.lFrame.selectedIndex}function _i(n){he.lFrame.selectedIndex=n}function Ng(){let n=he.lFrame;return Tg(n.tView,n.selectedIndex)}function Jx(){return he.lFrame.currentNamespace}var gb=!0;function xg(){return gb}function Pg(n){gb=n}function Xx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ZD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function kg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function dl(n,e,t){mb(n,e,3,t)}function hl(n,e,t,r){(n[J]&3)===t&&mb(n,e,t,r)}function dp(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function mb(n,e,t,r){let i=r!==void 0?n[Oo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Oo]+=65536),(a<o||o==-1)&&(eP(n,t,e,u),n[Oo]=(n[Oo]&4294901760)+u+2),u++}function YE(n,e){mn(4,n,e);let t=de(null);try{e.call(n)}finally{de(t),mn(5,n,e)}}function eP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[J]>>14<n[Oo]>>16&&(n[J]&3)===e&&(n[J]+=16384,YE(a,o)):YE(a,o)}var Vo=-1,wi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function tP(n){return n instanceof wi}function nP(n){return(n.flags&8)!==0}function rP(n){return(n.flags&16)!==0}var hp={},kp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ul(r);let i=this.injector.get(e,hp,r);return i!==hp||t===hp?i:this.parentInjector.get(e,t,r)}};function yb(n){return n!==Vo}function Dl(n){return n&32767}function iP(n){return n>>16}function bl(n,e){let t=iP(n),r=e;for(;t>0;)r=r[Zo],t--;return r}var Op=!0;function ZE(n){let e=Op;return Op=n,e}var oP=256,vb=oP-1,_b=5,sP=0,yn={};function aP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ra)&&(r=t[Ra]),r==null&&(r=t[Ra]=sP++);let i=r&vb,o=1<<i;e.data[n+(i>>_b)]|=o}function Cl(n,e){let t=wb(n,e);if(t!==-1)return t;let r=e[X];r.firstCreatePass&&(n.injectorIndex=e.length,fp(r.data,n),fp(e,null),fp(r.blueprint,null));let i=Og(n,e),o=n.injectorIndex;if(yb(i)){let s=Dl(i),a=bl(i,e),u=a[X].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function fp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Og(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Cb(i),r===null)return Vo;if(t++,i=i[Zo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Vo}function Fp(n,e,t){aP(n,e,t)}function cP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(PD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Ib(n,e,t){if(t&ce.Optional||n!==void 0)return n;wg(e,"NodeInjector")}function Eb(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[Ho],o=Ht(void 0);try{return i?i.get(e,r,t&ce.Optional):AD(e,r,t&ce.Optional)}finally{Ht(o)}}return Ib(r,e,t)}function Db(n,e,t,r=ce.Default,i){if(n!==null){if(e[J]&2048&&!(r&ce.Self)){let s=hP(n,e,t,r,yn);if(s!==yn)return s}let o=bb(n,e,t,r,yn);if(o!==yn)return o}return Eb(e,t,r,i)}function bb(n,e,t,r,i){let o=lP(t);if(typeof o=="function"){if(!lb(e,n,r))return r&ce.Host?Ib(i,t,r):Eb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))wg(t);else return s}finally{pb()}}else if(typeof o=="number"){let s=null,a=wb(n,e),u=Vo,l=r&ce.Host?e[sn][cn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?Og(n,e):e[a+8],u===Vo||!XE(r,!1)?a=-1:(s=e[X],a=Dl(u),e=bl(u,e)));a!==-1;){let h=e[X];if(JE(o,a,h.data)){let p=uP(a,e,t,s,r,l);if(p!==yn)return p}u=e[a+8],u!==Vo&&XE(r,e[X].data[a+8]===l)&&JE(o,a,e)?(s=h,a=Dl(u),e=bl(u,e)):a=-1}}return i}function uP(n,e,t,r,i,o){let s=e[X],a=s.data[n+8],u=r==null?Hl(a)&&Op:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=fl(a,s,t,u,l);return h!==null?Ii(e,s,h,a):yn}function fl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let w=s[y];if(y<u&&t===w||y>=u&&w.type===t)return y}if(i){let y=s[u];if(y&&Or(y)&&y.type===t)return u}return null}function Ii(n,e,t,r){let i=n[t],o=e.data;if(tP(i)){let s=i;s.resolving&&VN(LN(o[t]));let a=ZE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ht(s.injectImpl):null,h=lb(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Xx(t,o[t],e)}finally{l!==null&&Ht(l),ZE(a),s.resolving=!1,pb()}}return i}function lP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ra)?n[Ra]:void 0;return typeof e=="number"?e>=0?e&vb:dP:e}function JE(n,e,t){let r=1<<n;return!!(t[e+(n>>_b)]&r)}function XE(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var pi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Db(this._tNode,this._lView,e,Ul(r),t)}};function dP(){return new pi(Ct(),_e())}function Xo(n){return Ba(()=>{let e=n.prototype.constructor,t=e[ml]||Lp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ml]||Lp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lp(n){return ED(n)?()=>{let e=Lp(Dt(n));return e&&e()}:jo(n)}function hP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!(s[J]&512);){let a=bb(o,s,t,r|ce.Self,yn);if(a!==yn)return a;let u=o.parent;if(!u){let l=s[WD];if(l){let h=l.get(t,yn,r);if(h!==yn)return h}u=Cb(s),s=s[Zo]}o=u}return i}function Cb(n){let e=n[X],t=e.type;return t===2?e.declTNode:t===1?n[cn]:null}function Fg(n){return cP(Ct(),n)}function eD(n,e=null,t=null,r){let i=Tb(n,e,t,r);return i.resolveInjectorInitializers(),i}function Tb(n,e=null,t=null,r,i=new Set){let o=[t||zt,gx(n)];return r=r||(typeof n=="object"?void 0:bt(n)),new xa(o,e||bg(),r||null,i)}var nt=class n{static{this.THROW_IF_NOT_FOUND=Ma}static{this.NULL=new _l}static create(e,t){if(Array.isArray(e))return eD({name:""},t,e,"");{let r=e.name??"";return eD({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:n,providedIn:"any",factory:()=>G(MD)})}static{this.__NG_ELEMENT_ID__=-1}};var fP=new q("");fP.__NG_ELEMENT_ID__=n=>{let e=Ct();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new H(204,!1)};var pP="ngOriginalError";function pp(n){return n[pP]}var Sb=!0,za=(()=>{class n{static{this.__NG_ELEMENT_ID__=gP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Vp=class extends za{constructor(e){super(),this._lView=e}onDestroy(e){return rb(this._lView,e),()=>Ox(this._lView,e)}};function gP(){return new Vp(_e())}var es=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})();var jp=class extends Me{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,qD()&&(this.destroyRef=x(za,{optional:!0})??void 0,this.pendingTasks=x(es,{optional:!0})??void 0)}emit(e){let t=de(null);try{super.next(e)}finally{de(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Oe=jp;function Tl(...n){}function Ab(n){let e,t;function r(){n=Tl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function tD(n){return queueMicrotask(()=>n()),()=>{n=Tl}}var Lg="isAngularZone",Sl=Lg+"_ID",mP=0,Ce=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Sb}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,_P(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,yP,Tl,Tl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},yP={};function Vg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Ab(()=>{n.callbackScheduled=!1,Up(n),n.isCheckStableRunning=!0,Vg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Up(n)}function _P(n){let e=()=>{vP(n)},t=mP++;n._inner=n._inner.fork({name:"angular",properties:{[Lg]:!0,[Sl]:t,[Sl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(wP(u))return r.invokeTask(o,s,a,u);try{return nD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),rD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return nD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!IP(u)&&e(),rD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Up(n),Vg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Up(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function nD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rD(n){n._nesting--,Vg(n)}var Bp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function wP(n){return Rb(n,"__ignore_ng_zone__")}function IP(n){return Rb(n,"__scheduler_tick__")}function Rb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Kn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&pp(e);for(;t&&pp(t);)t=pp(t);return t||null}},EP=new q("",{providedIn:"root",factory:()=>{let n=x(Ce),e=x(Kn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function DP(){return ts(Ct(),_e())}function ts(n,e){return new un(Wt(n,e))}var un=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=DP}}return n})();function bP(n){return n instanceof un?n.nativeElement:n}function CP(){return this._results[Symbol.iterator]()}var $p=class n{get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=CP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=YN(e);(this._changesDetected=!QN(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Mb(n){return(n.flags&128)===128}var Nb=new Map,TP=0;function SP(){return TP++}function AP(n){Nb.set(n[$l],n)}function Hp(n){Nb.delete(n[$l])}var iD="__ngContext__";function Ei(n,e){Pr(e)?(n[iD]=e[$l],AP(e)):n[iD]=e}function xb(n){return kb(n[ka])}function Pb(n){return kb(n[on])}function kb(n){for(;n!==null&&!nr(n);)n=n[on];return n}var zp;function Ob(n){zp=n}function RP(){if(zp!==void 0)return zp;if(typeof document<"u")return document;throw new H(210,!1)}var jg=new q("",{providedIn:"root",factory:()=>MP}),MP="ng",Ug=new q(""),jr=new q("",{providedIn:"platform",factory:()=>"unknown"});var Bg=new q("",{providedIn:"root",factory:()=>RP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NP="h",xP="b";var PP=()=>null;function $g(n,e,t=!1){return PP(n,e,t)}var Fb=!1,kP=new q("",{providedIn:"root",factory:()=>Fb});var sl;function OP(){if(sl===void 0&&(sl=null,Ep.trustedTypes))try{sl=Ep.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sl}function oD(n){return OP()?.createScriptURL(n)||n}var Al=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ID})`}};function qa(n){return n instanceof Al?n.changingThisBreaksApplicationSecurity:n}function Hg(n,e){let t=FP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ID})`)}return t===e}function FP(n){return n instanceof Al&&n.getTypeName()||null}var LP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lb(n){return n=String(n),n.match(LP)?n:"unsafe:"+n}var Gl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gl||{});function VP(n){let e=jb();return e?e.sanitize(Gl.URL,n)||"":Hg(n,"URL")?qa(n):Lb(jl(n))}function jP(n){let e=jb();if(e)return oD(e.sanitize(Gl.RESOURCE_URL,n)||"");if(Hg(n,"ResourceURL"))return oD(qa(n));throw new H(904,!1)}function UP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?jP:VP}function Vb(n,e,t){return UP(e,t)(n)}function jb(){let n=_e();return n&&n[_n].sanitizer}function Ub(n){return n instanceof Function?n():n}var Qn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qn||{}),BP;function zg(n,e){return BP(n,e)}function Fo(n,e,t,r,i){if(r!=null){let o,s=!1;nr(r)?o=r:Pr(r)&&(s=!0,r=r[tr]);let a=wn(r);n===0&&t!==null?i==null?zb(e,t,a):Rl(e,t,a,i||null,!0):n===1&&t!==null?Rl(e,t,a,i||null,!0):n===2?nk(e,a,s):n===3&&e.destroyNode(a),o!=null&&ik(e,n,o,t,i)}}function $P(n,e){return n.createText(e)}function HP(n,e,t){n.setValue(e,t)}function Bb(n,e,t){return n.createElement(e,t)}function zP(n,e){$b(n,e),e[tr]=null,e[cn]=null}function qP(n,e,t,r,i,o){r[tr]=i,r[cn]=e,Kl(n,r,t,1,i,o)}function $b(n,e){e[_n].changeDetectionScheduler?.notify(9),Kl(n,e,e[We],2,null,null)}function GP(n){let e=n[ka];if(!e)return gp(n[X],n);for(;e;){let t=null;if(Pr(e))t=e[ka];else{let r=e[ht];r&&(t=r)}if(!t){for(;e&&!e[on]&&e!==n;)Pr(e)&&gp(e[X],e),e=e[ft];e===null&&(e=n),Pr(e)&&gp(e[X],e),t=e&&e[on]}e=t}}function WP(n,e,t,r){let i=ht+r,o=t.length;r>0&&(t[i-1][on]=e),r<o-ht?(e[on]=t[i],RD(t,ht+r,e)):(t.push(e),e[on]=null),e[ft]=t;let s=e[mi];s!==null&&t!==s&&Hb(s,e);let a=e[Wn];a!==null&&a.insertView(n),xp(e),e[J]|=128}function Hb(n,e){let t=n[zo],r=e[ft];if(Pr(r))n[J]|=El.HasTransplantedViews;else{let i=r[ft][sn];e[sn]!==i&&(n[J]|=El.HasTransplantedViews)}t===null?n[zo]=[e]:t.push(e)}function qg(n,e){let t=n[zo],r=t.indexOf(e);t.splice(r,1)}function Oa(n,e){if(n.length<=ht)return;let t=ht+e,r=n[t];if(r){let i=r[mi];i!==null&&i!==n&&qg(i,r),e>0&&(n[t-1][on]=r[on]);let o=vl(n,ht+e);zP(r[X],r);let s=o[Wn];s!==null&&s.detachView(o[X]),r[ft]=null,r[on]=null,r[J]&=-129}return r}function Wl(n,e){if(!(e[J]&256)){let t=e[We];t.destroyNode&&Kl(n,e,t,3,null,null),GP(e)}}function gp(n,e){if(e[J]&256)return;let t=de(null);try{e[J]&=-129,e[J]|=256,e[qt]&&Uf(e[qt]),QP(n,e),KP(n,e),e[X].type===1&&e[We].destroy();let r=e[mi];if(r!==null&&nr(e[ft])){r!==e[ft]&&qg(r,e);let i=e[Wn];i!==null&&i.detachView(n)}Hp(e)}finally{de(t)}}function KP(n,e){let t=n.cleanup,r=e[wl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[wl]=null);let i=e[xr];if(i!==null){e[xr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function QP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof wi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];mn(4,a,u);try{u.call(a)}finally{mn(5,a,u)}}else{mn(4,i,o);try{o.call(i)}finally{mn(5,i,o)}}}}}function YP(n,e,t){return ZP(n,e.parent,t)}function ZP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[tr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===vn.None||o===vn.Emulated)return null}return Wt(r,t)}}function Rl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zb(n,e,t){n.appendChild(e,t)}function sD(n,e,t,r,i){r!==null?Rl(n,e,t,r,i):zb(n,e,t)}function qb(n,e){return n.parentNode(e)}function JP(n,e){return n.nextSibling(e)}function XP(n,e,t){return tk(n,e,t)}function ek(n,e,t){return n.type&40?Wt(n,t):null}var tk=ek,aD;function Gg(n,e,t,r){let i=YP(n,r,e),o=e[We],s=r.parent||e[cn],a=XP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)sD(o,i,t[u],a,!1);else sD(o,i,t,a,!1);aD!==void 0&&aD(o,r,e,t,i)}function Sa(n,e){if(e!==null){let t=e.type;if(t&3)return Wt(e,n);if(t&4)return qp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Sa(n,r);{let i=n[e.index];return nr(i)?qp(-1,i):wn(i)}}else{if(t&128)return Sa(n,e.next);if(t&32)return zg(e,n)()||wn(n[e.index]);{let r=Gb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vi(n[sn]);return Sa(i,r)}else return Sa(n,e.next)}}}return null}function Gb(n,e){if(e!==null){let r=n[sn][cn],i=e.projection;return r.projection[i]}return null}function qp(n,e){let t=ht+n+1;if(t<e.length){let r=e[t],i=r[X].firstChild;if(i!==null)return Sa(r,i)}return e[yi]}function nk(n,e,t){n.removeChild(null,e,t)}function Wg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ei(wn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Wg(n,e,t.child,r,i,o,!1),Fo(e,n,i,a,o);else if(u&32){let l=zg(t,r),h;for(;h=l();)Fo(e,n,i,h,o);Fo(e,n,i,a,o)}else u&16?rk(n,e,r,t,i,o):Fo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Kl(n,e,t,r,i,o){Wg(t,r,n.firstChild,e,i,o,!1)}function rk(n,e,t,r,i,o){let s=t[sn],u=s[cn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Fo(e,n,i,h,o)}else{let l=u,h=s[ft];Mb(r)&&(l.flags|=128),Wg(n,e,l,h,i,o,!0)}}function ik(n,e,t,r,i){let o=t[yi],s=wn(t);o!==s&&Fo(e,n,r,o,i);for(let a=ht;a<t.length;a++){let u=t[a];Kl(u[X],u,n,e,r,o)}}function ok(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Qn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qn.Important),n.setStyle(t,r,i,o))}}function sk(n,e,t){n.setAttribute(e,"style",t)}function Wb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Kb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Tp(n,e,r),i!==null&&Wb(n,e,i),o!==null&&sk(n,e,o)}var Si={};function Ne(n=1){Qb(gt(),_e(),Ti()+n,!1)}function Qb(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&dl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&hl(e,o,0,t)}_i(t)}function Ee(n,e=ce.Default){let t=_e();if(t===null)return G(n,e);let r=Ct();return Db(r,t,Dt(n),e)}function Yb(n,e,t,r,i,o){let s=de(null);try{let a=null;i&kr.SignalBased&&(a=e[r][Hn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&kr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):YD(e,a,r,o)}finally{de(s)}}function ak(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)_i(~i);else{let o=i,s=t[++r],a=t[++r];Wx(s,o);let u=e[o];a(2,u)}}}finally{_i(-1)}}function Ql(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[tr]=i,p[J]=r|4|128|8|64,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),tb(p),p[ft]=p[Zo]=n,p[dt]=t,p[_n]=s||n&&n[_n],p[We]=a||n&&n[We],p[Ho]=u||n&&n[Ho]||null,p[cn]=o,p[$l]=SP(),p[Pa]=h,p[WD]=l,p[sn]=e.type==2?n[sn]:p,p}function Yl(n,e,t,r,i){let o=n.data[e];if(o===null)o=ck(n,e,t,r,i),Gx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=$x();o.injectorIndex=s===null?-1:s.injectorIndex}return Ha(o,!0),o}function ck(n,e,t,r,i){let o=sb(),s=ab(),a=s?o:o&&o.parent,u=n.data[e]=pk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Zb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jb(n,e,t,r,i){let o=Ti(),s=r&2;try{_i(-1),s&&e.length>an&&Qb(n,e,an,!1),mn(s?2:0,i),t(r,i)}finally{_i(o),mn(s?3:1,i)}}function Xb(n,e,t){if(QD(e)){let r=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{de(r)}}}function eC(n,e,t){ob()&&(wk(n,e,t,Wt(t,e)),(t.flags&64)===64&&sC(n,e,t))}function tC(n,e,t=Wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function nC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Kg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Kg(n,e,t,r,i,o,s,a,u,l,h){let p=an+r,g=p+i,y=uk(p,g),w=typeof l=="function"?l():l;return y[X]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function uk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Si);return t}function lk(n,e,t,r){let o=r.get(kP,Fb)||t===vn.ShadowDom,s=n.selectRootElement(e,o);return dk(s),s}function dk(n){hk(n)}var hk=()=>null;function fk(n,e,t,r){let i=uC(e);i.push(t),n.firstCreatePass&&lC(n).push(r,i.length-1)}function pk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return jx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cD(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=kr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?uD(r,t,l,a,u):uD(r,t,l,a)}return r}function uD(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function gk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=t?t.get(p):null,y=g?g.inputs:null,w=g?g.outputs:null;u=cD(0,p.inputs,h,u,y),l=cD(1,p.outputs,h,l,w);let R=u!==null&&s!==null&&!Eg(e)?Nk(u,h,s):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function mk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rC(n,e,t,r,i,o,s,a){let u=Wt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Qg(n,t,h,r,i),Hl(e)&&yk(t,e.index)):e.type&3?(r=mk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function yk(n,e){let t=Vr(e,n);t[J]&16||(t[J]|=64)}function iC(n,e,t,r){if(ob()){let i=r===null?null:{"":-1},o=Ek(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&oC(n,e,t,s,i,a),i&&Dk(t,r,i)}t.mergedAttrs=Na(t.mergedAttrs,t.attrs)}function oC(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Fp(Cl(t,e),n,r[l].type);Ck(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Zb(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=Na(t.mergedAttrs,h.hostAttrs),Tk(n,t,e,u,h),bk(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}gk(n,t,o)}function vk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;_k(s)!=a&&s.push(a),s.push(t,r,o)}}function _k(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function wk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Hl(t)&&Sk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Cl(t,e),Ei(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Ii(e,n,a,t);if(Ei(l,e),s!==null&&Mk(e,a-i,l,u,t,s),Or(u)){let h=Vr(t.index,e);h[dt]=Ii(e,n,a,t)}}}function sC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Kx();try{_i(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Pp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ik(u,l)}}finally{_i(-1),Pp(s)}}function Ik(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ek(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(sx(e,s.selectors,!1))if(r||(r=[]),Or(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Gp(n,e,u)}else r.unshift(s),Gp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Dk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function bk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Or(e)&&(t[""]=n)}}function Ck(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Tk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=jo(i.type,!0)),s=new wi(o,Or(i),Ee);n.blueprint[r]=s,t[r]=s,vk(n,e,r,Zb(n,t,i.hostVars,Si),i)}function Sk(n,e,t){let r=Wt(e,n),i=nC(t),o=n[_n].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Zl(n,Ql(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Ak(n,e,t,r,i,o){let s=Wt(n,e);Rk(e[We],s,o,n.value,t,r,i)}function Rk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?jl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Mk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Yb(r,t,u,l,h,p)}}function Nk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function aC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function cC(n,e){let t=n.contentQueries;if(t!==null){let r=de(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ag(o),a.contentQueries(2,e[s],s)}}}finally{de(r)}}}function Zl(n,e){return n[ka]?n[WE][on]=e:n[ka]=e,n[WE]=e,e}function Wp(n,e,t){Ag(0);let r=de(null);try{e(n,t)}finally{de(r)}}function uC(n){return n[wl]??=[]}function lC(n){return n.cleanup??=[]}function dC(n,e){let t=n[Ho],r=t?t.get(Kn,null):null;r&&r.handleError(e)}function Qg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];Yb(h,l,r,a,u,i)}}function xk(n,e,t){let r=eb(e,n);HP(n[We],r,t)}function Pk(n,e){let t=Vr(e,n),r=t[X];kk(r,t);let i=t[tr];i!==null&&t[Pa]===null&&(t[Pa]=$g(i,t[Ho])),Yg(r,t,t[dt])}function kk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Yg(n,e,t){Rg(e);try{let r=n.viewQuery;r!==null&&Wp(1,r,t);let i=n.template;i!==null&&Jb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wn]?.finishViewCreation(n),n.staticContentQueries&&cC(n,e),n.staticViewQueries&&Wp(2,n.viewQuery,t);let o=n.components;o!==null&&Ok(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,Mg()}}function Ok(n,e){for(let t=0;t<e.length;t++)Pk(n,e[t])}function Jl(n,e,t,r){let i=de(null);try{let o=e.tView,a=n[J]&4096?4096:16,u=Ql(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[mi]=l;let h=n[Wn];return h!==null&&(u[Wn]=h.createEmbeddedView(o)),Yg(o,u,t),u}finally{de(i)}}function hC(n,e){let t=ht+e;if(t<n.length)return n[t]}function Fa(n,e){return!e||e.firstChild===null||Mb(n)}function Xl(n,e,t,r=!0){let i=e[X];if(WP(i,e,n,t),r){let s=qp(t,n),a=e[We],u=qb(a,n[yi]);u!==null&&qP(i,n[cn],a,e,u,s)}let o=e[Pa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fC(n,e){let t=Oa(n,e);return t!==void 0&&Wl(t[X],t),t}function Ml(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(wn(o)),nr(o)&&Fk(o,r);let s=t.type;if(s&8)Ml(n,e,t.child,r);else if(s&32){let a=zg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Gb(e,t);if(Array.isArray(a))r.push(...a);else{let u=vi(e[sn]);Ml(u[X],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Fk(n,e){for(let t=ht;t<n.length;t++){let r=n[t],i=r[X].firstChild;i!==null&&Ml(r[X],r,i,e)}n[yi]!==n[tr]&&e.push(n[yi])}var pC=[];function Lk(n){return n[qt]??Vk(n)}function Vk(n){let e=pC.pop()??Object.create(Uk);return e.lView=n,e}function jk(n){n.lView[qt]!==n&&(n.lView=null,pC.push(n))}var Uk=ne(j({},wa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ql(n.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function Bk(n){let e=n[qt]??Object.create($k);return e.lView=n,e}var $k=ne(j({},wa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=vi(n.lView);for(;e&&!gC(e[X]);)e=vi(e);e&&nb(e)},consumerOnSignalRead(){this.lView[qt]=this}});function gC(n){return n.type!==2}var Hk=100;function mC(n,e=!0,t=0){let r=n[_n],i=r.rendererFactory,o=!1;o||i.begin?.();try{zk(n,t)}catch(s){throw e&&dC(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function zk(n,e){let t=cb();try{QE(!0),Kp(n,e);let r=0;for(;zl(n);){if(r===Hk)throw new H(103,!1);r++,Kp(n,1)}}finally{QE(t)}}function qk(n,e,t,r){let i=e[J];if((i&256)===256)return;let o=!1,s=!1;!o&&e[_n].inlineEffectRunner?.flush(),Rg(e);let a=!0,u=null,l=null;o||(gC(n)?(l=Lk(e),u=Nu(l)):JI()===null?(a=!1,l=Bk(e),u=Nu(l)):e[qt]&&(Uf(e[qt]),e[qt]=null));try{tb(e),zx(n.bindingStartIndex),t!==null&&Jb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&dl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&hl(e,y,0,null),dp(e,0)}if(s||Gk(e),yC(e,0),n.contentQueries!==null&&cC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&dl(e,y)}else{let y=n.contentHooks;y!==null&&hl(e,y,1),dp(e,1)}ak(n,e);let p=n.components;p!==null&&_C(e,p,0);let g=n.viewQuery;if(g!==null&&Wp(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&dl(e,y)}else{let y=n.viewHooks;y!==null&&hl(e,y,2),dp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[lp]){for(let y of e[lp])y();e[lp]=null}o||(e[J]&=-73)}catch(h){throw o||ql(e),h}finally{l!==null&&(Vf(l,u),a&&jk(l)),Mg()}}function yC(n,e){for(let t=xb(n);t!==null;t=Pb(t))for(let r=ht;r<t.length;r++){let i=t[r];vC(i,e)}}function Gk(n){for(let e=xb(n);e!==null;e=Pb(e)){if(!(e[J]&El.HasTransplantedViews))continue;let t=e[zo];for(let r=0;r<t.length;r++){let i=t[r];nb(i)}}}function Wk(n,e,t){let r=Vr(e,n);vC(r,t)}function vC(n,e){Sg(n)&&Kp(n,e)}function Kp(n,e){let r=n[X],i=n[J],o=n[qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jf(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)qk(r,n,r.template,n[dt]);else if(i&8192){yC(n,1);let a=r.components;a!==null&&_C(n,a,1)}}function _C(n,e,t){for(let r=0;r<e.length;r++)Wk(n,e[r],t)}function Zg(n,e){let t=cb()?64:1088;for(n[_n].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=vi(n);if(Mp(n)&&!r)return n;n=r}return null}var Di=class{get rootNodes(){let e=this._lView,t=e[X];return Ml(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dt]}set context(e){this._lView[dt]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(nr(e)){let t=e[Il],r=t?t.indexOf(this):-1;r>-1&&(Oa(e,r),vl(t,r))}this._attachedToViewContainer=!1}Wl(this._lView[X],this._lView)}onDestroy(e){rb(this._lView,e)}markForCheck(){Zg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){xp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,mC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Mp(this._lView),t=this._lView[mi];t!==null&&!e&&qg(t,this._lView),$b(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Mp(this._lView),r=this._lView[mi];r!==null&&!t&&Hb(r,this._lView),xp(this._lView)}},Go=(()=>{class n{static{this.__NG_ELEMENT_ID__=Yk}}return n})(),Kk=Go,Qk=class extends Kk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Jl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Di(i)}};function Yk(){return Jg(Ct(),_e())}function Jg(n,e){return n.type&4?new Qk(e,n,ts(n,e)):null}var h5=new RegExp(`^(\\d+)*(${xP}|${NP})*(.*)`);var Zk=()=>null;function La(n,e){return Zk(n,e)}var Wo=class{},Xg=new q("",{providedIn:"root",factory:()=>!1});var wC=new q(""),IC=new q(""),Qp=class{},Nl=class{};function Jk(n){let e=Error(`No component factory found for ${bt(n)}.`);return e[Xk]=n,e}var Xk="ngComponent";var Yp=class{resolveComponentFactory(e){throw Jk(e)}},Ko=class{static{this.NULL=new Yp}},Qo=class{},Ai=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>eO()}}return n})();function eO(){let n=_e(),e=Ct(),t=Vr(e.index,n);return(Pr(t)?t:n)[We]}var tO=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>null})}}return n})();function Zp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=LE(i,a);else if(o==2){let u=a,l=e[++s];r=LE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var xl=class extends Ko{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=gi(e);return new Va(t,this.ngModule)}};function lD(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:kr.None;e?t.push({propName:s,templateName:r,isSignal:(a&kr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function nO(n){let e=n.toLowerCase();return e==="svg"?Mx:e==="math"?Nx:null}var Va=class extends Nl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=lD(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return lD(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=lx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=de(null);try{i=i||this.ngModule;let s=i instanceof Gt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new kp(e,s):e,u=a.get(Qo,null);if(u===null)throw new H(407,!1);let l=a.get(tO,null),h=a.get(Wo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=r?lk(g,r,this.componentDef.encapsulation,a):Bb(g,y,nO(y)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let S=null;w!==null&&(S=$g(w,a,!0));let N=Kg(0,null,null,1,0,null,null,null,null,null,null),O=Ql(null,N,null,R,null,null,p,g,a,null,S);Rg(O);let V,k,fe=null;try{let Q=this.componentDef,D,_=null;Q.findHostDirectiveDefs?(D=[],_=new Map,Q.findHostDirectiveDefs(Q,D,_),D.push(Q)):D=[Q];let I=rO(O,w);fe=iO(I,w,Q,D,O,p,g),k=Tg(N,an),w&&aO(g,Q,w,r),t!==void 0&&cO(k,this.ngContentSelectors,t),V=sO(fe,Q,D,_,O,[uO]),Yg(N,O,null)}catch(Q){throw fe!==null&&Hp(fe),Hp(O),Q}finally{Mg()}return new Jp(this.componentType,V,ts(k,O),O,k)}finally{de(o)}}},Jp=class extends Qp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Di(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Qg(o[X],o,i,e,t),this.previousInputValues.set(e,t);let s=Vr(this._tNode.index,o);Zg(s,1)}}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rO(n,e){let t=n[X],r=an;return n[r]=e,Yl(t,r,2,"#host",null)}function iO(n,e,t,r,i,o,s){let a=i[X];oO(r,n,e,s);let u=null;e!==null&&(u=$g(e,i[Ho]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ql(i,nC(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Gp(a,n,r.length-1),Zl(i,p),i[n.index]=p}function oO(n,e,t,r){for(let i of n)e.mergedAttrs=Na(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zp(e,e.mergedAttrs,!0),t!==null&&Kb(r,t,e))}function sO(n,e,t,r,i,o){let s=Ct(),a=i[X],u=Wt(s,i);oC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=Ii(i,a,p,s);Ei(g,i)}sC(a,i,s),u&&Ei(u,i);let l=Ii(i,a,s.directiveStart+s.componentOffset,s);if(n[dt]=i[dt]=l,o!==null)for(let h of o)h(l,e);return Xb(a,s,i),l}function aO(n,e,t,r){if(r)Tp(n,t,["ng-version","18.2.6"]);else{let{attrs:i,classes:o}=dx(e.selectors[0]);i&&Tp(n,t,i),o&&o.length>0&&Wb(n,t,o.join(" "))}}function cO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function uO(){let n=Ct();kg(_e()[X],n)}var Ri=(()=>{class n{static{this.__NG_ELEMENT_ID__=lO}}return n})();function lO(){let n=Ct();return DC(n,_e())}var dO=Ri,EC=class extends dO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Og(this._hostTNode,this._hostLView);if(yb(e)){let t=bl(e,this._hostLView),r=Dl(e),i=t[X].data[r+8];return new pi(i,t)}else return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=dD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=La(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Fa(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Tx(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new Va(gi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(Gt,null);R&&(o=R)}let h=gi(u.componentType??{}),p=La(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,Fa(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Px(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ft],l=new EC(u,u[cn],u[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Xl(s,i,o,r),e.attachToViewContainerRef(),RD(mp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=dD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Oa(this._lContainer,t);r&&(vl(mp(this._lContainer),t),Wl(r[X],r))}detach(e){let t=this._adjustIndex(e,-1),r=Oa(this._lContainer,t);return r&&vl(mp(this._lContainer),t)!=null?new Di(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function dD(n){return n[Il]}function mp(n){return n[Il]||(n[Il]=[])}function DC(n,e){let t,r=e[n.index];return nr(r)?t=r:(t=aC(r,e,null,n),e[n.index]=t,Zl(e,t)),fO(t,e,n,r),new EC(t,n,e)}function hO(n,e){let t=n[We],r=t.createComment(""),i=Wt(e,n),o=qb(t,i);return Rl(t,o,r,JP(t,i),!1),r}var fO=mO,pO=()=>!1;function gO(n,e,t){return pO(n,e,t)}function mO(n,e,t,r){if(n[yi])return;let i;t.type&8?i=wn(r):i=hO(e,t),n[yi]=i}var Xp=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},eg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)em(e,t).matches!==null&&this.queries[t].setDirty()}},tg=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=bO(e):this.predicate=e}},ng=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},rg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,yO(t,o)),this.matchTNodeWithReadOption(e,t,fl(t,e,o,!1,!1))}else r===Go?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,fl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===un||i===Ri||i===Go&&t.type&4)this.addMatch(t.index,-2);else{let o=fl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function yO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function vO(n,e){return n.type&11?ts(n,e):n.type&4?Jg(n,e):null}function _O(n,e,t,r){return t===-1?vO(e,n):t===-2?wO(n,e,r):Ii(n,n[X],t,e)}function wO(n,e,t){if(t===un)return ts(e,n);if(t===Go)return Jg(e,n);if(t===Ri)return DC(e,n)}function bC(n,e,t,r){let i=e[Wn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(_O(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function ig(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=bC(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=ht;p<h.length;p++){let g=h[p];g[mi]===g[ft]&&ig(g[X],g,l,r)}if(h[zo]!==null){let p=h[zo];for(let g=0;g<p.length;g++){let y=p[g];ig(y[X],y,l,r)}}}}}return r}function IO(n,e){return n[Wn].queries[e].queryList}function EO(n,e,t){let r=new $p((t&4)===4);return fk(n,e,r,r.destroy),(e[Wn]??=new eg).queries.push(new Xp(r))-1}function DO(n,e,t){let r=gt();return r.firstCreatePass&&(CO(r,new tg(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),EO(r,_e(),e)}function bO(n){return n.split(",").map(e=>e.trim())}function CO(n,e,t){n.queries===null&&(n.queries=new ng),n.queries.track(new rg(e,t))}function em(n,e){return n.queries.getByIndex(e)}function TO(n,e){let t=n[X],r=em(t,e);return r.crossesNgTemplate?ig(t,n,e,[]):bC(t,n,r,e)}var hD=new Set;function ns(n){hD.has(n)||(hD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function SO(n){return typeof n=="function"&&n[Hn]!==void 0}function In(n,e){ns("NgSignals");let t=uE(n),r=t[Hn];return e?.equal&&(r.equal=e.equal),t.set=i=>Bf(r,i),t.update=i=>lE(r,i),t.asReadonly=AO.bind(t),t}function AO(){let n=this[Hn];if(n.readonlyFn===void 0){let e=()=>this();e[Hn]=n,n.readonlyFn=e}return n.readonlyFn}function CC(n){return SO(n)&&typeof n.set=="function"}function RO(n){return Object.getPrototypeOf(n.prototype).constructor}function rr(n){let e=RO(n.type),t=!0,r=[n];for(;e;){let i;if(Or(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=al(n.inputs),s.inputTransforms=al(n.inputTransforms),s.declaredInputs=al(n.declaredInputs),s.outputs=al(n.outputs);let a=i.hostBindings;a&&kO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&xO(n,u),l&&PO(n,l),MO(n,i),RN(n.outputs,i.outputs),Or(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===rr&&(t=!1)}}e=Object.getPrototypeOf(e)}NO(r)}function MO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function NO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,t=Na(t,i.hostAttrs))}}function al(n){return n===Uo?{}:n===zt?[]:n}function xO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function PO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function kO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Fr=class{},ja=class{};var og=class extends Fr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xl(this);let o=VD(e);this._bootstrapComponents=Ub(o.bootstrap),this._r3Injector=Tb(e,t,[{provide:Fr,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sg=class extends ja{constructor(e){super(),this.moduleType=e}create(e){return new og(this.moduleType,e,[])}};var Pl=class extends Fr{constructor(e){super(),this.componentFactoryResolver=new xl(this),this.instance=null;let t=new xa([...e.providers,{provide:Fr,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],e.parent||bg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function nm(n,e,t=null){return new Pl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Mi(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function OO(n){return(n.flags&32)===32}function FO(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Yl(e,n,4,s||null,a||null);iC(e,t,h,qo(l,u)),kg(e,h);let p=h.tView=Kg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function ag(n,e,t,r,i,o,s,a,u,l){let h=t+an,p=e.firstCreatePass?FO(h,e,n,r,i,o,s,a,u):e.data[h];Ha(p,!1);let g=LO(e,n,p,t);xg()&&Gg(e,n,g,p),Ei(g,n);let y=aC(g,n,g,p);return n[h]=y,Zl(n,y),gO(y,p,n),Cg(p)&&eC(e,n,p),u!=null&&tC(n,p,l),p}function Ft(n,e,t,r,i,o,s,a){let u=_e(),l=gt(),h=qo(l.consts,o);return ag(u,l,n,e,t,r,i,h,s,a),Ft}var LO=VO;function VO(n,e,t,r){return Pg(!0),e[We].createComment("")}var Aa=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Aa||{}),jO=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})(),fD=class n{constructor(){this.ngZone=x(Ce),this.scheduler=x(Wo),this.errorHandler=x(Kn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Aa.EarlyRead,Aa.Write,Aa.MixedReadWrite,Aa.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}};function Ga(n,e,t,r){let i=_e(),o=Jo();if(Mi(i,o,e)){let s=gt(),a=Ng();Ak(a,i,n,e,t,r)}return Ga}function UO(n,e,t,r){return Mi(n,Jo(),t)?e+jl(t)+r:Si}function cl(n,e){return n<<17|e<<2}function bi(n){return n>>17&32767}function BO(n){return(n&2)==2}function $O(n,e){return n&131071|e<<17}function cg(n){return n|2}function Yo(n){return(n&131068)>>2}function yp(n,e){return n&-131069|e<<2}function HO(n){return(n&1)===1}function ug(n){return n|1}function zO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bi(s),u=Yo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||$a(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=bi(n[a+1]);n[r+1]=cl(g,a),g!==0&&(n[g+1]=yp(n[g+1],r)),n[a+1]=$O(n[a+1],r)}else n[r+1]=cl(a,0),a!==0&&(n[a+1]=yp(n[a+1],r)),a=r;else n[r+1]=cl(u,0),a===0?a=r:n[u+1]=yp(n[u+1],r),u=r;l&&(n[r+1]=cg(n[r+1])),pD(n,h,r,!0),pD(n,h,r,!1),qO(e,h,n,r,o),s=cl(a,u),o?e.classBindings=s:e.styleBindings=s}function qO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&$a(o,e)>=0&&(t[r+1]=ug(t[r+1]))}function pD(n,e,t,r){let i=n[t+1],o=e===null,s=r?bi(i):Yo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];GO(u,e)&&(a=!0,n[s+1]=r?ug(l):cg(l)),s=r?bi(l):Yo(l)}a&&(n[t+1]=r?cg(i):ug(i))}function GO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?$a(n,e)>=0:!1}function ln(n,e,t){let r=_e(),i=Jo();if(Mi(r,i,e)){let o=gt(),s=Ng();rC(o,s,r,n,e,r[We],t,!1)}return ln}function gD(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Qg(n,t,o[s],s,r)}function En(n,e){return WO(n,e,null,!0),En}function WO(n,e,t,r){let i=_e(),o=gt(),s=qx(2);if(o.firstUpdatePass&&QO(o,n,s,r),e!==Si&&Mi(i,s,e)){let a=o.data[Ti()];e1(o,a,i,i[We],n,i[s+1]=t1(e,t),r,s)}}function KO(n,e){return e>=n.expandoStartIndex}function QO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ti()],s=KO(n,t);n1(o,r)&&e===null&&!s&&(e=!1),e=YO(i,o,e,r),zO(i,o,e,t,s,r)}}function YO(n,e,t,r){let i=Qx(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vp(null,n,e,t,r),t=Ua(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vp(i,n,e,t,r),o===null){let u=ZO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vp(null,n,e,u[1],r),u=Ua(u,e.attrs,r),JO(n,e,r,u))}else o=XO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function ZO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Yo(r)!==0)return n[bi(r)]}function JO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[bi(i)]=r}function XO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ua(r,s,t)}return Ua(r,e.attrs,t)}function vp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ua(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ua(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),JN(n,s,t?!0:e[++o]))}return n===void 0?null:n}function e1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=HO(l)?mD(u,e,t,i,Yo(l),s):void 0;if(!kl(h)){kl(o)||BO(l)&&(o=mD(u,null,t,i,a,s));let p=eb(Ti(),t);ok(r,s,p,i,o)}}function mD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Si&&(g=p?zt:void 0);let y=p?cp(g,r):h===r?g:void 0;if(l&&!kl(y)&&(y=cp(u,r)),kl(y)&&(a=y,s))return a;let w=n[i+1];i=s?bi(w):Yo(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=cp(u,r))}return a}function kl(n){return n!==void 0}function t1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(qa(n)))),n}function n1(n,e){return(n.flags&(e?8:16))!==0}var lg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function _p(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function r1(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=_p(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),y=e[u],w=_p(s,g,u,y,t);if(w!==0){w<0&&n.updateValue(s,y),s--,u--;continue}let R=t(o,l),S=t(s,g),N=t(o,h);if(Object.is(N,S)){let O=t(u,y);Object.is(O,R)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Ol,i??=vD(n,o,s,t),dg(n,r,o,N))n.updateValue(o,h),o++,s++;else if(i.has(N))r.set(R,n.detach(o)),s--;else{let O=n.create(o,e[o]);n.attach(o,O),o++,s++}}for(;o<=u;)yD(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=_p(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new Ol,i??=vD(n,o,s,t);let y=t(o,p);if(dg(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let w=t(o,h);r.set(w,n.detach(o)),s--}}}for(;!l.done;)yD(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function dg(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function yD(n,e,t,r,i){if(dg(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function vD(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Ol=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function ir(n,e){ns("NgControlFlow");let t=_e(),r=Jo(),i=t[r]!==Si?t[r]:-1,o=i!==-1?Fl(t,an+i):void 0,s=0;if(Mi(t,r,n)){let a=de(null);try{if(o!==void 0&&fC(o,s),n!==-1){let u=an+n,l=Fl(t,u),h=gg(t[X],u),p=La(l,h.tView.ssrId),g=Jl(t,h,e,{dehydratedView:p});Xl(l,g,s,Fa(h,p))}}finally{de(a)}}else if(o!==void 0){let a=hC(o,s);a!==void 0&&(a[dt]=e)}}var hg=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ht}};function TC(n,e){return e}var fg=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function SC(n,e,t,r,i,o,s,a,u,l,h,p,g){ns("NgControlFlow");let y=_e(),w=gt(),R=u!==void 0,S=_e(),N=a?s.bind(S[sn][dt]):s,O=new fg(R,N);S[an+n]=O,ag(y,w,n+1,e,t,r,i,qo(w.consts,o)),R&&ag(y,w,n+2,u,l,h,p,qo(w.consts,g))}var pg=class extends lg{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ht}at(e){return this.getLView(e)[dt].$implicit}attach(e,t){let r=t[Pa];this.needsIndexUpdate||=e!==this.length,Xl(this.lContainer,t,e,Fa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,i1(this.lContainer,e)}create(e,t){let r=La(this.lContainer,this.templateTNode.tView.ssrId),i=Jl(this.hostLView,this.templateTNode,new hg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Wl(e[X],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[dt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[dt].$index=e}getLView(e){return o1(this.lContainer,e)}};function AC(n){let e=de(null),t=Ti();try{let r=_e(),i=r[X],o=r[t],s=t+1,a=Fl(r,s);if(o.liveCollection===void 0){let l=gg(i,s);o.liveCollection=new pg(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(r1(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Jo(),h=u.length===0;if(Mi(r,l,h)){let p=t+2,g=Fl(r,p);if(h){let y=gg(i,p),w=La(g,y.tView.ssrId),R=Jl(r,y,void 0,{dehydratedView:w});Xl(g,R,0,Fa(y,w))}else fC(g,0)}}}finally{de(e)}}function Fl(n,e){return n[e]}function i1(n,e){return Oa(n,e)}function o1(n,e){return hC(n,e)}function gg(n,e){return Tg(n,e)}function s1(n,e,t,r,i,o){let s=e.consts,a=qo(s,i),u=Yl(e,n,2,r,a);return iC(e,t,u,qo(s,o)),u.attrs!==null&&Zp(u,u.attrs,!1),u.mergedAttrs!==null&&Zp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function le(n,e,t,r){let i=_e(),o=gt(),s=an+n,a=i[We],u=o.firstCreatePass?s1(s,o,i,e,t,r):o.data[s],l=a1(o,i,u,a,e,n);i[s]=l;let h=Cg(u);return Ha(u,!0),Kb(a,l,u),!OO(u)&&xg()&&Gg(o,i,l,u),Fx()===0&&Ei(l,i),Lx(),h&&(eC(o,i,u),Xb(o,u,i)),r!==null&&tC(i,u),le}function ae(){let n=Ct();ab()?Hx():(n=n.parent,Ha(n,!1));let e=n;Ux(e)&&Bx(),Vx();let t=gt();return t.firstCreatePass&&(kg(t,n),QD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&nP(e)&&gD(t,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rP(e)&&gD(t,e,_e(),e.stylesWithoutHost,!1),ae}function rs(n,e,t,r){return le(n,e,t,r),ae(),rs}var a1=(n,e,t,r,i,o)=>(Pg(!0),Bb(r,i,Jx()));function or(){return _e()}var Ll="en-US";var c1=Ll;function u1(n){typeof n=="string"&&(c1=n.toLowerCase().replace(/_/g,"-"))}var l1=(n,e,t)=>{};function Ve(n,e,t,r){let i=_e(),o=gt(),s=Ct();return RC(o,i,i[We],s,n,e,r),Ve}function d1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[wl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function RC(n,e,t,r,i,o,s){let a=Cg(r),l=n.firstCreatePass&&lC(n),h=e[dt],p=uC(e),g=!0;if(r.type&3||s){let R=Wt(r,e),S=s?s(R):R,N=p.length,O=s?k=>s(wn(k[r.index])):r.index,V=null;if(!s&&a&&(V=d1(n,e,i,r.index)),V!==null){let k=V.__ngLastListenerFn__||V;k.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,g=!1}else{o=wD(r,e,h,o),l1(R,i,o);let k=t.listen(S,i,o);p.push(o,k),l&&l.push(i,O,N,N+1)}}else o=wD(r,e,h,o);let y=r.outputs,w;if(g&&y!==null&&(w=y[i])){let R=w.length;if(R)for(let S=0;S<R;S+=2){let N=w[S],O=w[S+1],fe=e[N][O].subscribe(o),Q=p.length;p.push(o,fe),l&&l.push(i,r.index,Q,-(Q+1))}}}function _D(n,e,t,r){let i=de(null);try{return mn(6,e,t),t(r)!==!1}catch(o){return dC(n,o),!1}finally{mn(7,e,t),de(i)}}function wD(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Vr(n.index,e):e;Zg(s,5);let a=_D(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=_D(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ze(n=1){return Zx(n)}function MC(n,e,t){DO(n,e,t)}function rm(n){let e=_e(),t=gt(),r=ub();Ag(r+1);let i=em(t,r);if(n.dirty&&xx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=TO(e,r);n.reset(o,bP),n.notifyOnChanges()}return!0}return!1}function im(){return IO(_e(),ub())}function xe(n,e=""){let t=_e(),r=gt(),i=n+an,o=r.firstCreatePass?Yl(r,i,1,e,null):r.data[i],s=h1(r,t,o,e,n);t[i]=s,xg()&&Gg(r,t,s,o),Ha(o,!1)}var h1=(n,e,t,r,i)=>(Pg(!0),$P(e[We],r));function Ni(n){return ed("",n,""),Ni}function ed(n,e,t){let r=_e(),i=UO(r,n,e,t);return i!==Si&&xk(r,Ti(),i),ed}function Ur(n,e,t){CC(e)&&(e=e());let r=_e(),i=Jo();if(Mi(r,i,e)){let o=gt(),s=Ng();rC(o,s,r,n,e,r[We],t,!1)}return Ur}function xi(n,e){let t=CC(n);return t&&n.set(e),t}function Br(n,e){let t=_e(),r=gt(),i=Ct();return RC(r,t,t[We],i,n,e),Br}function f1(n,e,t){let r=gt();if(r.firstCreatePass){let i=Or(n);mg(t,r.data,r.blueprint,i,!0),mg(e,r.data,r.blueprint,i,!1)}}function mg(n,e,t,r,i){if(n=Dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)mg(n[o],e,t,r,i);else{let o=gt(),s=_e(),a=Ct(),u=$o(n)?n:Dt(n.provide),l=zD(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if($o(n)||!n.multi){let y=new wi(l,i,Ee),w=Ip(u,e,i?h:h+g,p);w===-1?(Fp(Cl(a,s),o,u),wp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{let y=Ip(u,e,h+g,p),w=Ip(u,e,h,h+g),R=y>=0&&t[y],S=w>=0&&t[w];if(i&&!S||!i&&!R){Fp(Cl(a,s),o,u);let N=m1(i?g1:p1,t.length,i,r,l);!i&&S&&(t[w].providerFactory=N),wp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else{let N=NC(t[i?w:y],l,!i&&r);wp(o,n,y>-1?y:w,N)}!i&&r&&S&&t[w].componentProviders++}}}function wp(n,e,t,r){let i=$o(e),o=_x(e);if(i||o){let u=(o?Dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function NC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ip(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function p1(n,e,t,r){return yg(this.multi,[])}function g1(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ii(t,t[X],this.providerFactory.index,r);o=a.slice(0,s),yg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],yg(i,o);return o}function yg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function m1(n,e,t,r,i){let o=new wi(n,t,Ee);return o.multi=[],o.index=e,o.componentProviders=0,NC(o,i,r&&!t),o}function Wa(n,e=[]){return t=>{t.providersResolver=(r,i)=>f1(r,i?i(n):n,e)}}var y1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=BD(!1,t.type),i=r.length>0?nm([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(G(Gt))})}}return n})();function Nt(n){ns("NgStandalone"),n.getStandaloneInjector=e=>e.get(y1).getOrCreateStandaloneInjector(n)}var Yn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},td=new Yn("18.2.6");var nd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var xC=new q("");function Pi(n){return!!n&&typeof n.then=="function"}function PC(n){return!!n&&typeof n.subscribe=="function"}var kC=new q(""),OC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(kC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Pi(o))t.push(o);else if(PC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),om=new q("");function v1(){cE(()=>{throw new H(600,!1)})}function _1(n){return n.isBoundToModule}var w1=10;function I1(n,e,t){try{let r=t();return Pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ki=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(EP),this.afterRenderManager=x(jO),this.zonelessEnabled=x(Xg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Me,this.afterTick=new Me,this.componentTypes=[],this.components=[],this.isStable=x(es).hasPendingTasks.pipe(K(t=>!t)),this._injector=x(Gt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Nl;if(!this._injector.get(OC).done){let g=!i&&LD(t),y=!1;throw new H(405,y)}let s;i?s=t:s=this._injector.get(Ko).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=_1(s)?void 0:this._injector.get(Fr),u=r||s.selector,l=s.create(nt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(xC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),pl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let t=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Qo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<w1;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)E1(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>zl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;pl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(om,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function E1(n,e,t,r){if(!t&&!zl(n))return;mC(n,e,t&&!r?0:1)}var vg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},sm=(()=>{class n{compileModuleSync(t){return new sg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=VD(t),o=Ub(i.declarations).reduce((s,a)=>{let u=gi(a);return u&&s.push(new Va(u)),s},[]);return new vg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var D1=(()=>{class n{constructor(){this.zone=x(Ce),this.changeDetectionScheduler=x(Wo),this.applicationRef=x(ki)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function b1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(ne(j({},C1()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:Bo,multi:!0,useFactory:()=>{let r=x(D1,{optional:!0});return()=>r.initialize()}},{provide:Bo,multi:!0,useFactory:()=>{let r=x(T1);return()=>{r.initialize()}}},e===!0?{provide:wC,useValue:!0}:[],{provide:IC,useValue:t??Sb}]}function C1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var T1=(()=>{class n{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=x(Ce),this.pendingTasks=x(es)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S1=(()=>{class n{constructor(){this.appRef=x(ki),this.taskService=x(es),this.ngZone=x(Ce),this.zonelessEnabled=x(Xg),this.disableScheduling=x(wC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(IC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?tD:Ab;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,tD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A1(){return typeof $localize<"u"&&$localize.locale||Ll}var am=new q("",{providedIn:"root",factory:()=>x(am,ce.Optional|ce.SkipSelf)||A1()});var FC=new q("");function ul(n){return!!n.platformInjector}function R1(n){let e=ul(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{ul(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Kn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ul(n)){let o=()=>e.destroy(),s=n.platformInjector.get(FC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{pl(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return I1(r,t,()=>{let o=e.get(OC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(am,Ll);if(u1(s||Ll),ul(n)){let a=e.get(ki);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return M1(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function M1(n,e){let t=n.injector.get(ki);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}var gl=null;function N1(n=[],e){return nt.create({name:e,providers:[{provide:Bl,useValue:"platform"},{provide:FC,useValue:new Set([()=>gl=null])},...n]})}function x1(n=[]){if(gl)return gl;let e=N1(n);return gl=e,v1(),P1(e),e}function P1(n){n.get(Ug,null)?.forEach(t=>t())}var Oi=(()=>{class n{static{this.__NG_ELEMENT_ID__=k1}}return n})();function k1(n){return O1(Ct(),_e(),(n&16)===16)}function O1(n,e,t){if(Hl(n)&&!t){let r=Vr(n.index,e);return new Di(r,r)}else if(n.type&175){let r=e[sn];return new Di(r,e)}return null}function LC(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=x1(r),o=[b1({}),{provide:Wo,useExisting:S1},...t||[]],s=new Pl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return R1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var VC=new q("");function $r(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Fi(n,e){ns("NgSignals");let t=oE(n);return e?.equal&&(t[Hn].equal=e.equal),t}function Dn(n){let e=de(null);try{return n()}finally{de(e)}}var $C=null;function sr(){return $C}function HC(n){$C??=n}var rd=class{};var Lt=new q(""),zC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(F1),providedIn:"platform"})}}return n})();var F1=(()=>{class n extends zC{constructor(){super(),this._doc=x(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sr().getBaseHref(this._doc)}onPopState(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function qC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function jC(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Li(n){return n&&n[0]!=="?"?"?"+n:n}var is=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(GC),providedIn:"root"})}}return n})(),L1=new q(""),GC=(()=>{class n extends is{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Li(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Li(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Li(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G(zC),G(L1,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dn=(()=>{class n{constructor(t){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=U1(jC(UC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Li(r))}normalize(t){return n.stripTrailingSlash(j1(this._basePath,UC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Li(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Li(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Li}static{this.joinWithSlash=qC}static{this.stripTrailingSlash=jC}static{this.\u0275fac=function(r){return new(r||n)(G(is))}}static{this.\u0275prov=B({token:n,factory:()=>V1(),providedIn:"root"})}}return n})();function V1(){return new dn(G(is))}function j1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function UC(n){return n.replace(/\/index.html$/,"")}function U1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function WC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var od=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){BC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){BC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ee(Ri),Ee(Go))}}static{this.\u0275dir=pt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),cm=class{constructor(){this.$implicit=null,this.ngIf=null}};function BC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${bt(e)}'.`)}var um=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jn({type:n})}static{this.\u0275inj=Zn({})}}return n})(),KC="browser",B1="server";function lm(n){return n===B1}var id=class{};var pm=class extends rd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},gm=class n extends pm{static makeCurrent(){HC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$1();return t==null?null:H1(t)}resetBaseElement(){Ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return WC(document.cookie,e)}},Ka=null;function $1(){return Ka=Ka||document.querySelector("base"),Ka?Ka.getAttribute("href"):null}function H1(n){return new URL(n,document.baseURI).pathname}var z1=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),sd=new q(""),JC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(G(sd),G(Ce))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Qa=class{constructor(e){this._doc=e}},hm="ng-app-id",XC=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lm(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${hm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(hm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(hm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(G(Lt),G(jg),G(Bg,8),G(jr))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),fm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ym=/%COMP%/g,e0="%COMP%",q1=`_nghost-${e0}`,G1=`_ngcontent-${e0}`,W1=!0,K1=new q("",{providedIn:"root",factory:()=>W1});function Q1(n){return G1.replace(ym,n)}function Y1(n){return q1.replace(ym,n)}function t0(n,e){return e.map(t=>t.replace(ym,n))}var QC=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=lm(a),this.defaultRenderer=new Ya(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=ne(j({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ad?i.applyToHost(t):i instanceof Za&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case vn.Emulated:o=new ad(u,l,r,this.appId,h,s,a,p);break;case vn.ShadowDom:return new mm(u,l,t,r,s,a,this.nonce,p);default:o=new Za(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(G(JC),G(XC),G(jg),G(K1),G(Lt),G(jr),G(Ce),G(Bg))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Ya=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(YC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(YC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(t,r,i&Qn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function YC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var mm=class extends Ya{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=t0(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Ya{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?t0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ad=class extends Za{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=Q1(l),this.hostAttr=Y1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Z1=(()=>{class n extends Qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(G(Lt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),J1=(()=>{class n extends Qa{constructor(t){super(t),this.delegate=x(VC,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(G(Lt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),ZC=["alt","control","meta","shift"],X1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},tF=(()=>{class n extends Qa{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ZC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=X1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZC.forEach(s=>{if(s!==i){let a=eF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(G(Lt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function n0(n,e){return LC(j({rootComponent:n},nF(e)))}function nF(n){return{appProviders:[...aF,...n?.providers??[]],platformProviders:sF}}function rF(){gm.makeCurrent()}function iF(){return new Kn}function oF(){return Ob(document),document}var sF=[{provide:jr,useValue:KC},{provide:Ug,useValue:rF,multi:!0},{provide:Lt,useFactory:oF,deps:[]}];var aF=[{provide:Bl,useValue:"root"},{provide:Kn,useFactory:iF,deps:[]},{provide:sd,useClass:Z1,multi:!0,deps:[Lt,Ce,jr]},{provide:sd,useClass:tF,multi:!0,deps:[Lt]},{provide:sd,useClass:J1,multi:!0},QC,XC,JC,{provide:Qo,useExisting:QC},{provide:id,useClass:z1,deps:[]},[]];var r0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(G(Lt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var h0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(Ai),Ee(un))}}static{this.\u0275dir=pt({type:n})}}return n})(),uF=(()=>{class n extends h0{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xo(n)))(i||n)}})()}static{this.\u0275dir=pt({type:n,features:[rr]})}}return n})(),f0=new q("");var lF={provide:f0,useExisting:Ci(()=>Hr),multi:!0};function dF(){let n=sr()?sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var hF=new q(""),Hr=(()=>{class n extends h0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dF())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(Ai),Ee(un),Ee(hF,8))}}static{this.\u0275dir=pt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ve("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Wa([lF]),rr]})}}return n})();function fF(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var _m=new q(""),p0=new q("");function pF(n){return fF(n.value)?{required:!0}:null}function i0(n){return null}function g0(n){return n!=null}function m0(n){return Pi(n)?pe(n):n}function y0(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function v0(n,e){return e.map(t=>t(n))}function gF(n){return!n.validate}function _0(n){return n.map(e=>gF(e)?e:t=>e.validate(t))}function mF(n){if(!n)return null;let e=n.filter(g0);return e.length==0?null:function(t){return y0(v0(t,e))}}function wm(n){return n!=null?mF(_0(n)):null}function yF(n){if(!n)return null;let e=n.filter(g0);return e.length==0?null:function(t){let r=v0(t,e).map(m0);return tp(r).pipe(K(y0))}}function Im(n){return n!=null?yF(_0(n)):null}function o0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vF(n){return n._rawValidators}function _F(n){return n._rawAsyncValidators}function vm(n){return n?Array.isArray(n)?n:[n]:[]}function ud(n,e){return Array.isArray(n)?n.includes(e):n===e}function s0(n,e){let t=vm(e);return vm(n).forEach(i=>{ud(t,i)||t.push(i)}),t}function a0(n,e){return vm(e).filter(t=>!ud(n,t))}var ld=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Im(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},as=class extends ld{get formDirective(){return null}get path(){return null}},rc=class extends ld{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},dd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},wF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},S6=ne(j({},wF),{"[class.ng-submitted]":"isSubmitted"}),us=(()=>{class n extends dd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(rc,2))}}static{this.\u0275dir=pt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&En("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[rr]})}}return n})(),w0=(()=>{class n extends dd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(as,10))}}static{this.\u0275dir=pt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&En("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[rr]})}}return n})();var Ja="VALID",cd="INVALID",os="PENDING",Xa="DISABLED",cs=class{},hd=class extends cs{constructor(e,t){super(),this.value=e,this.source=t}},tc=class extends cs{constructor(e,t){super(),this.pristine=e,this.source=t}},nc=class extends cs{constructor(e,t){super(),this.touched=e,this.source=t}},ss=class extends cs{constructor(e,t){super(),this.status=e,this.source=t}};function I0(n){return(gd(n)?n.validators:n)||null}function IF(n){return Array.isArray(n)?wm(n):n||null}function E0(n,e){return(gd(e)?e.asyncValidators:n)||null}function EF(n){return Array.isArray(n)?Im(n):n||null}function gd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function DF(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function bF(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var fd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fi(()=>this.statusReactive()),this.statusReactive=In(void 0),this._pristine=Fi(()=>this.pristineReactive()),this.pristineReactive=In(!0),this._touched=Fi(()=>this.touchedReactive()),this.touchedReactive=In(!1),this._events=new Me,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ja}get invalid(){return this.status===cd}get pending(){return this.status==os}get disabled(){return this.status===Xa}get enabled(){return this.status!==Xa}get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(s0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(s0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(a0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(a0(e,this._rawAsyncValidators))}hasValidator(e){return ud(this._rawValidators,e)}hasAsyncValidator(e){return ud(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new nc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new tc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new tc(!0,r))}markAsPending(e={}){this.status=os;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ss(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this.errors=null,this._forEachChild(i=>{i.disable(ne(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hd(this.value,r)),this._events.next(new ss(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this._forEachChild(r=>{r.enable(ne(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===os)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hd(this.value,t)),this._events.next(new ss(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xa:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=os,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=m0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ss(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Xa:this.errors?cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(os)?os:this._anyControlsHaveStatus(cd)?cd:Ja}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new tc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=IF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=EF(this._rawAsyncValidators)}},pd=class extends fd{constructor(e,t,r){super(I0(t),E0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bF(this,!0,e),Object.keys(e).forEach(r=>{DF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Em=new q("CallSetDisabledState",{providedIn:"root",factory:()=>Dm}),Dm="always";function CF(n,e){return[...e.path,n]}function D0(n,e,t=Dm){b0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),SF(n,e),RF(n,e),AF(n,e),TF(n,e)}function c0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function TF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function b0(n,e){let t=vF(n);e.validator!==null?n.setValidators(o0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=_F(n);e.asyncValidator!==null?n.setAsyncValidators(o0(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();c0(e._rawValidators,i),c0(e._rawAsyncValidators,i)}function SF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&C0(n,e)})}function AF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&C0(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function C0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function MF(n,e){n==null,b0(n,e)}function NF(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function xF(n){return Object.getPrototypeOf(n.constructor)===uF}function PF(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kF(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Hr?t=o:xF(o)?r=o:i=o}),i||r||t||null}var OF={provide:as,useExisting:Ci(()=>bm)},ec=Promise.resolve(),bm=(()=>{class n extends as{get submitted(){return Dn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Fi(()=>this.submittedReactive()),this.submittedReactive=In(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new pd({},wm(t),Im(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ec.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),D0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ec.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ec.then(()=>{let r=this._findContainer(t.path),i=new pd({});MF(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ec.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ec.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),PF(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Ee(_m,10),Ee(p0,10),Ee(Em,8))}}static{this.\u0275dir=pt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wa([OF]),rr]})}}return n})();function u0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function l0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var FF=class extends fd{constructor(e=null,t,r){super(I0(t),E0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(l0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){u0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){u0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){l0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LF={provide:rc,useExisting:Ci(()=>Vi)},d0=Promise.resolve(),Vi=(()=>{class n extends rc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new FF,this._registered=!1,this.name="",this.update=new Oe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=kF(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),NF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){D0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){d0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&$r(r);d0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?CF(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Ee(as,9),Ee(_m,10),Ee(p0,10),Ee(f0,10),Ee(Oi,8),Ee(Em,8))}}static{this.\u0275dir=pt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wa([LF]),rr,Lr]})}}return n})(),T0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var VF=(()=>{class n{constructor(){this._validator=i0}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):i0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pt({type:n,features:[Lr]})}}return n})();var jF={provide:_m,useExisting:Ci(()=>Cm),multi:!0};var Cm=(()=>{class n extends VF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$r,this.createValidator=t=>pF}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xo(n)))(i||n)}})()}static{this.\u0275dir=pt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ga("required",i._enabled?"":null)},inputs:{required:"required"},features:[Wa([jF]),rr]})}}return n})();var UF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jn({type:n})}static{this.\u0275inj=Zn({})}}return n})();var ls=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Em,useValue:t.callSetDisabledState??Dm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jn({type:n})}static{this.\u0275inj=Zn({imports:[UF]})}}return n})();var A0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},BF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(A0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Am;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Am=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$F=function(n){let e=A0(n);return R0.encodeByteArray(e,!0)},ic=function(n){return $F(n).replace(/\./g,"")},Mm=function(n){try{return R0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zF=()=>HF().__FIREBASE_DEFAULTS__,qF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mm(n[1]);return e&&JSON.parse(e)},yd=()=>{try{return zF()||qF()||GF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nm=n=>{var e,t;return(t=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},M0=n=>{let e=Nm(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xm=()=>{var n;return(n=yd())===null||n===void 0?void 0:n.config},Pm=n=>{var e;return(e=yd())===null||e===void 0?void 0:e[`_${n}`]};var md=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function N0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ic(JSON.stringify(t)),ic(JSON.stringify(s)),""].join(".")}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function WF(){var n;let e=(n=yd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function O0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F0(){let n=Je();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function L0(){return!WF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function km(){try{return typeof indexedDB=="object"}catch{return!1}}function V0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var KF="FirebaseError",Vt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=KF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ar.prototype.create)}},ar=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?QF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vt(i,a,r)}};function QF(n,e){return n.replace(YF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YF=/\{\$([^}]+)}/g;function j0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ji(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(S0(o)&&S0(s)){if(!ji(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function S0(n){return n!==null&&typeof n=="object"}function oc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ds(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function hs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function U0(n,e){let t=new Rm(n,e);return t.subscribe.bind(t)}var Rm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ZF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sm),i.error===void 0&&(i.error=Sm),i.complete===void 0&&(i.complete=Sm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sm(){}var M6=4*60*60*1e3;function Ke(n){return n&&n._delegate?n._delegate:n}var Yt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ui="[DEFAULT]";var Om=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new md;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XF(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JF(n){return n===Ui?void 0:n}function XF(n){return n.instantiationMode==="EAGER"}var vd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Om(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var eL=[],ge=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ge||{}),tL={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},nL=ge.INFO,rL={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},iL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=rL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zr=class{constructor(e){this.name=e,this._logLevel=nL,this._logHandler=iL,this._userLogHandler=null,eL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var oL=(n,e)=>e.some(t=>n instanceof t),B0,$0;function sL(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aL(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var H0=new WeakMap,Lm=new WeakMap,z0=new WeakMap,Fm=new WeakMap,jm=new WeakMap;function cL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(bn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&H0.set(t,n)}).catch(()=>{}),jm.set(e,n),e}function uL(n){if(Lm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Lm.set(n,e)}var Vm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||z0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function q0(n){Vm=n(Vm)}function lL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(_d(this),e,...t);return z0.set(r,e.sort?e.sort():[e]),bn(r)}:aL().includes(n)?function(...e){return n.apply(_d(this),e),bn(H0.get(this))}:function(...e){return bn(n.apply(_d(this),e))}}function dL(n){return typeof n=="function"?lL(n):(n instanceof IDBTransaction&&uL(n),oL(n,sL())?new Proxy(n,Vm):n)}function bn(n){if(n instanceof IDBRequest)return cL(n);if(Fm.has(n))return Fm.get(n);let e=dL(n);return e!==n&&(Fm.set(n,e),jm.set(e,n)),e}var _d=n=>jm.get(n);function W0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(bn(s.result),u.oldVersion,u.newVersion,bn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var hL=["get","getKey","getAll","getAllKeys","count"],fL=["put","add","delete","clear"],Um=new Map;function G0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=fL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hL.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Um.set(e,o),o}q0(n=>ne(j({},n),{get:(e,t,r)=>G0(e,t)||n.get(e,t,r),has:(e,t)=>!!G0(e,t)||n.has(e,t)}));var $m=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function pL(n){let e=n.getComponent();return e?.type==="VERSION"}var Hm="@firebase/app",K0="0.10.11";var cr=new zr("@firebase/app"),gL="@firebase/app-compat",mL="@firebase/analytics-compat",yL="@firebase/analytics",vL="@firebase/app-check-compat",_L="@firebase/app-check",wL="@firebase/auth",IL="@firebase/auth-compat",EL="@firebase/database",DL="@firebase/database-compat",bL="@firebase/functions",CL="@firebase/functions-compat",TL="@firebase/installations",SL="@firebase/installations-compat",AL="@firebase/messaging",RL="@firebase/messaging-compat",ML="@firebase/performance",NL="@firebase/performance-compat",xL="@firebase/remote-config",PL="@firebase/remote-config-compat",kL="@firebase/storage",OL="@firebase/storage-compat",FL="@firebase/firestore",LL="@firebase/vertexai-preview",VL="@firebase/firestore-compat",jL="firebase",UL="10.13.2";var zm="[DEFAULT]",BL={[Hm]:"fire-core",[gL]:"fire-core-compat",[yL]:"fire-analytics",[mL]:"fire-analytics-compat",[_L]:"fire-app-check",[vL]:"fire-app-check-compat",[wL]:"fire-auth",[IL]:"fire-auth-compat",[EL]:"fire-rtdb",[DL]:"fire-rtdb-compat",[bL]:"fire-fn",[CL]:"fire-fn-compat",[TL]:"fire-iid",[SL]:"fire-iid-compat",[AL]:"fire-fcm",[RL]:"fire-fcm-compat",[ML]:"fire-perf",[NL]:"fire-perf-compat",[xL]:"fire-rc",[PL]:"fire-rc-compat",[kL]:"fire-gcs",[OL]:"fire-gcs-compat",[FL]:"fire-fst",[VL]:"fire-fst-compat",[LL]:"fire-vertex","fire-js":"fire-js",[jL]:"fire-js-all"};var sc=new Map,$L=new Map,qm=new Map;function Q0(n,e){try{n.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gr(n){let e=n.name;if(qm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,n);for(let t of sc.values())Q0(t,n);for(let t of $L.values())Q0(t,n);return!0}function cc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cn(n){return n.settings!==void 0}var HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new ar("app","Firebase",HL);var Gm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};var Wr=UL;function Qm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(t||(t=xm()),!t)throw qr.create("no-options");let o=sc.get(i);if(o){if(ji(t,o.options)&&ji(r,o.config))return o;throw qr.create("duplicate-app",{appName:i})}let s=new vd(i);for(let u of qm.values())s.addComponent(u);let a=new Gm(t,r,s);return sc.set(i,a),a}function fs(n=zm){let e=sc.get(n);if(!e&&n===zm&&xm())return Qm();if(!e)throw qr.create("no-app",{appName:n});return e}function wd(){return Array.from(sc.values())}function Be(n,e,t){var r;let i=(r=BL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(a.join(" "));return}Gr(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zL="firebase-heartbeat-database",qL=1,ac="firebase-heartbeat-store",Bm=null;function X0(){return Bm||(Bm=W0(zL,qL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ac)}catch(t){console.warn(t)}}}}).catch(n=>{throw qr.create("idb-open",{originalErrorMessage:n.message})})),Bm}function GL(n){return v(this,null,function*(){try{let t=(yield X0()).transaction(ac),r=yield t.objectStore(ac).get(eT(n));return yield t.done,r}catch(e){if(e instanceof Vt)cr.warn(e.message);else{let t=qr.create("idb-get",{originalErrorMessage:e?.message});cr.warn(t.message)}}})}function Y0(n,e){return v(this,null,function*(){try{let r=(yield X0()).transaction(ac,"readwrite");yield r.objectStore(ac).put(e,eT(n)),yield r.done}catch(t){if(t instanceof Vt)cr.warn(t.message);else{let r=qr.create("idb-set",{originalErrorMessage:t?.message});cr.warn(r.message)}}})}function eT(n){return`${n.name}!${n.options.appId}`}var WL=1024,KL=30*24*60*60*1e3,Wm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Km(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Z0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=KL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){cr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Z0(),{heartbeatsToSend:r,unsentEntries:i}=QL(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return cr.warn(t),""}})}};function Z0(){return new Date().toISOString().substring(0,10)}function QL(n,e=WL){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),J0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),J0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Km=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return km()?V0().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield GL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Y0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Y0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function J0(n){return ic(JSON.stringify({version:2,heartbeats:n})).length}function YL(n){Gr(new Yt("platform-logger",e=>new $m(e),"PRIVATE")),Gr(new Yt("heartbeat",e=>new Wm(e),"PRIVATE")),Be(Hm,K0,n),Be(Hm,K0,"esm2017"),Be("fire-js","")}YL("");var ZL="firebase",JL="10.13.2";Be(ZL,JL,"app");var $i=new Yn("ANGULARFIRE2_VERSION");function Ed(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var uc=(n,e)=>{let t=e?[e]:wd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},gs=class{constructor(){return uc(XL)}},XL="app-check";function ps(){}var Id=class{zone;delegate;constructor(e,t=Zf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Ym=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),t.pipe(Ae({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ms=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Id(Zone.current)),this.insideAngular=t.run(()=>new Id(Zone.current,Yf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(G(Ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function eV(n){return Dd().ngZone.runOutsideAngular(()=>n())}function Bi(n){return Dd().ngZone.run(()=>n())}function tV(n){return nV(Dd())(n)}function nV(n){return function(t){return t=t.lift(new Ym(n.ngZone)),t.pipe(Rr(n.outsideAngular),Ar(n.insideAngular))}}var rV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bi(()=>n.apply(void 0,r))},xt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps))),r[o]=rV(r[o],t));let i=eV(()=>n.apply(this,r));if(!e)if(i instanceof ue){let o=Dd();return i.pipe(Rr(o.outsideAngular),Ar(o.insideAngular))}else return Bi(()=>i);return i instanceof ue?i.pipe(tV):i instanceof Promise?Bi(()=>new Promise((o,s)=>i.then(a=>Bi(()=>o(a)),a=>Bi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Bi(()=>i)};var ur=class{constructor(e){return e}},Hi=class{constructor(){return wd()}};function iV(n){return n&&n.length===1?n[0]:new ur(fs())}var Zm=new q("angularfire2._apps"),oV={provide:ur,useFactory:iV,deps:[[new Rt,Zm]]},sV={provide:Hi,deps:[[new Rt,Zm]]};function aV(n){return(e,t)=>{let r=t.get(jr);Be("angularfire",$i.full,"core"),Be("angularfire",$i.full,"app"),Be("angular",td.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ur(i)}}function tT(n,...e){return Xn([oV,sV,{provide:Zm,useFactory:aV(n),multi:!0,deps:[Ce,nt,ms,...e]}])}var nT=xt(Qm,!0);function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var IT=wT,ET=new ar("auth","Firebase",wT());var Rd=new zr("@firebase/auth");function cV(n,...e){Rd.logLevel<=ge.WARN&&Rd.warn(`Auth (${Wr}): ${n}`,...e)}function Cd(n,...e){Rd.logLevel<=ge.ERROR&&Rd.error(`Auth (${Wr}): ${n}`,...e)}function Sn(n,...e){throw _y(n,...e)}function zi(n,...e){return _y(n,...e)}function DT(n,e,t){let r=Object.assign(Object.assign({},IT()),{[e]:t});return new ar("auth","Firebase",r).create(e,{appName:n.name})}function Qr(n){return DT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _y(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ET.create(n,...e)}function Y(n,e,...t){if(!n)throw _y(e,...t)}function lr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Cd(e),new Error(e)}function Yr(n,e){n||lr(e)}function ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uV(){return rT()==="http:"||rT()==="https:"}function rT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function lV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uV()||k0()||"connection"in navigator)?navigator.onLine:!0}function dV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var qi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=x0()||O0()}get(){return lV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wy(n,e){Yr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Md=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fV=new qi(3e4,6e4);function Wi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zr(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return bT(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=oc(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return P0()||(y.referrerPolicy="no-referrer"),Md.fetch()(CT(n,n.config.apiHost,t,p),y)}))})}function bT(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},hV),e);try{let i=new ny(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw bd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw bd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw bd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DT(n,h,l);Sn(n,h)}}catch(i){if(i instanceof Vt)throw i;Sn(n,"network-request-failed",{message:String(i)})}})}function Ud(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Zr(n,e,t,r,i);return"mfaPendingCredential"in l&&Sn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function CT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?wy(n.config,i):`${n.config.apiScheme}://${i}`}function pV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ny=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),fV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=zi(n,e,r);return i.customData._tokenResponse=t,i}function iT(n){return n!==void 0&&n.enterprise!==void 0}var ry=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function gV(n,e){return v(this,null,function*(){return Zr(n,"GET","/v2/recaptchaConfig",Wi(n,e))})}function mV(n,e){return v(this,null,function*(){return Zr(n,"POST","/v1/accounts:delete",e)})}function TT(n,e){return v(this,null,function*(){return Zr(n,"POST","/v1/accounts:lookup",e)})}function lc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Iy(n,e=!1){return v(this,null,function*(){let t=Ke(n),r=yield t.getIdToken(e),i=Ey(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:lc(Jm(i.auth_time)),issuedAtTime:lc(Jm(i.iat)),expirationTime:lc(Jm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Jm(n){return Number(n)*1e3}function Ey(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mm(t);return i?JSON.parse(i):(Cd("Failed to decode base64 JWT payload"),null)}catch(i){return Cd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oT(n){let e=Ey(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hc(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Vt&&yV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function yV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var iy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nd(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield hc(n,TT(t,{idToken:r}));Y(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ST(o.providerUserInfo):[],a=vV(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Dy(n){return v(this,null,function*(){let e=Ke(n);yield Nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ST(n){return n.map(e=>{var{providerId:t}=e,r=Xf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _V(n,e){return v(this,null,function*(){let t=yield bT(n,{},()=>v(this,null,function*(){let r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=CT(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Md.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function wV(n,e){return v(this,null,function*(){return Zr(n,"POST","/v2/accounts:revokeToken",Wi(n,e))})}var dc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let t=oT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield _V(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return lr("not implemented")}};function Kr(n,e){Y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ys=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield hc(this,this.stsTokenManager.getToken(this.auth,e));return Y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Iy(this,e)}reload(){return Dy(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Nd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Cn(this.auth.app))return Promise.reject(Qr(this.auth));let e=yield this.getIdToken();return yield hc(this,mV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,N=(l=t.createdAt)!==null&&l!==void 0?l:void 0,O=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:k,isAnonymous:fe,providerData:Q,stsTokenManager:D}=t;Y(V&&D,e,"internal-error");let _=dc.fromJSON(this.name,D);Y(typeof V=="string",e,"internal-error"),Kr(p,e.name),Kr(g,e.name),Y(typeof k=="boolean",e,"internal-error"),Y(typeof fe=="boolean",e,"internal-error"),Kr(y,e.name),Kr(w,e.name),Kr(R,e.name),Kr(S,e.name),Kr(N,e.name),Kr(O,e.name);let I=new n({uid:V,auth:e,email:g,emailVerified:k,displayName:p,isAnonymous:fe,photoURL:w,phoneNumber:y,tenantId:R,stsTokenManager:_,createdAt:N,lastLoginAt:O});return Q&&Array.isArray(Q)&&(I.providerData=Q.map(b=>Object.assign({},b))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new dc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ST(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new dc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var sT=new Map;function dr(n){Yr(n instanceof Function,"Expected a class definition");let e=sT.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sT.set(n,e),e)}var IV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),oy=IV;function Td(n,e,t){return`firebase:${n}:${e}:${t}`}var xd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Td(this.userKey,i.apiKey,o),this.fullPersistenceKey=Td("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(dr(oy),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||dr(oy),s=Td(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=ys._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function aT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(kT(e))return"Webos";if(RT(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function AT(n=Je()){return/firefox\//i.test(n)}function RT(n=Je()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(n=Je()){return/crios\//i.test(n)}function NT(n=Je()){return/iemobile/i.test(n)}function xT(n=Je()){return/android/i.test(n)}function PT(n=Je()){return/blackberry/i.test(n)}function kT(n=Je()){return/webos/i.test(n)}function by(n=Je()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EV(n=Je()){var e;return by(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DV(){return F0()&&document.documentMode===10}function OT(n=Je()){return by(n)||xT(n)||kT(n)||PT(n)||/windows phone/i.test(n)||NT(n)}function FT(n,e=[]){let t;switch(n){case"Browser":t=aT(Je());break;case"Worker":t=`${aT(Je())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wr}/${r}`}var sy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bV(t){return v(this,arguments,function*(n,e={}){return Zr(n,"GET","/v2/passwordPolicy",Wi(n,e))})}var CV=6,ay=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:CV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var cy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pd(this),this.idTokenSubscription=new Pd(this),this.beforeStateQueue=new sy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield TT(this,{idToken:e}),r=yield ys._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Cn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Nd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dV()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Cn(this.app))return Promise.reject(Qr(this));let t=e?Ke(e):null;return t&&Y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Cn(this.app)?Promise.reject(Qr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Cn(this.app)?Promise.reject(Qr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield bV(this),t=new ay(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ar("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&dr(e)||this._popupRedirectResolver;Y(t,this,"argument-error"),this.redirectPersistenceManager=yield xd.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&cV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function vs(n){return Ke(n)}var Pd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=U0(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bd={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TV(n){Bd=n}function LT(n){return Bd.loadJS(n)}function SV(){return Bd.recaptchaEnterpriseScript}function AV(){return Bd.gapiScript}function VT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var RV="recaptcha-enterprise",MV="NO_RECAPTCHA",uy=class{constructor(e){this.type=RV,this.auth=vs(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){gV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ry(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;iT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(MV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&iT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=SV();u.length!==0&&(u+=a),LT(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function cT(n,e,t,r=!1){return v(this,null,function*(){let i=new uy(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function uT(n,e,t,r){return v(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield cT(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield cT(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function Cy(n,e){let t=cc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ji(o,e??{}))return i;Sn(i,"already-initialized")}return t.initialize({options:e})}function NV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ty(n,e,t){let r=vs(n);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=jT(e),{host:s,port:a}=xV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PV()}function jT(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xV(n){let e=jT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:lT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:lT(s)}}}function lT(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function PV(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var pc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}};function kV(n,e){return v(this,null,function*(){return Zr(n,"POST","/v1/accounts:signUp",e)})}function OV(n,e){return v(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithPassword",Wi(n,e))})}function FV(n,e){return v(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))})}function LV(n,e){return v(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))})}var gc=class n extends pc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uT(e,t,"signInWithPassword",OV);case"emailLink":return FV(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uT(e,r,"signUpPassword",kV);case"emailLink":return LV(e,{idToken:t,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Xm(n,e){return v(this,null,function*(){return Ud(n,"POST","/v1/accounts:signInWithIdp",Wi(n,e))})}function VV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jV(n){let e=ds(hs(n)).link,t=e?ds(hs(e)).deep_link_id:null,r=ds(hs(n)).deep_link_id;return(r?ds(hs(r)).link:null)||r||t||e||n}var kd=class n{constructor(e){var t,r,i,o,s,a;let u=ds(hs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=VV((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=jV(e);try{return new n(t)}catch{return null}}};var UT=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return gc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=kd.parseLink(r);return Y(i,"argument-error"),gc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ly=class extends Od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var mc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield ys._fromIdTokenResponse(e,r,i),s=dT(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=dT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function dT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var dy=class n extends Vt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function BT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dy._fromErrorAndOperation(n,o,e,r):o})}function UV(n,e,t=!1){return v(this,null,function*(){let r=yield hc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return mc._forOperation(n,"link",r)})}function BV(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Cn(r.app))return Promise.reject(Qr(r));let i="reauthenticate";try{let o=yield hc(n,BT(r,i,e,n),t);Y(o.idToken,r,"internal-error");let s=Ey(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),mc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Sn(r,"user-mismatch"),o}})}function $T(n,e,t=!1){return v(this,null,function*(){if(Cn(n.app))return Promise.reject(Qr(n));let r="signIn",i=yield BT(n,r,e),o=yield mc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Sy(n,e){return v(this,null,function*(){return $T(vs(n),e)})}function $V(n){return v(this,null,function*(){let e=vs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $d(n,e,t){return Cn(n.app)?Promise.reject(Qr(n)):Sy(Ke(n),UT.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&$V(n),r}))}function vc(n,e,t,r){return Ke(n).onIdTokenChanged(e,t,r)}function Ay(n,e,t){return Ke(n).beforeAuthStateChanged(e,t)}function Ry(n){return Ke(n).signOut()}var Fd="__sak";var Ld=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var HV=1e3,zV=10,qV=(()=>{class n extends Ld{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);DV()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zV):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},HV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Sr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Sr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Sr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),HT=qV;var GV=(()=>{class n extends Ld{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),My=GV;function WV(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var KV=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield WV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function zT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var hy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=zT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Tn(){return window}function QV(n){Tn().location.href=n}function qT(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}function YV(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ZV(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JV(){return qT()?self:null}var GT="firebaseLocalStorageDb",XV=1,Vd="firebaseLocalStorage",WT="fbase_key",Gi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Hd(n,e){return n.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function ej(){let n=indexedDB.deleteDatabase(GT);return new Gi(n).toPromise()}function fy(){let n=indexedDB.open(GT,XV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Vd,{keyPath:WT})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),yield ej(),e(yield fy()))}))})}function hT(n,e,t){return v(this,null,function*(){let r=Hd(n,!0).put({[WT]:e,value:t});return new Gi(r).toPromise()})}function tj(n,e){return v(this,null,function*(){let t=Hd(n,!1).get(e),r=yield new Gi(t).toPromise();return r===void 0?null:r.value})}function fT(n,e){let t=Hd(n,!0).delete(e);return new Gi(t).toPromise()}var nj=800,rj=3,ij=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield fy(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>rj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return qT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=KV._getInstance(JV()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield YV(),!this.activeServiceWorker)return;this.sender=new hy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ZV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield fy();return yield hT(t,Fd,"1"),yield fT(t,Fd),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>hT(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>tj(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>fT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Hd(o,!1).getAll();return new Gi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),KT=ij;var D8=VT("rcb"),b8=new qi(3e4,6e4);function oj(n,e){return e?dr(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var yc=class extends pc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xm(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function sj(n){return $T(n.auth,new yc(n),n.bypassAuthState)}function aj(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),BV(t,new yc(n),n.bypassAuthState)}function cj(n){return v(this,null,function*(){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),UV(t,new yc(n),n.bypassAuthState)})}var py=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return aj;default:Sn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var C8=new qi(2e3,1e4);var uj="pendingRedirect",Sd=new Map,gy=class n extends py{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Sd.get(this.auth._key());if(!e){try{let r=(yield lj(this.resolver,this.auth))?yield Sr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Sr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Sr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function lj(n,e){return v(this,null,function*(){let t=fj(e),r=hj(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function dj(n,e){Sd.set(n._key(),e)}function hj(n){return dr(n._redirectPersistence)}function fj(n){return Td(uj,n.config.apiKey,n.name)}function pj(n,e,t=!1){return v(this,null,function*(){if(Cn(n.app))return Promise.reject(Qr(n));let r=vs(n),i=oj(r,e),s=yield new gy(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var gj=10*60*1e3,my=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gj&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}};function pT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function mj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(n);default:return!1}}function yj(t){return v(this,arguments,function*(n,e={}){return Zr(n,"GET","/v1/projects",e)})}var vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;function wj(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield yj(n);for(let t of e)try{if(Ij(t))return}catch{}Sn(n,"unauthorized-domain")})}function Ij(n){let e=ty(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!_j.test(t))return!1;if(vj.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ej=new qi(3e4,6e4);function gT(){let n=Tn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Dj(n){return new Promise((e,t)=>{var r,i,o;function s(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),t(zi(n,"network-request-failed"))},timeout:Ej.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tn().gapi)===null||o===void 0)&&o.load)s();else{let a=VT("iframefcb");return Tn()[a]=()=>{gapi.load?s():t(zi(n,"network-request-failed"))},LT(`${AV()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Ad=null,e})}var Ad=null;function bj(n){return Ad=Ad||Dj(n),Ad}var Cj=new qi(5e3,15e3),Tj="__/auth/iframe",Sj="emulator/auth/iframe",Aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mj(n){let e=n.config;Y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?wy(e,Sj):`https://${n.config.authDomain}/${Tj}`,r={apiKey:e.apiKey,appName:n.name,v:Wr},i=Rj.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${oc(r).slice(1)}`}function Nj(n){return v(this,null,function*(){let e=yield bj(n),t=Tn().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:Mj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aj,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=zi(n,"network-request-failed"),a=Tn().setTimeout(()=>{o(s)},Cj.get());function u(){Tn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pj=500,kj=600,Oj="_blank",Fj="http://localhost",jd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Lj(n,e,t,r=Pj,i=kj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},xj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Je().toLowerCase();t&&(a=MT(l)?Oj:t),AT(l)&&(e=e||Fj,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(EV(l)&&a!=="_self")return Vj(e||"",a),new jd(null);let p=window.open(e||"",a,h);Y(p,n,"popup-blocked");try{p.focus()}catch{}return new jd(p)}function Vj(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var jj="__/auth/handler",Uj="emulator/auth/handler",Bj=encodeURIComponent("fac");function mT(n,e,t,r,i,o){return v(this,null,function*(){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wr,eventId:i};if(e instanceof Od){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",j0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof ly){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${Bj}=${encodeURIComponent(u)}`:"";return`${$j(n)}?${oc(a).slice(1)}${l}`})}function $j({config:n}){return n.emulator?wy(n,Uj):`https://${n.authDomain}/${jj}`}var ey="webStorageSupport",yy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=My,this._completeRedirectFn=pj,this._overrideRedirectResult=dj}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield mT(e,t,r,ty(),i);return Lj(e,s,zT())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield mT(e,t,r,ty(),i);return QV(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Yr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield Nj(e),r=new my(e);return t.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ey,{type:ey},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ey];s!==void 0&&t(!!s),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OT()||RT()||by()}},YT=yy;var yT="@firebase/auth",vT="1.7.9";var vy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Hj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zj(n){Gr(new Yt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(n)},l=new cy(r,i,o,u);return NV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new Yt("auth-internal",e=>{let t=vs(e.getProvider("auth").getImmediate());return(r=>new vy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(yT,vT,Hj(n)),Be(yT,vT,"esm2017")}var qj=5*60,Gj=Pm("authIdTokenMaxAge")||qj,_T=null,Wj=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Gj)return;let i=t?.token;_T!==i&&(_T=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ny(n=fs()){let e=cc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Cy(n,{popupRedirectResolver:YT,persistence:[KT,HT,My]}),r=Pm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Wj(o.toString());Ay(t,s,()=>s(t.currentUser)),vc(t,a=>s(a))}}let i=Nm("auth");return i&&Ty(t,`http://${i}`),t}function Kj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=zi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Kj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zj("Browser");function XT(n){return new ue(function(e){var t=vc(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var eS="auth",hr=class{constructor(e){return e}},_c=class{constructor(){return uc(eS)}};var xy=new q("angularfire2.auth-instances");function LU(n,e){let t=Ed(eS,n,e);return t&&new hr(t)}function VU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hr(r)}}var jU={provide:_c,deps:[[new Rt,xy]]},UU={provide:hr,useFactory:LU,deps:[[new Rt,xy],ur]};function tS(n,...e){return Be("angularfire",$i.full,"auth"),Xn([UU,jU,{provide:xy,useFactory:VU(n),multi:!0,deps:[Ce,nt,ms,Hi,[new Rt,gs],...e]}])}var zd=xt(XT,!0);var nS=xt(Ny,!0);var rS=xt(Ry,!0);var iS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oS={};var Jr,Py;(function(){var n;function e(D,_){function I(){}I.prototype=_.prototype,D.D=_.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(b,C,A){for(var E=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)E[Un-2]=arguments[Un];return _.prototype[C].apply(b,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,I){I||(I=0);var b=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)b[C]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(C=0;16>C;++C)b[C]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=D.g[0],I=D.g[1],C=D.g[2];var A=D.g[3],E=_+(A^I&(C^A))+b[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=A+(C^_&(I^C))+b[1]+3905402710&4294967295,A=_+(E<<12&4294967295|E>>>20),E=C+(I^A&(_^I))+b[2]+606105819&4294967295,C=A+(E<<17&4294967295|E>>>15),E=I+(_^C&(A^_))+b[3]+3250441966&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(A^I&(C^A))+b[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=A+(C^_&(I^C))+b[5]+1200080426&4294967295,A=_+(E<<12&4294967295|E>>>20),E=C+(I^A&(_^I))+b[6]+2821735955&4294967295,C=A+(E<<17&4294967295|E>>>15),E=I+(_^C&(A^_))+b[7]+4249261313&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(A^I&(C^A))+b[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=A+(C^_&(I^C))+b[9]+2336552879&4294967295,A=_+(E<<12&4294967295|E>>>20),E=C+(I^A&(_^I))+b[10]+4294925233&4294967295,C=A+(E<<17&4294967295|E>>>15),E=I+(_^C&(A^_))+b[11]+2304563134&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(A^I&(C^A))+b[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=A+(C^_&(I^C))+b[13]+4254626195&4294967295,A=_+(E<<12&4294967295|E>>>20),E=C+(I^A&(_^I))+b[14]+2792965006&4294967295,C=A+(E<<17&4294967295|E>>>15),E=I+(_^C&(A^_))+b[15]+1236535329&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(C^A&(I^C))+b[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^C&(_^I))+b[6]+3225465664&4294967295,A=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(A^_))+b[11]+643717713&4294967295,C=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(C^A))+b[0]+3921069994&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(C^A&(I^C))+b[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^C&(_^I))+b[10]+38016083&4294967295,A=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(A^_))+b[15]+3634488961&4294967295,C=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(C^A))+b[4]+3889429448&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(C^A&(I^C))+b[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^C&(_^I))+b[14]+3275163606&4294967295,A=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(A^_))+b[3]+4107603335&4294967295,C=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(C^A))+b[8]+1163531501&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(C^A&(I^C))+b[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^C&(_^I))+b[2]+4243563512&4294967295,A=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(A^_))+b[7]+1735328473&4294967295,C=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(C^A))+b[12]+2368359562&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(I^C^A)+b[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^C)+b[8]+2272392833&4294967295,A=_+(E<<11&4294967295|E>>>21),E=C+(A^_^I)+b[11]+1839030562&4294967295,C=A+(E<<16&4294967295|E>>>16),E=I+(C^A^_)+b[14]+4259657740&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(I^C^A)+b[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^C)+b[4]+1272893353&4294967295,A=_+(E<<11&4294967295|E>>>21),E=C+(A^_^I)+b[7]+4139469664&4294967295,C=A+(E<<16&4294967295|E>>>16),E=I+(C^A^_)+b[10]+3200236656&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(I^C^A)+b[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^C)+b[0]+3936430074&4294967295,A=_+(E<<11&4294967295|E>>>21),E=C+(A^_^I)+b[3]+3572445317&4294967295,C=A+(E<<16&4294967295|E>>>16),E=I+(C^A^_)+b[6]+76029189&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(I^C^A)+b[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^C)+b[12]+3873151461&4294967295,A=_+(E<<11&4294967295|E>>>21),E=C+(A^_^I)+b[15]+530742520&4294967295,C=A+(E<<16&4294967295|E>>>16),E=I+(C^A^_)+b[2]+3299628645&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(C^(I|~A))+b[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~C))+b[7]+1126891415&4294967295,A=_+(E<<10&4294967295|E>>>22),E=C+(_^(A|~I))+b[14]+2878612391&4294967295,C=A+(E<<15&4294967295|E>>>17),E=I+(A^(C|~_))+b[5]+4237533241&4294967295,I=C+(E<<21&4294967295|E>>>11),E=_+(C^(I|~A))+b[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~C))+b[3]+2399980690&4294967295,A=_+(E<<10&4294967295|E>>>22),E=C+(_^(A|~I))+b[10]+4293915773&4294967295,C=A+(E<<15&4294967295|E>>>17),E=I+(A^(C|~_))+b[1]+2240044497&4294967295,I=C+(E<<21&4294967295|E>>>11),E=_+(C^(I|~A))+b[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~C))+b[15]+4264355552&4294967295,A=_+(E<<10&4294967295|E>>>22),E=C+(_^(A|~I))+b[6]+2734768916&4294967295,C=A+(E<<15&4294967295|E>>>17),E=I+(A^(C|~_))+b[13]+1309151649&4294967295,I=C+(E<<21&4294967295|E>>>11),E=_+(C^(I|~A))+b[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~C))+b[11]+3174756917&4294967295,A=_+(E<<10&4294967295|E>>>22),E=C+(_^(A|~I))+b[2]+718787259&4294967295,C=A+(E<<15&4294967295|E>>>17),E=I+(A^(C|~_))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var I=_-this.blockSize,b=this.B,C=this.h,A=0;A<_;){if(C==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<_;)if(b[C++]=D.charCodeAt(A++),C==this.blockSize){i(this,b),C=0;break}}else for(;A<_;)if(b[C++]=D[A++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var I=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=I&255,I/=256;for(this.u(D),D=Array(16),_=I=0;4>_;++_)for(var b=0;32>b;b+=8)D[I++]=this.g[_]>>>b&255;return D};function o(D,_){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=_(D)}function s(D,_){this.h=_;for(var I=[],b=!0,C=D.length-1;0<=C;C--){var A=D[C]|0;b&&A==_||(I[C]=A,b=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return S(l(-D));for(var _=[],I=1,b=0;D>=I;b++)_[b]=D/I|0,I*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return S(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),b=p,C=0;C<D.length;C+=8){var A=Math.min(8,D.length-C),E=parseInt(D.substring(C,C+A),_);8>A?(A=l(Math.pow(_,A)),b=b.j(A).add(l(E))):(b=b.j(I),b=b.add(l(E)))}return b}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(R(this))return-S(this).m();for(var D=0,_=1,I=0;I<this.g.length;I++){var b=this.i(I);D+=(0<=b?b:4294967296+b)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(R(this))return"-"+S(this).toString(D);for(var _=l(Math.pow(D,6)),I=this,b="";;){var C=k(I,_).g;I=N(I,C.j(_));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=C,w(I))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=N(this,D),R(D)?-1:w(D)?0:1};function S(D){for(var _=D.g.length,I=[],b=0;b<_;b++)I[b]=~D.g[b];return new s(I,~D.h).add(g)}n.abs=function(){return R(this)?S(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0,C=0;C<=_;C++){var A=b+(this.i(C)&65535)+(D.i(C)&65535),E=(A>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);b=E>>>16,A&=65535,E&=65535,I[C]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function N(D,_){return D.add(S(_))}n.j=function(D){if(w(this)||w(D))return p;if(R(this))return R(D)?S(this).j(S(D)):S(S(this).j(D));if(R(D))return S(this.j(S(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,I=[],b=0;b<2*_;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<D.g.length;C++){var A=this.i(b)>>>16,E=this.i(b)&65535,Un=D.i(C)>>>16,ea=D.i(C)&65535;I[2*b+2*C]+=E*ea,O(I,2*b+2*C),I[2*b+2*C+1]+=A*ea,O(I,2*b+2*C+1),I[2*b+2*C+1]+=E*Un,O(I,2*b+2*C+1),I[2*b+2*C+2]+=A*Un,O(I,2*b+2*C+2)}for(b=0;b<_;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=_;b<2*_;b++)I[b]=0;return new s(I,0)};function O(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function V(D,_){this.g=D,this.h=_}function k(D,_){if(w(_))throw Error("division by zero");if(w(D))return new V(p,p);if(R(D))return _=k(S(D),_),new V(S(_.g),S(_.h));if(R(_))return _=k(D,S(_)),new V(S(_.g),_.h);if(30<D.g.length){if(R(D)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,b=_;0>=b.l(D);)I=fe(I),b=fe(b);var C=Q(I,1),A=Q(b,1);for(b=Q(b,2),I=Q(I,2);!w(b);){var E=A.add(b);0>=E.l(D)&&(C=C.add(I),A=E),b=Q(b,1),I=Q(I,1)}return _=N(D,C.j(_)),new V(C,_)}for(C=p;0<=D.l(_);){for(I=Math.max(1,Math.floor(D.m()/_.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=l(I),E=A.j(_);R(E)||0<E.l(D);)I-=b,A=l(I),E=A.j(_);w(A)&&(A=g),C=C.add(A),D=N(D,E)}return new V(C,D)}n.A=function(D){return k(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)&D.i(b);return new s(I,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)|D.i(b);return new s(I,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)^D.i(b);return new s(I,this.h^D.h)};function fe(D){for(var _=D.g.length+1,I=[],b=0;b<_;b++)I[b]=D.i(b)<<1|D.i(b-1)>>>31;return new s(I,D.h)}function Q(D,_){var I=_>>5;_%=32;for(var b=D.g.length-I,C=[],A=0;A<b;A++)C[A]=0<_?D.i(A+I)>>>_|D.i(A+I+1)<<32-_:D.i(A+I);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Py=oS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Jr=oS.Integer=s}).apply(typeof iS<"u"?iS:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={};var ky,Oy,_s,Fy,wc,Gd,Ly,Vy,jy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in f))break e;f=f[T]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,T={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,T,M){for(var L=Array(arguments.length-2),De=2;De<arguments.length;De++)L[De-2]=arguments[De];return d.prototype[T].apply(m,L)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function S(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let T=c.length||0,M=m.length||0;c.length=T+M;for(let L=0;L<M;L++)c[T+L]=m[L]}else c.push(m)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var fe=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Q(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)c[f]=m[f];for(let M=0;M<I.length;M++)f=I[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function E(){var c=lf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Un{constructor(){this.h=this.g=null}add(d,f){let m=ea.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ea=new N(()=>new hM,c=>c.reset());class hM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ta,na=!1,lf=new Un,Kw=()=>{let c=a.Promise.resolve(void 0);ta=()=>{c.then(fM)}};var fM=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){A(f)}var d=ea;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}na=!1};function Dr(){this.s=this.s,this.C=this.C}Dr.prototype.s=!1,Dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var pM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ra(c,d){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(fe){e:{try{k(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ra.aa.h.call(this)}}w(ra,ot);var gM={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),mM=0;function yM(c,d,f,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++mM,this.da=this.fa=!1}function du(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hu(c){this.src=c,this.g={},this.h=0}hu.prototype.add=function(c,d,f,m,T){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var L=hf(c,d,m,T);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new yM(d,this.src,M,!!m,T),d.fa=f,c.push(d)),d};function df(c,d){var f=d.type;if(f in c.g){var m=c.g[f],T=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=T)&&Array.prototype.splice.call(m,T,1),M&&(du(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function hf(c,d,f,m){for(var T=0;T<c.length;++T){var M=c[T];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return T}return-1}var ff="closure_lm_"+(1e6*Math.random()|0),pf={};function Qw(c,d,f,m,T){if(m&&m.once)return Zw(c,d,f,m,T);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Qw(c,d[M],f,m,T);return null}return f=vf(f),c&&c[ia]?c.K(d,f,l(m)?!!m.capture:!!m,T):Yw(c,d,f,!1,m,T)}function Yw(c,d,f,m,T,M){if(!d)throw Error("Invalid event type");var L=l(T)?!!T.capture:!!T,De=mf(c);if(De||(c[ff]=De=new hu(c)),f=De.add(d,f,m,L,M),f.proxy)return f;if(m=vM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)pM||(T=L),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(Xw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function vM(){function c(f){return d.call(c.src,c.listener,f)}let d=_M;return c}function Zw(c,d,f,m,T){if(Array.isArray(d)){for(var M=0;M<d.length;M++)Zw(c,d[M],f,m,T);return null}return f=vf(f),c&&c[ia]?c.L(d,f,l(m)?!!m.capture:!!m,T):Yw(c,d,f,!0,m,T)}function Jw(c,d,f,m,T){if(Array.isArray(d))for(var M=0;M<d.length;M++)Jw(c,d[M],f,m,T);else m=l(m)?!!m.capture:!!m,f=vf(f),c&&c[ia]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=hf(M,f,m,T),-1<f&&(du(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=mf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=hf(d,f,m,T)),(f=-1<c?d[c]:null)&&gf(f))}function gf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ia])df(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Xw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=mf(d))?(df(f,c),f.h==0&&(f.src=null,d[ff]=null)):du(c)}}}function Xw(c){return c in pf?pf[c]:pf[c]="on"+c}function _M(c,d){if(c.da)c=!0;else{d=new ra(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&gf(c),c=f.call(m,d)}return c}function mf(c){return c=c[ff],c instanceof hu?c:null}var yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function vf(c){return typeof c=="function"?c:(c[yf]||(c[yf]=function(d){return c.handleEvent(d)}),c[yf])}function st(){Dr.call(this),this.i=new hu(this),this.M=this,this.F=null}w(st,Dr),st.prototype[ia]=!0,st.prototype.removeEventListener=function(c,d,f,m){Jw(this,c,d,f,m)};function wt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ot(d,c);else if(d instanceof ot)d.target=d.target||c;else{var T=d;d=new ot(m,c),b(d,T)}if(T=!0,f)for(var M=f.length-1;0<=M;M--){var L=d.g=f[M];T=fu(L,m,!0,d)&&T}if(L=d.g=c,T=fu(L,m,!0,d)&&T,T=fu(L,m,!1,d)&&T,f)for(M=0;M<f.length;M++)L=d.g=f[M],T=fu(L,m,!1,d)&&T}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)du(f[m]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},st.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function fu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,M=0;M<d.length;++M){var L=d[M];if(L&&!L.da&&L.capture==f){var De=L.listener,et=L.ha||L.src;L.fa&&df(c.i,L),T=De.call(et,m)!==!1&&T}}return T&&!m.defaultPrevented}function eI(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function tI(c){c.g=eI(()=>{c.g=null,c.i&&(c.i=!1,tI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class wM extends Dr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:tI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){Dr.call(this),this.h=c,this.g={}}w(oa,Dr);var nI=[];function rI(c){Q(c.g,function(d,f){this.g.hasOwnProperty(f)&&gf(d)},c),c.g={}}oa.prototype.N=function(){oa.aa.N.call(this),rI(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _f=a.JSON.stringify,IM=a.JSON.parse,EM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wf(){}wf.prototype.h=null;function iI(c){return c.h||(c.h=c.i())}function oI(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function If(){ot.call(this,"d")}w(If,ot);function Ef(){ot.call(this,"c")}w(Ef,ot);var oi={},sI=null;function pu(){return sI=sI||new st}oi.La="serverreachability";function aI(c){ot.call(this,oi.La,c)}w(aI,ot);function aa(c){let d=pu();wt(d,new aI(d))}oi.STAT_EVENT="statevent";function cI(c,d){ot.call(this,oi.STAT_EVENT,c),this.stat=d}w(cI,ot);function It(c){let d=pu();wt(d,new cI(d,c))}oi.Ma="timingevent";function uI(c,d){ot.call(this,oi.Ma,c),this.size=d}w(uI,ot);function ca(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function DM(c,d,f,m,T,M){c.info(function(){if(c.g)if(M)for(var L="",De=M.split("&"),et=0;et<De.length;et++){var ve=De[et].split("=");if(1<ve.length){var at=ve[0];ve=ve[1];var ct=at.split("_");L=2<=ct.length&&ct[1]=="type"?L+(at+"="+ve+"&"):L+(at+"=redacted&")}}else L=null;else L=M;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function bM(c,d,f,m,T,M,L){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+M+" "+L})}function go(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+TM(c,f)+(m?" "+m:"")})}function CM(c,d){c.info(function(){return"TIMEOUT: "+d})}ua.prototype.info=function(){};function TM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return _f(f)}catch{return d}}var gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Df;function mu(){}w(mu,wf),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},Df=new mu;function br(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dI}function dI(){this.i=null,this.g="",this.h=!1}var hI={},bf={};function Cf(c,d,f){c.L=1,c.v=wu(Bn(d)),c.m=f,c.P=!0,fI(c,null)}function fI(c,d){c.F=Date.now(),yu(c),c.A=Bn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),SI(f.i,"t",m),c.C=0,f=c.j.J,c.h=new dI,c.g=qI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new wM(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(nI[0]=T.toString()),T=nI);for(var M=0;M<T.length;M++){var L=Qw(f,T[M],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),aa(),DM(c.i,c.u,c.A,c.l,c.R,c.m)}br.prototype.ca=function(c){c=c.target;let d=this.M;d&&$n(c)==3?d.j():this.Y(c)},br.prototype.Y=function(c){try{if(c==this.g)e:{let ct=$n(this.g);var d=this.g.Ba();let vo=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||kI(this.g)))){this.J||ct!=4||d==7||(d==8||0>=vo?aa(3):aa(2)),Tf(this);var f=this.g.Z();this.X=f;t:if(pI(this)){var m=kI(this.g);c="";var T=m.length,M=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),la(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==T-1)});m.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,bM(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,et=this.g;if((De=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(De)){var ve=De;break t}}ve=null}if(f=ve)go(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sf(this,f);else{this.o=!1,this.s=3,It(12),si(this),la(this);break e}}if(this.P){f=!0;let en;for(;!this.J&&this.C<L.length;)if(en=SM(this,L),en==bf){ct==4&&(this.s=4,It(14),f=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(en==hI){this.s=4,It(15),go(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else go(this.i,this.l,en,null),Sf(this,en);if(pI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||L.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)go(this.i,this.l,L,"[Invalid Chunked Response]"),si(this),la(this);else if(0<L.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Pf(at),at.M=!0,It(11))}}else go(this.i,this.l,L,null),Sf(this,L);ct==4&&si(this),this.o&&!this.J&&(ct==4?BI(this.j,this):(this.o=!1,yu(this)))}else zM(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),si(this),la(this)}}}catch{}finally{}};function pI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function SM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?bf:(f=Number(d.substring(f,m)),isNaN(f)?hI:(m+=1,m+f>d.length?bf:(d=d.slice(m,m+f),c.C=m+f,d)))}br.prototype.cancel=function(){this.J=!0,si(this)};function yu(c){c.S=Date.now()+c.I,gI(c,c.I)}function gI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ca(g(c.ba,c),d)}function Tf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}br.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(CM(this.i,this.A),this.L!=2&&(aa(),It(17)),si(this),this.s=2,la(this)):gI(this,this.S-c)};function la(c){c.j.G==0||c.J||BI(c.j,c)}function si(c){Tf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,rI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Sf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Af(f.h,c))){if(!c.K&&Af(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Cu(f),Du(f);else break e;xf(f),It(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ca(g(f.Za,f),6e3));if(1>=vI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ci(f,11)}else if((c.K||f.g==c)&&Cu(f),!O(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let ve=T[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let at=ve[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=ve[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let vo=ve[5];vo!=null&&typeof vo=="number"&&0<vo&&(m=1.5*vo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let en=c.g;if(en){let Su=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var M=m.h;M.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Rf(M,M.h),M.h=null))}if(m.D){let kf=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;kf&&(m.ya=kf,Re(m.I,m.D,kf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var L=c;if(m.qa=zI(m,m.J?m.ia:null,m.W),L.K){_I(m.h,L);var De=L,et=m.L;et&&(De.I=et),De.B&&(Tf(De),yu(De)),m.g=L}else jI(m);0<f.i.length&&bu(f)}else ve[0]!="stop"&&ve[0]!="close"||ci(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ci(f,7):Nf(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}aa(4)}catch{}}var AM=class{constructor(c,d){this.g=c,this.map=d}};function mI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vI(c){return c.h?1:c.g?c.g.size:0}function Af(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Rf(c,d){c.g?c.g.add(d):c.h=d}function _I(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}mI.prototype.cancel=function(){if(this.i=wI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function RM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function MM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function II(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=MM(c),m=RM(c),T=m.length,M=0;M<T;M++)d.call(void 0,m[M],f&&f[M],c)}var EI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),T=null;if(0<=m){var M=c[f].substring(0,m);T=c[f].substring(m+1)}else M=c[f];d(M,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ai){this.h=c.h,vu(this,c.j),this.o=c.o,this.g=c.g,_u(this,c.s),this.l=c.l;var d=c.i,f=new fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),DI(this,f),this.m=c.m}else c&&(d=String(c).match(EI))?(this.h=!1,vu(this,d[1]||"",!0),this.o=da(d[2]||""),this.g=da(d[3]||"",!0),_u(this,d[4]),this.l=da(d[5]||"",!0),DI(this,d[6]||"",!0),this.m=da(d[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}ai.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ha(d,bI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ha(d,bI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ha(f,f.charAt(0)=="/"?kM:PM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ha(f,FM)),c.join("")};function Bn(c){return new ai(c)}function vu(c,d,f){c.j=f?da(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function _u(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function DI(c,d,f){d instanceof fa?(c.i=d,LM(c.i,c.h)):(f||(d=ha(d,OM)),c.i=new fa(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function wu(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function da(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,xM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bI=/[#\/\?@]/g,PM=/[#\?:]/g,kM=/[#\?]/g,OM=/[#\?@]/g,FM=/#/g;function fa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&NM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=fa.prototype,n.add=function(c,d){Cr(this),this.i=null,c=mo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function CI(c,d){Cr(c),d=mo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function TI(c,d){return Cr(c),d=mo(c,d),c.g.has(d)}n.forEach=function(c,d){Cr(this),this.g.forEach(function(f,m){f.forEach(function(T){c.call(d,T,m,this)},this)},this)},n.na=function(){Cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=c[m];for(let M=0;M<T.length;M++)f.push(d[m])}return f},n.V=function(c){Cr(this);let d=[];if(typeof c=="string")TI(this,c)&&(d=d.concat(this.g.get(mo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Cr(this),this.i=null,c=mo(this,c),TI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function SI(c,d,f){CI(c,d),0<f.length&&(c.i=null,c.g.set(mo(c,d),R(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var T=M;L[m]!==""&&(T+="="+encodeURIComponent(String(L[m]))),c.push(T)}}return this.i=c.join("&")};function mo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function LM(c,d){d&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(CI(this,m),SI(this,T,f))},c)),c.j=d}function VM(c,d){let f=new ua;if(a.Image){let m=new Image;m.onload=y(Tr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Tr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Tr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Tr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function jM(c,d){let f=new ua,m=new AbortController,T=setTimeout(()=>{m.abort(),Tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(T),M.ok?Tr(f,"TestPingServer: ok",!0,d):Tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Tr(f,"TestPingServer: error",!1,d)})}function Tr(c,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function UM(){this.g=new EM}function BM(c,d,f){let m=f||"";try{II(c,function(T,M){let L=T;l(T)&&(L=_f(T)),d.push(m+M+"="+encodeURIComponent(L))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function pa(c){this.l=c.Ub||null,this.j=c.eb||!1}w(pa,wf),pa.prototype.g=function(){return new Iu(this.l,this.j)},pa.prototype.i=function(c){return function(){return c}}({});function Iu(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Iu,st),n=Iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ma(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function AI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ga(this):ma(this),this.readyState==3&&AI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},n.Qa=function(c){this.g&&(this.response=c,ga(this))},n.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ma(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RI(c){let d="";return Q(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Mf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=RI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Fe(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Fe,st);var $M=/^https?$/i,HM=["POST","PUT"];n=Fe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Df.g(),this.v=this.o?iI(this.o):iI(Df),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){MI(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HM,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,L]of f)this.g.setRequestHeader(M,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PI(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){MI(this,M)}};function MI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,NI(c),Eu(c)}function NI(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Eu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xI(this):this.bb())},n.bb=function(){xI(this)};function xI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)eI(c.Ea,0,c);else if(wt(c,"readystatechange"),$n(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=L===0){var T=String(c.D).match(EI)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!$M.test(T?T.toLowerCase():"")}f=m}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var M=2<$n(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",NI(c)}}finally{Eu(c)}}}}function Eu(c,d){if(c.g){PI(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=m}catch{}}}function PI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),IM(d)}};function kI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zM(c){let d={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(O(c[m]))continue;var f=C(c[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[T]||[];d[T]=M,M.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function OI(c){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,c),this.cb=ya("retryDelaySeedMs",1e4,c),this.Wa=ya("forwardChannelMaxRetries",2,c),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mI(c&&c.concurrentRequestLimit),this.Da=new UM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=OI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){It(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=zI(this,null,this.W),bu(this)};function Nf(c){if(FI(c),c.G==3){var d=c.U++,f=Bn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),va(c,f),d=new br(c,c.j,d),d.L=2,d.v=wu(Bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=qI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yu(d)}HI(c)}function Du(c){c.g&&(Pf(c),c.g.cancel(),c.g=null)}function FI(c){Du(c),c.u&&(a.clearTimeout(c.u),c.u=null),Cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function bu(c){if(!yI(c.h)&&!c.s){c.s=!0;var d=c.Ga;ta||Kw(),na||(ta(),na=!0),lf.add(d,c),c.B=0}}function qM(c,d){return vI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ca(g(c.Ga,c,d),$I(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new br(this,this.j,c),M=this.o;if(this.S&&(M?(M=_(M),b(M,this.S)):M=this.S),this.m!==null||this.O||(T.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=VI(this,T,d),f=Bn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),va(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(RI(M)))+"&"+d:this.m&&Mf(f,this.m,M)),Rf(this.h,T),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),T.T=!0,Cf(T,f,null)):Cf(T,f,d),this.G=2}}else this.G==3&&(c?LI(this,c):this.i.length==0||yI(this.h)||LI(this))};function LI(c,d){var f;d?f=d.l:f=c.U++;let m=Bn(c.I);Re(m,"SID",c.K),Re(m,"RID",f),Re(m,"AID",c.T),va(c,m),c.m&&c.o&&Mf(m,c.m,c.o),f=new br(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=VI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rf(c.h,f),Cf(f,m,d)}function va(c,d){c.H&&Q(c.H,function(f,m){Re(d,m,f)}),c.l&&II({},function(f,m){Re(d,m,f)})}function VI(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var T=c.i;let M=-1;for(;;){let L=["count="+f];M==-1?0<f?(M=T[0].g,L.push("ofs="+M)):M=0:L.push("ofs="+M);let De=!0;for(let et=0;et<f;et++){let ve=T[et].g,at=T[et].map;if(ve-=M,0>ve)M=Math.max(0,T[et].g-100),De=!1;else try{BM(at,L,"req"+ve+"_")}catch{m&&m(at)}}if(De){m=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function jI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ta||Kw(),na||(ta(),na=!0),lf.add(d,c),c.v=0}}function xf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ca(g(c.Fa,c),$I(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,UI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ca(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Du(this),UI(this))};function Pf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function UI(c){c.g=new br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Bn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),va(c,d),c.m&&c.o&&Mf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=wu(Bn(d)),f.m=null,f.P=!0,fI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Du(this),xf(this),It(19))};function Cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function BI(c,d){var f=null;if(c.g==d){Cu(c),Pf(c),c.g=null;var m=2}else if(Af(c.h,d))f=d.D,_I(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;m=pu(),wt(m,new uI(m,f)),bu(c)}else jI(c);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&qM(c,d)||m==2&&xf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:ci(c,5);break;case 4:ci(c,10);break;case 3:ci(c,6);break;default:ci(c,2)}}}function $I(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ci(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let T=!m;m=new ai(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vu(m,"https"),wu(m),T?VM(m.toString(),f):jM(m.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),HI(c),FI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function HI(c){if(c.G=0,c.ka=[],c.l){let d=wI(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function zI(c,d,f){var m=f instanceof ai?Bn(f):new ai(f);if(m.g!="")d&&(m.g=d+"."+m.g),_u(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var M=new ai(null);m&&vu(M,m),d&&(M.g=d),T&&_u(M,T),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&Re(m,f,d),Re(m,"VER",c.la),va(c,m),m}function qI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new pa({eb:f})):new Fe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function GI(){}n=GI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Tu(){}Tu.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){st.call(this),this.g=new OI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!O(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!O(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new yo(this)}w(kt,st),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Nf(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=_f(c),c=f);d.i.push(new AM(d.Ya++,c)),d.G==3&&bu(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,kt.aa.N.call(this)};function WI(c){If.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(WI,If);function KI(){Ef.call(this),this.status=1}w(KI,Ef);function yo(c){this.g=c}w(yo,GI),yo.prototype.ua=function(){wt(this.g,"a")},yo.prototype.ta=function(c){wt(this.g,new WI(c))},yo.prototype.sa=function(c){wt(this.g,new KI)},yo.prototype.ra=function(){wt(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,jy=fr.createWebChannelTransport=function(){return new Tu},Vy=fr.getStatEventTarget=function(){return pu()},Ly=fr.Event=oi,Gd=fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,wc=fr.ErrorCode=gu,lI.COMPLETE="complete",Fy=fr.EventType=lI,oI.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",st.prototype.listen=st.prototype.K,_s=fr.WebChannel=oI,Oy=fr.FetchXmlHttpFactory=pa,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ky=fr.XhrIo=Fe}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});var sS="@firebase/firestore";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var Us="10.13.2";var Zi=new zr("@firebase/firestore");function Ic(){return Zi.logLevel}function U(n,...e){if(Zi.logLevel<=ge.DEBUG){let t=e.map(D_);Zi.debug(`Firestore (${Us}): ${n}`,...t)}}function gr(n,...e){if(Zi.logLevel<=ge.ERROR){let t=e.map(D_);Zi.error(`Firestore (${Us}): ${n}`,...t)}}function Ts(n,...e){if(Zi.logLevel<=ge.WARN){let t=e.map(D_);Zi.warn(`Firestore (${Us}): ${n}`,...t)}}function D_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Z(n="Unexpected state"){let e=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function Se(n,e){n||Z()}function ee(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xe.UNAUTHENTICATED))}shutdown(){}},qy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Gy=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new Zd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Xe(e)}},Wy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ky=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Wy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string"),this.R=t.token,new Qy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function $U(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Jd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=$U(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function Ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var rt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new rt(0,0))}static max(){return new n(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(),r===void 0?r=e.length-t:r>e.length-t&&Z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},je=class n extends Xd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},HU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ut=class n extends Xd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return HU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};var Zy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Zy.UNKNOWN_ID=-1;function zU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new Ji(i,W.empty(),e)}function qU(n){return new Ji(n.readTime,n.key,-1)}var Ji=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),W.empty(),-1)}static max(){return new n(re.max(),W.empty(),-1)}};function GU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var WU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function jc(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==WU)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function KU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uc(n){return n.name==="IndexedDbTransactionError"}var VS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ah(n){return n==null}function Sc(n){return n===0&&1/n==-1/0}function QU(n){return typeof n=="number"&&Number.isInteger(n)&&!Sc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var YU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],TK=[...YU,"documentOverlays"],ZU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JU=ZU,XU=[...JU,"indexConfiguration","indexState","indexEntries"];var SK=[...XU,"globals"];function aS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ue=class n{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ds(this.root,e,this.comparator,!0)}},Ds=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eh(this.data.getIterator())}getIteratorFrom(e){return new eh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},eh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class n{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(Ut.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var th=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new th("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(n){if(Se(!!n),typeof n=="string"){let e=0,t=e2.exec(n);if(Se(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ei(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}function b_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function C_(n){let e=n.mapValue.fields.__previous_value__;return b_(e)?C_(e):e}function Ac(n){let e=mr(n.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Xy=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},nh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b_(n)?4:BS(n)?9007199254740991:US(n)?10:11:Z()}function kn(n,e){if(n===e)return!0;let t=Xi(n);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ac(n).isEqual(Ac(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mr(i.timestampValue),a=mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ei(i.bytesValue).isEqual(ei(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?Sc(s)===Sc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ss(n.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(aS(s)!==aS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!kn(s[u],a[u])))return!1;return!0}(n,e);default:return Z()}}function Rc(n,e){return(n.values||[]).find(t=>kn(t,e))!==void 0}function As(n,e){if(n===e)return 0;let t=Xi(n),r=Xi(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return cS(n.timestampValue,e.timestampValue);case 4:return cS(Ac(n),Ac(e));case 5:return we(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ei(o),u=ei(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=we(a[l],u[l]);if(h!==0)return h}return we(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(Pe(o.latitude),Pe(s.latitude));return a!==0?a:we(Pe(o.longitude),Pe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return uS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,w=(u=g.value)===null||u===void 0?void 0:u.arrayValue,R=we(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:uS(y,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wd.mapValue&&s===Wd.mapValue)return 0;if(o===Wd.mapValue)return 1;if(s===Wd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=we(u[p],h[p]);if(g!==0)return g;let y=As(a[u[p]],l[h[p]]);if(y!==0)return y}return we(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Z()}}function cS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=mr(n),r=mr(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function uS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=As(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function Rs(n){return ev(n)}function ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=mr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ei(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return W.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ev(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ev(t.fields[s])}`;return i+"}"}(n.mapValue):Z()}function tv(n){return!!n&&"integerValue"in n}function T_(n){return!!n&&"arrayValue"in n}function lS(n){return!!n&&"nullValue"in n}function dS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qd(n){return!!n&&"mapValue"in n}function US(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(t)}setAll(e){let t=Ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Dc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ro(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Dc(this.value))}};function $S(n){let e=[];return ro(n.fields,(t,r)=>{let i=new Ut([t]);if(Qd(r)){let o=$S(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var hn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ms=class{constructor(e,t){this.position=e,this.inclusive=t}};function hS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=As(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kn(n.position[t],e.position[t]))return!1;return!0}var Ns=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function t2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rh=class{},Qe=class n extends rh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rv(e,t,r):t==="array-contains"?new sv(e,r):t==="in"?new av(e,r):t==="not-in"?new cv(e,r):t==="array-contains-any"?new uv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iv(e,r):new ov(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(As(t,this.value)):t!==null&&Xi(this.value)===Xi(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class n extends rh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return HS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function HS(n){return n.op==="and"}function zS(n){return n2(n)&&HS(n)}function n2(n){for(let e of n.filters)if(e instanceof On)return!1;return!0}function nv(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+Rs(n.value);if(zS(n))return n.filters.map(e=>nv(e)).join(",");{let e=n.filters.map(t=>nv(t)).join(",");return`${n.op}(${e})`}}function qS(n,e){return n instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)}(n,e):n instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qS(s,i.filters[a]),!0):!1}(n,e):void Z()}function GS(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${Rs(t.value)}`}(n):n instanceof On?function(t){return t.op.toString()+" {"+t.getFilters().map(GS).join(" ,")+"}"}(n):"Filter"}var rv=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},iv=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=WS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ov=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=WS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function WS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var sv=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return T_(t)&&Rc(t.arrayValue,this.value)}},av=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Rc(this.value.arrayValue,t)}},cv=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Rc(this.value.arrayValue,t)}},uv=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!T_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rc(this.value.arrayValue,r))}};var lv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function pS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lv(n,e,t,r,i,o,s)}function S_(n){let e=ee(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rs(r)).join(",")),e.ue=t}return e.ue}function A_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fS(n.startAt,e.startAt)&&fS(n.endAt,e.endAt)}function dv(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var xs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function r2(n,e,t,r,i,o,s,a){return new xs(n,e,t,r,i,o,s,a)}function R_(n){return new xs(n)}function gS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function i2(n){return n.collectionGroup!==null}function bc(n){let e=ee(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(Ut.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ns(o,r))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new Ns(Ut.keyField(),r))}return e.ce}function Mn(n){let e=ee(n);return e.le||(e.le=o2(e,bc(n))),e.le}function o2(n,e){if(n.limitType==="F")return pS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ns(i.field,o)});let t=n.endAt?new Ms(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ms(n.startAt.position,n.startAt.inclusive):null;return pS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hv(n,e,t){return new xs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rh(n,e){return A_(Mn(n),Mn(e))&&n.limitType===e.limitType}function KS(n){return`${S_(Mn(n))}|lt:${n.limitType}`}function ws(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>GS(i)).join(", ")}]`),Ah(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Rs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(Mn(n))}; limitType=${n.limitType})`}function Mh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of bc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=hS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,bc(r),i)||r.endAt&&!function(s,a,u){let l=hS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,bc(r),i))}(n,e)}function s2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QS(n){return(e,t)=>{let r=!1;for(let i of bc(n)){let o=a2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a2(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?As(u,l):Z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var ti=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return jS(this.inner)}size(){return this.innerSize}};var c2=new Ue(W.comparator);function yr(){return c2}var YS=new Ue(W.comparator);function Ec(...n){let e=YS;for(let t of n)e=e.insert(t.key,t);return e}function ZS(n){let e=YS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ki(){return Cc()}function JS(){return Cc()}function Cc(){return new ti(n=>n.toString(),(n,e)=>n.isEqual(e))}var u2=new Ue(W.comparator),l2=new yt(W.comparator);function me(...n){let e=l2;for(let t of n)e=e.add(t);return e}var d2=new yt(we);function h2(){return d2}function M_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function XS(n){return{integerValue:""+n}}function f2(n,e){return QU(e)?XS(e):M_(n,e)}var Ps=class{constructor(){this._=void 0}};function p2(n,e,t){return n instanceof ks?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b_(o)&&(o=C_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof eo?tA(n,e):n instanceof to?nA(n,e):function(i,o){let s=eA(i,o),a=mS(s)+mS(i.Pe);return tv(s)&&tv(i.Pe)?XS(a):M_(i.serializer,a)}(n,e)}function g2(n,e,t){return n instanceof eo?tA(n,e):n instanceof to?nA(n,e):t}function eA(n,e){return n instanceof Os?function(r){return tv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ks=class extends Ps{},eo=class extends Ps{constructor(e){super(),this.elements=e}};function tA(n,e){let t=rA(e);for(let r of n.elements)t.some(i=>kn(i,r))||t.push(r);return{arrayValue:{values:t}}}var to=class extends Ps{constructor(e){super(),this.elements=e}};function nA(n,e){let t=rA(e);for(let r of n.elements)t=t.filter(i=>!kn(i,r));return{arrayValue:{values:t}}}var Os=class extends Ps{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function mS(n){return Pe(n.integerValue||n.doubleValue)}function rA(n){return T_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function m2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof eo&&i instanceof eo||r instanceof to&&i instanceof to?Ss(r.elements,i.elements,kn):r instanceof Os&&i instanceof Os?kn(r.Pe,i.Pe):r instanceof ks&&i instanceof ks}(n.transform,e.transform)}var fv=class{constructor(e,t){this.version=e,this.transformResults=t}},Nn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Fs=class{};function iA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mc(n.key,Nn.none()):new no(n.key,n.data,Nn.none());{let t=n.data,r=jt.empty(),i=new yt(Ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fn(n.key,r,new Zt(i.toArray()),Nn.none())}}function y2(n,e,t){n instanceof no?function(i,o,s){let a=i.value.clone(),u=vS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Fn?function(i,o,s){if(!Yd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=vS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(oA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Tc(n,e,t,r){return n instanceof no?function(o,s,a,u){if(!Yd(o.precondition,s))return a;let l=o.value.clone(),h=_S(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fn?function(o,s,a,u){if(!Yd(o.precondition,s))return a;let l=_S(o.fieldTransforms,u,s),h=s.data;return h.setAll(oA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Yd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function v2(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=eA(r.transform,i||null);o!=null&&(t===null&&(t=jt.empty()),t.set(r.field,o))}return t||null}function yS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(o,s)=>m2(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var no=class extends Fs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends Fs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function oA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function vS(n,e,t){let r=new Map;Se(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,g2(s,a,t[i]))}return r}function _S(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,p2(o,s,e))}return r}var Mc=class extends Fs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},pv=class extends Fs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&y2(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Tc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=JS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=iA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(t,r)=>yS(t,r))&&Ss(this.baseMutations,e.baseMutations,(t,r)=>yS(t,r))}},mv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Se(e.mutations.length===r.length);let i=function(){return u2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var yv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var vv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $e,ye;function _2(n){switch(n){default:return Z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function sA(n){if(n===void 0)return gr("GRPC error has no .code"),P.UNKNOWN;switch(n){case $e.OK:return P.OK;case $e.CANCELLED:return P.CANCELLED;case $e.UNKNOWN:return P.UNKNOWN;case $e.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case $e.INTERNAL:return P.INTERNAL;case $e.UNAVAILABLE:return P.UNAVAILABLE;case $e.UNAUTHENTICATED:return P.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case $e.NOT_FOUND:return P.NOT_FOUND;case $e.ALREADY_EXISTS:return P.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return P.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case $e.ABORTED:return P.ABORTED;case $e.OUT_OF_RANGE:return P.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return P.UNIMPLEMENTED;case $e.DATA_LOSS:return P.DATA_LOSS;default:return Z()}}(ye=$e||($e={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var wS=null;function w2(){return new TextEncoder}var I2=new Jr([4294967295,4294967295],0);function IS(n){let e=w2().encode(n),t=new Py;return t.update(e),new Uint8Array(t.digest())}function ES(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([t,r],0),new Jr([i,o],0)]}var _v=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qi(`Invalid padding: ${t}`);if(r<0)throw new Qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Qi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Jr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Jr.fromNumber(r)));return i.compare(I2)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=IS(e),[r,i]=ES(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=IS(e),[r,i]=ES(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Qi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ih=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Ue(we),yr(),me())}},Nc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var bs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},oh=class{constructor(e,t){this.targetId=e,this.me=t}},sh=class{constructor(e,t,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ah=class{constructor(){this.fe=0,this.ge=bS(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),t=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Nc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=bS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=DS(),this.Qe=new Ue(we)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(dv(o))if(r===0){let s=new W(o.path);this.Ue(t,s,hn.newNoDocument(s,re.min()))}else Se(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}wS?.et(function(h,p,g,y,w){var R,S,N,O,V,k;let fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Q=p.unchangedNames;return Q&&(fe.bloomFilter={applied:w===0,hashCount:(R=Q?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(O=(N=(S=Q?.bits)===null||S===void 0?void 0:S.bitmap)===null||N===void 0?void 0:N.length)!==null&&O!==void 0?O:0,padding:(k=(V=Q?.bits)===null||V===void 0?void 0:V.padding)!==null&&k!==void 0?k:0,mightContain:D=>{var _;return(_=y?.mightContain(D))!==null&&_!==void 0&&_}}),fe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ei(r).toUint8Array()}catch(u){if(u instanceof th)return Ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new _v(s,i,o)}catch(u){return Ts(u instanceof Qi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&dv(a.target)){let u=new W(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,hn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ih(e,t,this.Qe,this.ke,r);return this.ke=yr(),this.qe=DS(),this.Qe=new Ue(we),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ah,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(we),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ah),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function DS(){return new Ue(W.comparator)}function bS(){return new Ue(W.comparator)}var E2={asc:"ASCENDING",desc:"DESCENDING"},D2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"},Iv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ev(n,e){return n.useProto3Json||Ah(e)?e:{value:e}}function ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C2(n,e){return ch(n,e.toTimestamp())}function xn(n){return Se(!!n),re.fromTimestamp(function(t){let r=mr(t);return new rt(r.seconds,r.nanos)}(n))}function N_(n,e){return Dv(n,e).canonicalString()}function Dv(n,e){let t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cA(n){let e=je.fromString(n);return Se(fA(e)),e}function bv(n,e){return N_(n.databaseId,e.path)}function Uy(n,e){let t=cA(e);if(t.get(1)!==n.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(lA(t))}function uA(n,e){return N_(n.databaseId,e)}function T2(n){let e=cA(n);return e.length===4?je.emptyPath():lA(e)}function Cv(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lA(n){return Se(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function CS(n,e,t){return{name:bv(n,e),fields:t.value.mapValue.fields}}function S2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string"),vt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),vt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:sA(l.code);return new z(h,l.message||"")}(s);t=new sh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Uy(n,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):re.min(),a=new jt({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new bs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Uy(n,r.document),o=r.readTime?xn(r.readTime):re.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new bs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Uy(n,r.document),o=r.removedTargetIds||[];t=new bs([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new vv(i,o),a=r.targetId;t=new oh(a,s)}}return t}function A2(n,e){let t;if(e instanceof no)t={update:CS(n,e.key,e.value)};else if(e instanceof Mc)t={delete:bv(n,e.key)};else if(e instanceof Fn)t={update:CS(n,e.key,e.data),updateMask:L2(e.fieldMask)};else{if(!(e instanceof pv))return Z();t={verify:bv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof to)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Os)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(n,e.precondition)),t}function R2(n,e){return n&&n.length>0?(Se(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(re.min())&&(s=xn(o)),new fv(s,i.transformResults||[])}(t,e))):[]}function M2(n,e){return{documents:[uA(n,e.path)]}}function N2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uA(n,i);let o=function(l){if(l.length!==0)return hA(On.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Is(g.field),direction:k2(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Ev(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function x2(n){let e=T2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=dA(p);return g instanceof On&&zS(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(w){return new Ns(Es(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Ah(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Ms(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Ms(y,g)}(t.endAt)),r2(e,i,s,o,a,"F",u,l)}function P2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Es(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Es(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Es(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Es(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(Es(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return On.create(t.compositeFilter.filters.map(r=>dA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(t.compositeFilter.op))}(n):Z()}function k2(n){return E2[n]}function O2(n){return D2[n]}function F2(n){return b2[n]}function Is(n){return{fieldPath:n.canonicalString()}}function Es(n){return Ut.fromServerFormat(n.fieldPath)}function hA(n){return n instanceof Qe?function(t){if(t.op==="=="){if(dS(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NAN"}};if(lS(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dS(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NAN"}};if(lS(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(t.field),op:O2(t.op),value:t.value}}}(n):n instanceof On?function(t){let r=t.getFilters().map(i=>hA(i));return r.length===1?r[0]:{compositeFilter:{op:F2(t.op),filters:r}}}(n):Z()}function L2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var xc=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Tv=class{constructor(e){this.ct=e}};function V2(n){let e=x2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hv(e,e.limit,"L"):e}var uh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Sc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=mr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ei(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?BS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):US(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Z()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Pe(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),W.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};uh.vt=new uh;var Sv=class{constructor(){this.un=new Av}addToCollectionParentIndex(e,t){return this.un.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Ji.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},Av=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt(je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(je.comparator)).toArray()}};var RK=new Uint8Array(0);var An=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(41943040,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);var Pc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Rv=class{constructor(){this.changes=new ti(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Mv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Nv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Tc(r.mutation,i,Zt.empty(),rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=Ki();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ec();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ki();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=yr(),s=Cc(),a=function(){return Cc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Fn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Tc(h.mutation,l,h.mutation.getFieldMask(),rt.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Mv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Cc(),i=new Ue((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=JS();h.forEach(g=>{if(!o.has(g)){let y=iA(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(Ki()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:ZS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=Ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ec();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,g){return new xs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let a=Ec();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Tc(h.mutation,l,Zt.empty(),rt.now()),Mh(t,l)&&(a=a.insert(u,l))}),a})}};var xv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return F.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:V2(i.bundledQuery),readTime:xn(i.readTime)}}(t)),F.resolve()}};var Pv=class{constructor(){this.overlays=new Ue(W.comparator),this.Ir=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ki();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=Ki(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ue((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ki(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ki(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yv(t,r));let o=this.Ir.get(t);o===void 0&&(o=me(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var kv=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var kc=class{constructor(){this.Tr=new yt(He.Er),this.dr=new yt(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new He(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new He(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new W(new je([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new W(new je([])),r=new He(t,e),i=new He(t,e+1),o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return W.comparator(e.key,t.key)||we(e.wr,t.wr)}static Ar(e,t){return we(e.wr,t.wr)||W.comparator(e.key,t.key)}};var Ov=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new yt(He.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new gv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(we);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new He(new W(o),0),a=new yt(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new He(t,0),i=this.br.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Fv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ue(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=yr(),s=t.path,a=new W(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||GU(qU(h),r)<=0||(i.has(h.key)||Mh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z()}Or(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lv(this)}getSize(e){return F.resolve(this.size)}},Lv=class extends Rv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Vv=class{constructor(e){this.persistence=e,this.Nr=new ti(t=>S_(t),A_),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kc,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),F.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Pc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Kn(t),F.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Br.containsKey(t))}};var jv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new VS(0),this.Kr=!1,this.Kr=!0,this.$r=new kv,this.referenceDelegate=e(this),this.Ur=new Vv(this),this.indexManager=new Sv,this.remoteDocumentCache=function(i){return new Fv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Tv(t),this.Gr=new xv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Ov(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new Uv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Uv=class extends Jy{constructor(e){super(),this.currentSequenceNumber=e}},Bv=class n{constructor(e){this.persistence=e,this.Jr=new kc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),F.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return F.or([()=>F.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var $v=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=me(),i=me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Hv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return L0()?8:KU(Je())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Hv;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ic()<=ge.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ws(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ic()<=ge.DEBUG&&U("QueryEngine","Query:",ws(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ic()<=ge.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ws(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):F.resolve())}Yi(e,t){if(gS(t))return F.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hv(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,hv(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return gS(t)||i.isEqual(re.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?F.resolve(null):(Ic()<=ge.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ws(t)),this.rs(e,s,t,zU(i,-1)).next(a=>a))})}ts(e,t){let r=new yt(QS(e));return t.forEach((i,o)=>{Mh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ic()<=ge.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ws(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ji.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var qv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ue(we),this._s=new ti(o=>S_(o),A_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function j2(n,e,t,r){return new qv(n,e,t,r)}function pA(n,e){return v(this,null,function*(){let t=ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function U2(n,e){let t=ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=F.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(R=>{let S=l.docVersions.get(w);Se(S!==null),R.version.compareTo(S)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gA(n){let e=ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function B2(n,e){let t=ee(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,S,N){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(g,y,h)&&a.push(t.Ur.updateTargetData(o,y))});let u=yr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($2(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(re.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function $2(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=yr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function H2(n,e){let t=ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z2(n,e){let t=ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new xc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Gv(n,e,t){return v(this,null,function*(){let r=ee(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Uc(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function TS(n,e,t){let r=ee(n),i=re.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ee(u),g=p._s.get(h);return g!==void 0?F.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:me())).next(a=>(q2(r,s2(e),a),{documents:a,Ts:o})))}function q2(n,e,t){let r=n.us.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var lh=class{constructor(){this.activeTargetIds=h2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Wv=class{constructor(){this.so=new lh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Kv=class{_o(e){}shutdown(){}};var dh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kd=null;function By(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}var G2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Qv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var mt="WebChannelConnection",Yv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=By(),u=this.xo(t,r.toUriEncodedString());U("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(U("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Ts("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=G2[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=By();return new Promise((s,a)=>{let u=new ky;u.setWithCredentials(!0),u.listenOnce(Fy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wc.NO_ERROR:let h=u.getResponseJson();U(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case wc.TIMEOUT:U(mt,`RPC '${e}' ${o} timed out`),a(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:let p=u.getStatus();if(U(mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let w=function(S){let N=S.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(N)>=0?N:P.UNKNOWN}(y.status);a(new z(w,y.message))}else a(new z(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(P.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{U(mt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(mt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=By(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jy(),a=Vy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Oy({})),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,w=new Qv({Io:S=>{y?U(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(U(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),U(mt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),R=(S,N,O)=>{S.listen(N,V=>{try{O(V)}catch(k){setTimeout(()=>{throw k},0)}})};return R(p,_s.EventType.OPEN,()=>{y||(U(mt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),R(p,_s.EventType.CLOSE,()=>{y||(y=!0,U(mt,`RPC '${e}' stream ${i} transport closed`),w.So())}),R(p,_s.EventType.ERROR,S=>{y||(y=!0,Ts(mt,`RPC '${e}' stream ${i} transport errored:`,S),w.So(new z(P.UNAVAILABLE,"The operation could not be completed")))}),R(p,_s.EventType.MESSAGE,S=>{var N;if(!y){let O=S.data[0];Se(!!O);let V=O,k=V.error||((N=V[0])===null||N===void 0?void 0:N.error);if(k){U(mt,`RPC '${e}' stream ${i} received error:`,k);let fe=k.status,Q=function(I){let b=$e[I];if(b!==void 0)return sA(b)}(fe),D=k.message;Q===void 0&&(Q=P.INTERNAL,D="Unknown error status: "+fe+" with message "+k.message),y=!0,w.So(new z(Q,D)),p.close()}else U(mt,`RPC '${e}' stream ${i} received:`,O),w.bo(O)}}),R(a,Ly.STAT_EVENT,S=>{S.stat===Gd.PROXY?U(mt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Gd.NOPROXY&&U(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function $y(){return typeof document<"u"?document:null}function Nh(n){return new Iv(n,!0)}var hh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var fh=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Zv=class extends fh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=S2(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?xn(s.readTime):re.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Cv(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=dv(u)?{documents:M2(o,u)}:{query:N2(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aA(o,s.resumeToken);let l=Ev(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=ch(o,s.snapshotVersion.toTimestamp());let l=Ev(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=P2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Cv(this.serializer),t.removeTarget=e,this.a_(t)}},Jv=class extends fh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=R2(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Cv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>A2(this.serializer,r))};this.a_(t)}};var Xv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Dv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Dv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},e_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(t),this.D_=!1):U("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var t_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){io(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ee(u);l.L_.add(4),yield Bc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new e_(r,i)}};function xh(n){return v(this,null,function*(){if(io(n))for(let e of n.B_)yield e(!0)})}function Bc(n){return v(this,null,function*(){for(let e of n.B_)yield e(!1)})}function mA(n,e){let t=ee(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),O_(t)?k_(t):Bs(t).r_()&&P_(t,e))}function x_(n,e){let t=ee(n),r=Bs(t);t.N_.delete(e),r.r_()&&yA(t,e),t.N_.size===0&&(r.r_()?r.o_():io(t)&&t.q_.set("Unknown"))}function P_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bs(n).A_(e)}function yA(n,e){n.Q_.xe(e),Bs(n).R_(e)}function k_(n){n.Q_=new wv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Bs(n).start(),n.q_.v_()}function O_(n){return io(n)&&!Bs(n).n_()&&n.N_.size>0}function io(n){return ee(n).L_.size===0}function vA(n){n.Q_=void 0}function W2(n){return v(this,null,function*(){n.q_.set("Online")})}function K2(n){return v(this,null,function*(){n.N_.forEach((e,t)=>{P_(n,e)})})}function Q2(n,e){return v(this,null,function*(){vA(n),O_(n)?(n.q_.M_(e),k_(n)):n.q_.set("Unknown")})}function Y2(n,e,t){return v(this,null,function*(){if(n.q_.set("Online"),e instanceof sh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ph(n,r)}else if(e instanceof bs?n.Q_.Ke(e):e instanceof oh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(re.min()))try{let r=yield gA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),yA(o,u);let p=new xc(h.target,u,l,h.sequenceNumber);P_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield ph(n,r)}})}function ph(n,e,t){return v(this,null,function*(){if(!Uc(e))throw e;n.L_.add(1),yield Bc(n),n.q_.set("Offline"),t||(t=()=>gA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield xh(n)}))})}function _A(n,e){return e().catch(t=>ph(n,t,e))}function Ph(n){return v(this,null,function*(){let e=ee(n),t=ni(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Z2(e);)try{let i=yield H2(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,J2(e,i)}catch(i){yield ph(e,i)}wA(e)&&IA(e)})}function Z2(n){return io(n)&&n.O_.length<10}function J2(n,e){n.O_.push(e);let t=ni(n);t.r_()&&t.V_&&t.m_(e.mutations)}function wA(n){return io(n)&&!ni(n).n_()&&n.O_.length>0}function IA(n){ni(n).start()}function X2(n){return v(this,null,function*(){ni(n).p_()})}function eB(n){return v(this,null,function*(){let e=ni(n);for(let t of n.O_)e.m_(t.mutations)})}function tB(n,e,t){return v(this,null,function*(){let r=n.O_.shift(),i=mv.from(r,e,t);yield _A(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ph(n)})}function nB(n,e){return v(this,null,function*(){e&&ni(n).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return _2(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();ni(r).s_(),yield _A(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ph(r)}})}(n,e)),wA(n)&&IA(n)})}function SS(n,e){return v(this,null,function*(){let t=ee(n);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=io(t);t.L_.add(3),yield Bc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield xh(t)})}function rB(n,e){return v(this,null,function*(){let t=ee(n);e?(t.L_.delete(2),yield xh(t)):e||(t.L_.add(2),yield Bc(t),t.q_.set("Unknown"))})}function Bs(n){return n.K_||(n.K_=function(t,r,i){let o=ee(t);return o.w_(),new Zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:W2.bind(null,n),Ro:K2.bind(null,n),mo:Q2.bind(null,n),d_:Y2.bind(null,n)}),n.B_.push(e=>v(this,null,function*(){e?(n.K_.s_(),O_(n)?k_(n):n.q_.set("Unknown")):(yield n.K_.stop(),vA(n))}))),n.K_}function ni(n){return n.U_||(n.U_=function(t,r,i){let o=ee(t);return o.w_(),new Jv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:X2.bind(null,n),mo:nB.bind(null,n),f_:eB.bind(null,n),g_:tB.bind(null,n)}),n.B_.push(e=>v(this,null,function*(){e?(n.U_.s_(),yield Ph(n)):(yield n.U_.stop(),n.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var n_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function F_(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Uc(n))return new z(P.UNAVAILABLE,`${e}: ${n}`);throw n}var gh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=Ec(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var mh=class{constructor(){this.W_=new Ue(W.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ls=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,gh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var r_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},i_=class{constructor(){this.queries=AS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ee(t),o=i.queries;i.queries=AS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(P.ABORTED,"Firestore shutting down"))}};function AS(){return new ti(n=>KS(n),Rh)}function iB(n,e){return v(this,null,function*(){let t=ee(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new r_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=F_(s,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&L_(t)})}function oB(n,e){return v(this,null,function*(){let t=ee(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function sB(n,e){let t=ee(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&L_(t)}function aB(n,e,t){let r=ee(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function L_(n){n.Y_.forEach(e=>{e.next()})}var o_,RS;(RS=o_||(o_={})).ea="default",RS.Cache="cache";var s_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==o_.Cache}};var yh=class{constructor(e){this.key=e}},vh=class{constructor(e){this.key=e}},a_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=QS(e),this.Ra=new gh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new mh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Mh(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;g&&y?g.data.isEqual(y.data)?w!==R&&(r.track({type:3,doc:y}),S=!0):this.ga(g,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(u||l)&&(a=!0)),S&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,w){let R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return R(y)-R(w)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ls(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new vh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new yh(r))}),t}ba(e){this.Ta=e.Ts,this.da=me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ls.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},c_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},u_=class{constructor(e){this.key=e,this.va=!1}},l_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ti(a=>KS(a),Rh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(W.comparator),this.Na=new Map,this.La=new kc,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function cB(n,e,t=!0){return v(this,null,function*(){let r=SA(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield EA(r,e,t,!0),i})}function uB(n,e){return v(this,null,function*(){let t=SA(n);yield EA(t,e,!0,!1)})}function EA(n,e,t,r){return v(this,null,function*(){let i=yield z2(n.localStore,Mn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield lB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&mA(n.remoteStore,i),a})}function lB(n,e,t,r,i){return v(this,null,function*(){n.Ka=(p,g,y)=>function(R,S,N,O){return v(this,null,function*(){let V=S.view.ma(N);V.ns&&(V=yield TS(R.localStore,S.query,!1).then(({documents:D})=>S.view.ma(D,V)));let k=O&&O.targetChanges.get(S.targetId),fe=O&&O.targetMismatches.get(S.targetId)!=null,Q=S.view.applyChanges(V,R.isPrimaryClient,k,fe);return NS(R,S.targetId,Q.wa),Q.snapshot})}(n,p,g,y);let o=yield TS(n.localStore,e,!0),s=new a_(e,o.Ts),a=s.ma(o.documents),u=Nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);NS(n,t,l.wa);let h=new c_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function dB(n,e,t){return v(this,null,function*(){let r=ee(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Rh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&x_(r.remoteStore,i.targetId),d_(r,i.targetId)}).catch(jc))):(d_(r,i.targetId),yield Gv(r.localStore,i.targetId,!0))})}function hB(n,e){return v(this,null,function*(){let t=ee(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),x_(t.remoteStore,r.targetId))})}function fB(n,e,t){return v(this,null,function*(){let r=wB(n);try{let i=yield function(s,a){let u=ee(s),l=rt.now(),h=a.reduce((y,w)=>y.add(w.key),me()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=yr(),R=me();return u.cs.getEntries(y,h).next(S=>{w=S,w.forEach((N,O)=>{O.isValidDocument()||(R=R.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(S=>{p=S;let N=[];for(let O of a){let V=v2(O,p.get(O.key).overlayedDocument);V!=null&&N.push(new Fn(O.key,V,$S(V.value.mapValue),Nn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,N,a)}).next(S=>{g=S;let N=S.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,S.batchId,N)})}).then(()=>({batchId:g.batchId,changes:ZS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ue(we)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield $c(r,i.changes),yield Ph(r.remoteStore)}catch(i){let o=F_(i,"Failed to persist write");t.reject(o)}})}function DA(n,e){return v(this,null,function*(){let t=ee(n);try{let r=yield B2(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Se(s.va):i.removedDocuments.size>0&&(Se(s.va),s.va=!1))}),yield $c(t,r,e)}catch(r){yield jc(r)}})}function MS(n,e,t){let r=ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&L_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pB(n,e,t){return v(this,null,function*(){let r=ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ue(W.comparator);s=s.insert(o,hn.newNoDocument(o,re.min()));let a=me().add(o),u=new ih(re.min(),new Map,new Ue(we),s,a);yield DA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),V_(r)}else yield Gv(r.localStore,e,!1).then(()=>d_(r,e,t)).catch(jc)})}function gB(n,e){return v(this,null,function*(){let t=ee(n),r=e.batch.batchId;try{let i=yield U2(t.localStore,e);CA(t,r,null),bA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $c(t,i)}catch(i){yield jc(i)}})}function mB(n,e,t){return v(this,null,function*(){let r=ee(n);try{let i=yield function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);CA(r,e,t),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $c(r,i)}catch(i){yield jc(i)}})}function bA(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function CA(n,e,t){let r=ee(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function d_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||TA(n,r)})}function TA(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(x_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),V_(n))}function NS(n,e,t){for(let r of t)r instanceof yh?(n.La.addReference(r.key,e),yB(n,r)):r instanceof vh?(U("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||TA(n,r.key)):Z()}function yB(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(U("SyncEngine","New document in limbo: "+t),n.xa.add(r),V_(n))}function V_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new W(je.fromString(e)),r=n.qa.next();n.Na.set(r,new u_(t)),n.Oa=n.Oa.insert(t,r),mA(n.remoteStore,new xc(Mn(R_(t.path)),r,"TargetPurposeLimboResolution",VS.oe))}}function $c(n,e,t){return v(this,null,function*(){let r=ee(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=$v.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>F.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Uc(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),w=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(g,R)}}})}(r.localStore,o))})}function vB(n,e){return v(this,null,function*(){let t=ee(n);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield pA(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(P.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $c(t,r.hs)}})}function _B(n,e){let t=ee(n),r=t.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function SA(n){let e=ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pB.bind(null,e),e.Ca.d_=sB.bind(null,e.eventManager),e.Ca.$a=aB.bind(null,e.eventManager),e}function wB(n){let e=ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mB.bind(null,e),e}var _h=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return j2(this.persistence,new zv,e.initialUser,this.serializer)}createPersistence(e){return new jv(Bv.Zr,this.serializer)}createSharedClientState(e){return new Wv}terminate(){return v(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var h_=class{initialize(e,t){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vB.bind(null,this.syncEngine),yield rB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new i_}()}createDatastore(e){let t=Nh(e.databaseInfo.databaseId),r=function(o){return new Yv(o)}(e.databaseInfo);return function(o,s,a,u){return new Xv(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,s,a){return new t_(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>MS(this.syncEngine,t,0),function(){return dh.D()?new dh:new Kv}())}createSyncEngine(e,t){return function(i,o,s,a,u,l,h){let p=new l_(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return v(this,null,function*(){var e,t;yield function(i){return v(this,null,function*(){let o=ee(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Bc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var f_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var p_=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=Jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>v(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=F_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hy(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield pA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function xS(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield EB(n);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>SS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>SS(e.remoteStore,i)),n._onlineComponents=e})}function IB(n){return n.name==="FirebaseError"?n.code===P.FAILED_PRECONDITION||n.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function EB(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!IB(t))throw t;Ts("Error using user provided cache. Falling back to memory cache: "+t),yield Hy(n,new _h)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Hy(n,new _h);return n._offlineComponents})}function AA(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield xS(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield xS(n,new h_))),n._onlineComponents})}function DB(n){return AA(n).then(e=>e.syncEngine)}function PS(n){return v(this,null,function*(){let e=yield AA(n),t=e.eventManager;return t.onListen=cB.bind(null,e.syncEngine),t.onUnlisten=dB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hB.bind(null,e.syncEngine),t})}function RA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var kS=new Map;function MA(n,e,t){if(!t)throw new z(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bB(n,e,t,r){if(e===!0&&r===!0)throw new z(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OS(n){if(!W.isDocumentKey(n))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FS(n){if(W.isDocumentKey(n))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function j_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=j_(n);throw new z(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var wh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zy;switch(r.type){case"firstParty":return new Ky(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=kS.get(t);r&&(U("ComponentProvider","Removing Datastore"),kS.delete(t),r.terminate())}(this),Promise.resolve()}};function NA(n,e,t,r={}){var i;let o=(n=Pn(n,Vs))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Xe.MOCK_USER;else{a=N0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xe(l)}n._authCredentials=new qy(new Zd(a,u))}}var Ih=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Xr=class n extends Ih{constructor(e,t,r){super(e,t,R_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function kh(n,e,...t){if(n=Ke(n),MA("collection","path",e),n instanceof Vs){let r=je.fromString(e,...t);return FS(r),new Xr(n,null,r)}{if(!(n instanceof Pt||n instanceof Xr))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return FS(r),new Xr(n.firestore,null,r)}}function U_(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=Jd.newId()),MA("doc","path",e),n instanceof Vs){let r=je.fromString(e,...t);return OS(r),new Pt(n,null,new W(r))}{if(!(n instanceof Pt||n instanceof Xr))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return OS(r),new Pt(n.firestore,n instanceof Xr?n.converter:null,new W(r))}}var g_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new hh(this,"async_queue_retry"),this.Eu=()=>{let t=$y();t&&U("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=$y();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=$y();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new pr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return v(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Uc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let i=n_.createAndSchedule(this,e,t,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Z()}verifyOperationInProgress(){}mu(){return v(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function LS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var vr=class extends Vs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new g_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kA(this),this._firestoreClient.terminate()}};function xA(n,e){let t=typeof n=="object"?n:fs(),r=typeof n=="string"?n:e||"(default)",i=cc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=M0("firestore");o&&NA(i,...o)}return i}function PA(n){return n._firestoreClient||kA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kA(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Xy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RA(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new p_(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Oc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(vt.fromBase64String(e))}catch(t){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var js=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fc=class{constructor(e){this._methodName=e}};var Lc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Vc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var CB=/^__.*__$/,m_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,t,this.fieldTransforms):new no(e,this.data,t,this.fieldTransforms)}},Eh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function OA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var y_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return bh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(OA(this.wu)&&CB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},v_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nh(e)}Nu(e,t,r,i=!1){return new y_({wu:e,methodName:t,Ou:r,path:Ut.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function B_(n){let e=n._freezeSettings(),t=Nh(n._databaseId);return new v_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FA(n,e,t,r,i,o={}){let s=n.Nu(o.merge||o.mergeFields?2:0,e,t,i);$_("Data must be an object, but it was:",s,r);let a=LA(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=__(e,p,t);if(!s.contains(g))throw new z(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);jA(h,g)||h.push(g)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new m_(new jt(a),u,l)}var Dh=class n extends Fc{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function TB(n,e,t,r){let i=n.Nu(1,e,t);$_("Data must be an object, but it was:",i,r);let o=[],s=jt.empty();ro(r,(u,l)=>{let h=H_(e,u,t);l=Ke(l);let p=i.Cu(h);if(l instanceof Dh)o.push(h);else{let g=Oh(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Zt(o);return new Eh(s,a,i.fieldTransforms)}function SB(n,e,t,r,i,o){let s=n.Nu(1,e,t),a=[__(e,r,t)],u=[i];if(o.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(__(e,o[g])),u.push(o[g+1]);let l=[],h=jt.empty();for(let g=a.length-1;g>=0;--g)if(!jA(l,a[g])){let y=a[g],w=u[g];w=Ke(w);let R=s.Cu(y);if(w instanceof Dh)l.push(y);else{let S=Oh(w,R);S!=null&&(l.push(y),h.set(y,S))}}let p=new Zt(l);return new Eh(h,p,s.fieldTransforms)}function Oh(n,e){if(VA(n=Ke(n)))return $_("Unsupported field value:",e,n),LA(n,e);if(n instanceof Fc)return function(r,i){if(!OA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Oh(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:ch(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,o)}}if(r instanceof Lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oc)return{bytesValue:aA(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:N_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return M_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${j_(r)}`)}(n,e)}function LA(n,e){let t={};return jS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(r,i)=>{let o=Oh(i,e.bu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function VA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Lc||n instanceof Oc||n instanceof Pt||n instanceof Fc||n instanceof Vc)}function $_(n,e,t){if(!VA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=j_(t);throw r==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+r)}}function __(n,e,t){if((e=Ke(e))instanceof js)return e._internalPath;if(typeof e=="string")return H_(n,e);throw bh("Field path arguments must be of type string or ",n,!1,void 0,t)}var AB=new RegExp("[~\\*/\\[\\]]");function H_(n,e,t){if(e.search(AB)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new js(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(P.INVALID_ARGUMENT,a+n+u)}function jA(n,e){return n.some(t=>t.isEqual(e))}var Ch=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new w_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(UA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},w_=class extends Ch{data(){return super.data()}};function UA(n,e){return typeof e=="string"?H_(n,e):e instanceof js?e._internalPath:e._delegate._internalPath}function RB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var I_=class{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ro(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Vc(o)}convertGeoPoint(e){return new Lc(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=C_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){let t=mr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=je.fromString(e);Se(fA(r));let i=new nh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function BA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Yi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Th=class extends Ch{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(UA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Cs=class extends Th{data(e={}){return super.data(e)}},E_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cs(this._firestore,this._userDataWriter,r.key,r,new Yi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:MB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function MB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}var Sh=class extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}};function $A(n,e,t){n=Pn(n,Pt);let r=Pn(n.firestore,vr),i=BA(n.converter,e,t);return Fh(r,[FA(B_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Nn.none())])}function HA(n,e,t,...r){n=Pn(n,Pt);let i=Pn(n.firestore,vr),o=B_(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof js?SB(o,"updateDoc",n._key,e,t,r):TB(o,"updateDoc",n._key,e),Fh(i,[s.toMutation(n._key,Nn.exists(!0))])}function zA(n){return Fh(Pn(n.firestore,vr),[new Mc(n._key,Nn.none())])}function qA(n,e){let t=Pn(n.firestore,vr),r=U_(n),i=BA(n.converter,e);return Fh(t,[FA(B_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function z_(n,...e){var t,r,i;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||LS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(LS(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Pt)l=Pn(n.firestore,vr),h=R_(n._key.path),u={next:p=>{e[s]&&e[s](NB(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Pn(n,Ih);l=Pn(p.firestore,vr),h=p._query;let g=new Sh(l);u={next:y=>{e[s]&&e[s](new E_(l,g,p,y))},error:e[s+1],complete:e[s+2]},RB(n._query)}return function(g,y,w,R){let S=new f_(R),N=new s_(y,S,w);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return iB(yield PS(g),N)})),()=>{S.za(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return oB(yield PS(g),N)}))}}(PA(l),h,a,u)}function Fh(n,e){return function(r,i){let o=new pr;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return fB(yield DB(r),i,o)})),o.promise}(PA(n),e)}function NB(n,e,t){let r=t.docs.get(e._key),i=new Sh(n);return new Th(n,i,e._key,r,new Yi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Us=i})(Wr),Gr(new Yt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new vr(new Gy(r.getProvider("auth-internal")),new Yy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Be(sS,"4.7.2",e),Be(sS,"4.7.2","esm2017")})();var Lh=function(){return Lh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lh.apply(this,arguments)};var kB={includeMetadataChanges:!1};function GA(n,e){return e===void 0&&(e=kB),new ue(function(t){var r=z_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function WA(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Lh(Lh({},r),(t={},t[e.idField]=n.id,t))}function KA(n){return GA(n,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}function QA(n,e){return e===void 0&&(e={}),KA(n).pipe(K(function(t){return t.map(function(r){return WA(r,e)})}))}var oo=class{constructor(e){return e}},YA="firestore",q_=class{constructor(){return uc(YA)}};var G_=new q("angularfire2.firestore-instances");function OB(n,e){let t=Ed(YA,n,e);return t&&new oo(t)}function FB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oo(r)}}var LB={provide:q_,deps:[[new Rt,G_]]},VB={provide:oo,useFactory:OB,deps:[[new Rt,G_],ur]};function ZA(n,...e){return Be("angularfire",$i.full,"fst"),Xn([VB,LB,{provide:G_,useFactory:FB(n),multi:!0,deps:[Ce,nt,ms,Hi,[new Rt,_c],[new Rt,gs],...e]}])}var JA=xt(QA,!0);var XA=xt(qA,!0);var W_=xt(zA,!0);var Hc=xt(U_,!0);var eR=xt(xA,!0);var tR=xt($A,!0);var K_=xt(HA,!0);var Ln=(()=>{class n{constructor(){this.todos=[],this.isLoading=In(!0),this.firestore=x(oo)}addItem(t){let r={title:t,completed:!1};this.todos.push(r),console.log(this.todos)}removeItem(t){let r=this.todos.indexOf(t);this.todos.splice(r,1)}clearCompleted(){this.todos=this.todos.filter(t=>!t.completed)}toggleAll(t){this.todos=this.todos.map(r=>ne(j({},r),{completed:t}))}getItems(t="all"){switch(t){case"active":return this.todos.filter(r=>!r.completed);case"completed":return this.todos.filter(r=>r.completed)}return this.todos}readUserwiseTodo(t){let r=kh(this.firestore,`users/${t}/todos`);console.log("C-ID ",t),JA(r).subscribe(i=>{console.log(i),this.todos=[...i],this.isLoading.set(!1)})}addUserwiseTodo(t,r){let i={title:r,completed:!1},o=kh(this.firestore,`users/${t}/todos`);return pe(XA(o,i).then(s=>{tR(s,ne(j({},i),{id:s.id}))}))}toggleUserwiseTodo(t,r){return v(this,null,function*(){this.todos.forEach(i=>v(this,null,function*(){let o=Hc(this.firestore,`users/${t}/todos/${i.id}`);yield K_(o,{completed:r})}))})}updateUserwiseSpecificField(t,r,i,o){let s=Hc(this.firestore,`users/${t}/todos/${r}`);return pe(K_(s,{[i]:o}))}deleteAllCompletedTodos(t){return v(this,null,function*(){this.todos.forEach(r=>v(this,null,function*(){if(r.completed){let i=Hc(this.firestore,`users/${t}/todos/${r.id}`);yield W_(i)}}))})}deleteUserwiseSpecificField(t,r){let i=Hc(this.firestore,`users/${t}/todos/${r}`);return pe(W_(i))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Q_(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&GD(Q_);let r=t?e?.injector?.get(za)??x(za):null,i=jB(e?.equal),o;e?.requireSync?o=In({kind:0},{equal:i}):o=In({kind:1,value:e?.initialValue},{equal:i});let s=n.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(e?.requireSync&&o().kind===0)throw new H(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),Fi(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new H(601,!1)}},{equal:e?.equal})}function jB(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var oe="primary",ou=Symbol("RouteTitle"),ew=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ws(n){return new ew(n)}function UB(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function BB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vn(n[t],e[t]))return!1;return!0}function Vn(n,e){let t=n?tw(n):void 0,r=e?tw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uR(n[i],e[i]))return!1;return!0}function tw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function lR(n){return n.length>0?n[n.length-1]:null}function ii(n){return ep(n)?n:Pi(n)?pe(Promise.resolve(n)):$(n)}var $B={exact:hR,subset:fR},dR={exact:HB,subset:zB,ignored:()=>!0};function nR(n,e,t){return $B[t.paths](n.root,e.root,t.matrixParams)&&dR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function HB(n,e){return Vn(n,e)}function hR(n,e,t){if(!ao(n.segments,e.segments)||!Uh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!hR(n.children[r],e.children[r],t))return!1;return!0}function zB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uR(n[t],e[t]))}function fR(n,e,t){return pR(n,e,e.segments,t)}function pR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!Uh(i,t,r))}else if(n.segments.length===t.length){if(!ao(n.segments,t)||!Uh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!fR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ao(n.segments,i)||!Uh(n.segments,i,r)||!n.children[oe]?!1:pR(n.children[oe],e,o,r)}}function Uh(n,e,t){return e.every((r,i)=>dR[t](n[i].parameters,r.parameters))}var wr=class{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ws(this.queryParams),this._queryParamMap}toString(){return WB.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bh(this)}},so=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ws(this.parameters),this._parameterMap}toString(){return mR(this)}};function qB(n,e){return ao(n,e)&&n.every((t,r)=>Vn(t.parameters,e[r].parameters))}function ao(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function GB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}var Sw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new Yc,providedIn:"root"})}}return n})(),Yc=class{parse(e){let t=new rw(e);return new wr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${zc(e.root,!0)}`,r=YB(e.queryParams),i=typeof e.fragment=="string"?`#${KB(e.fragment)}`:"";return`${t}${r}${i}`}},WB=new Yc;function Bh(n){return n.segments.map(e=>mR(e)).join("/")}function zc(n,e){if(!n.hasChildren())return Bh(n);if(e){let t=n.children[oe]?zc(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${zc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=GB(n,(r,i)=>i===oe?[zc(n.children[oe],!1)]:[`${i}:${zc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Bh(n)}/${t[0]}`:`${Bh(n)}/(${t.join("//")})`}}function gR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vh(n){return gR(n).replace(/%3B/gi,";")}function KB(n){return encodeURI(n)}function nw(n){return gR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $h(n){return decodeURIComponent(n)}function rR(n){return $h(n.replace(/\+/g,"%20"))}function mR(n){return`${nw(n.path)}${QB(n.parameters)}`}function QB(n){return Object.entries(n).map(([e,t])=>`;${nw(e)}=${nw(t)}`).join("")}function YB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Vh(t)}=${Vh(i)}`).join("&"):`${Vh(t)}=${Vh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ZB=/^[^\/()?;#]+/;function Y_(n){let e=n.match(ZB);return e?e[0]:""}var JB=/^[^\/()?;=#]+/;function XB(n){let e=n.match(JB);return e?e[0]:""}var e$=/^[^=?&#]+/;function t$(n){let e=n.match(e$);return e?e[0]:""}var n$=/^[^&#]+/;function r$(n){let e=n.match(n$);return e?e[0]:""}var rw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Ie(e,t)),r}parseSegment(){let e=Y_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new so($h(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=XB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Y_(this.remaining);i&&(r=i,this.capture(r))}e[$h(t)]=$h(r)}parseQueryParam(e){let t=t$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=r$(this.remaining);s&&(r=s,this.capture(r))}let i=rR(t),o=rR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Y_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function yR(n){return n.segments.length>0?new Ie([],{[oe]:n}):n}function vR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=vR(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return i$(t)}function i$(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Ie(n.segments.concat(e.segments),e.children)}return n}function co(n){return n instanceof wr}function o$(n,e,t=null,r=null){let i=_R(n);return wR(i,e,t,r)}function _R(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=yR(r);return e??i}function wR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Z_(i,i,i,t,r);let o=s$(e);if(o.toRoot())return Z_(i,i,new Ie([],{}),t,r);let s=a$(o,i,n),a=s.processChildren?Wc(s.segmentGroup,s.index,o.commands):ER(s.segmentGroup,s.index,o.commands);return Z_(i,s.segmentGroup,a,t,r)}function Hh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Zc(n){return typeof n=="object"&&n!=null&&n.outlets}function Z_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=IR(n,e,t);let a=yR(vR(s));return new wr(a,o,i)}function IR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=IR(o,e,t)}),new Ie(n.segments,r)}var zh=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hh(r[0]))throw new H(4003,!1);let i=r.find(Zc);if(i&&i!==lR(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function s$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new zh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zh(t,e,r)}var zs=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function a$(n,e,t){if(n.isAbsolute)return new zs(e,!0,0);if(!t)return new zs(e,!1,NaN);if(t.parent===null)return new zs(t,!0,0);let r=Hh(n.commands[0])?0:1,i=t.segments.length-1+r;return c$(t,i,n.numberOfDoubleDots)}function c$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new zs(r,!1,i-o)}function u$(n){return Zc(n[0])?n[0].outlets:{[oe]:n}}function ER(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Wc(n,e,t);let r=l$(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Ie(n.segments.slice(r.pathIndex),n.children),Wc(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?iw(n,e,t):r.match?Wc(n,0,i):iw(n,e,t)}function Wc(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=u$(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=Wc(n.children[oe],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ER(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function l$(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Zc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oR(u,l,s))return o;r+=2}else{if(!oR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Zc(o)){let u=d$(o.outlets);return new Ie(r,u)}if(i===0&&Hh(t[0])){let u=n.segments[e];r.push(new so(u.path,iR(t[0]))),i++;continue}let s=Zc(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Hh(a)?(r.push(new so(s,iR(a))),i+=2):(r.push(new so(s,{})),i++)}return new Ie(r,{})}function d$(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=iw(new Ie([],{}),0,r))}),e}function iR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oR(n,e,t){return n==t.path&&Vn(e,t.parameters)}var Kc="imperative",it=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(it||{}),Jt=class{constructor(e,t){this.id=e,this.url=t}},Jc=class extends Jt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends Jt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}($t||{}),ow=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ow||{}),_r=class extends Jt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},uo=class extends Jt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},Xc=class extends Jt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qh=class extends Jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sw=class extends Jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},aw=class extends Jt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cw=class extends Jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uw=class extends Jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lw=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dw=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hw=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fw=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pw=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gw=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var eu=class{},Ks=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function h$(n,e){return n.providers&&!n._injector&&(n._injector=nm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fn(n){return n.outlet||oe}function f$(n,e){let t=n.filter(r=>fn(r)===e);return t.push(...n.filter(r=>fn(r)!==e)),t}function su(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var mw=class{get injector(){return su(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Jh(this.rootInjector),this.attachRef=null}},Jh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(G(Gt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vw(e,this._root).map(t=>t.value)}};function yw(n,e){if(n===e.value)return e;for(let t of e.children){let r=yw(n,t);if(r)return r}return null}function vw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vw(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Hs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Wh=class extends Gh{constructor(e,t){super(e),this.snapshot=t,Aw(this,e)}toString(){return this.snapshot.toString()}};function DR(n){let e=p$(n),t=new qe([new so("",{})]),r=new qe({}),i=new qe({}),o=new qe({}),s=new qe(""),a=new lo(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new Wh(new Bt(a,[]),e)}function p$(n){let e={},t={},r={},i="",o=new qs([],e,r,i,t,oe,n,null,{});return new Qh("",new Bt(o,[]))}var lo=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(K(l=>l[ou]))??$(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Ws(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Ws(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&CR(i)&&(r.resolve[ou]=i.title),r}var qs=class{get title(){return this.data?.[ou]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ws(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ws(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qh=class extends Gh{constructor(e,t){super(t),this.url=e,Aw(this,t)}toString(){return bR(this._root)}};function Aw(n,e){e.value._routerState=n,e.children.forEach(t=>Aw(n,t))}function bR(n){let e=n.children.length>0?` { ${n.children.map(bR).join(", ")} } `:"";return`${n.value}${e}`}function J_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Vn(e.params,t.params)||n.paramsSubject.next(t.params),BB(e.url,t.url)||n.urlSubject.next(t.url),Vn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _w(n,e){let t=Vn(n.params,e.params)&&qB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_w(n.parent,e.parent))}function CR(n){return typeof n.title=="string"||n.title===null}var Rw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=x(Jh),this.location=x(Ri),this.changeDetector=x(Oi),this.inputBinder=x(Mw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ww(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lr]})}}return n})(),ww=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lo?this.route:e===Jh?this.childContexts:this.parent.get(e,t)}},Mw=new q("");function g$(n,e,t){let r=tu(n,e._root,t?t._root:void 0);return new Wh(r,e)}function tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=m$(n,e,t);return new Bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tu(n,a)),s}}let r=y$(e.value),i=e.children.map(o=>tu(n,o));return new Bt(r,i)}}function m$(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tu(n,r,i);return tu(n,r)})}function y$(n){return new lo(new qe(n.url),new qe(n.params),new qe(n.queryParams),new qe(n.fragment),new qe(n.data),n.outlet,n.component,n)}var nu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},TR="ngNavigationCancelingError";function Yh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SR(!1,$t.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function SR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[TR]=!0,t.cancellationCode=e,t}function v$(n){return AR(n)&&co(n.url)}function AR(n){return!!n&&n[TR]}var _$=(n,e,t,r)=>K(i=>(new Iw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Iw=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),J_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Hs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Hs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(J_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),J_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Zh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gs=class{constructor(e,t){this.component=e,this.route=t}};function w$(n,e,t){let r=n._root,i=e?e._root:null;return qc(r,i,t,[r.value])}function I$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ys(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!DD(n)?n:e.get(n):r}function qc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hs(e);return n.children.forEach(s=>{E$(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qc(a,t.getContext(s),i)),i}function E$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=D$(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Zh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qc(n,e,a?a.children:null,r,i):qc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gs(a.outlet.component,s))}else s&&Qc(e,a,i),i.canActivateChecks.push(new Zh(r)),o.component?qc(n,null,a?a.children:null,r,i):qc(n,null,t,r,i);return i}function D$(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!Vn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_w(n,e)||!Vn(n.queryParams,e.queryParams);case"paramsChange":default:return!_w(n,e)}}function Qc(n,e,t){let r=Hs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qc(s,e.children.getContext(o),t):Qc(s,null,t):Qc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Gs(e.outlet.component,i)):t.canDeactivateChecks.push(new Gs(null,i)):t.canDeactivateChecks.push(new Gs(null,i))}function au(n){return typeof n=="function"}function b$(n){return typeof n=="boolean"}function C$(n){return n&&au(n.canLoad)}function T$(n){return n&&au(n.canActivate)}function S$(n){return n&&au(n.canActivateChild)}function A$(n){return n&&au(n.canDeactivate)}function R$(n){return n&&au(n.canMatch)}function RR(n){return n instanceof Gn||n?.name==="EmptyError"}var jh=Symbol("INITIAL_VALUE");function Qs(){return lt(n=>tl(n.map(e=>e.pipe(Ot(1),il(jh)))).pipe(K(e=>{for(let t of e)if(t!==!0){if(t===jh)return jh;if(t===!1||M$(t))return t}return!0}),ut(e=>e!==jh),Ot(1)))}function M$(n){return co(n)||n instanceof nu}function N$(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?$(ne(j({},t),{guardsResult:!0})):x$(s,r,i,n).pipe(ke(a=>a&&b$(a)?P$(r,o,n,e):$(a)),K(a=>ne(j({},t),{guardsResult:a})))})}function x$(n,e,t,r){return pe(n).pipe(ke(i=>V$(i.component,i.route,t,e,r)),Ye(i=>i!==!0,!0))}function P$(n,e,t,r){return pe(e).pipe(At(i=>Mo(O$(i.route.parent,r),k$(i.route,r),L$(n,i.path,t),F$(n,i.route,t))),Ye(i=>i!==!0,!0))}function k$(n,e){return n!==null&&e&&e(new pw(n)),$(!0)}function O$(n,e){return n!==null&&e&&e(new hw(n)),$(!0)}function F$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>gn(()=>{let s=su(e)??t,a=Ys(o,s),u=T$(a)?a.canActivate(e,n):er(s,()=>a(e,n));return ii(u).pipe(Ye())}));return $(i).pipe(Qs())}function L$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>I$(s)).filter(s=>s!==null).map(s=>gn(()=>{let a=s.guards.map(u=>{let l=su(s.node)??t,h=Ys(u,l),p=S$(h)?h.canActivateChild(r,n):er(l,()=>h(r,n));return ii(p).pipe(Ye())});return $(a).pipe(Qs())}));return $(o).pipe(Qs())}function V$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let u=su(e)??i,l=Ys(a,u),h=A$(l)?l.canDeactivate(n,e,t,r):er(u,()=>l(n,e,t,r));return ii(h).pipe(Ye())});return $(s).pipe(Qs())}function j$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(s=>{let a=Ys(s,n),u=C$(a)?a.canLoad(e,t):er(n,()=>a(e,t));return ii(u)});return $(o).pipe(Qs(),MR(r))}function MR(n){return Do(Ae(e=>{if(typeof e!="boolean")throw Yh(n,e)}),K(e=>e===!0))}function U$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(s=>{let a=Ys(s,n),u=R$(a)?a.canMatch(e,t):er(n,()=>a(e,t));return ii(u)});return $(o).pipe(Qs(),MR(r))}var ru=class{constructor(e){this.segmentGroup=e||null}},iu=class extends Error{constructor(e){super(),this.urlTree=e}};function $s(n){return nn(new ru(n))}function B$(n){return nn(new H(4e3,!1))}function $$(n){return nn(SR(!1,$t.GuardRejected))}var Ew=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[oe])return B$(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:w,title:R}=i,S=er(o,()=>a({params:y,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:R}));if(S instanceof wr)throw new iu(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new iu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Dw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H$(n,e,t,r,i){let o=NR(n,e,t);return o.matched?(r=h$(e,r),U$(r,e,t,i).pipe(K(s=>s===!0?o:j({},Dw)))):$(o)}function NR(n,e,t){if(e.path==="**")return z$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Dw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||UB)(t,n,e);if(!i)return j({},Dw);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function z$(n){return{matched:!0,parameters:n.length>0?lR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sR(n,e,t,r){return t.length>0&&W$(n,t,r)?{segmentGroup:new Ie(e,G$(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&K$(n,t,r)?{segmentGroup:new Ie(n.segments,q$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function q$(n,e,t,r){let i={};for(let o of t)if(Xh(n,e,o)&&!r[fn(o)]){let s=new Ie([],{});i[fn(o)]=s}return j(j({},r),i)}function G$(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&fn(r)!==oe){let i=new Ie([],{});t[fn(r)]=i}return t}function W$(n,e,t){return t.some(r=>Xh(n,e,r)&&fn(r)!==oe)}function K$(n,e,t){return t.some(r=>Xh(n,e,r))}function Xh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Q$(n,e,t){return e.length===0&&!n.children[t]}var bw=class{};function Y$(n,e,t,r,i,o,s="emptyOnly"){return new Cw(n,e,t,r,i,s,o).recognize()}var Z$=31,Cw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ew(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=sR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new Qh("",i),s=o$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new qs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(K(r=>({children:r,rootSnapshot:t})),Ge(r=>{if(r instanceof iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ru?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(K(s=>s instanceof Bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return pe(o).pipe(At(s=>{let a=r.children[s],u=f$(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Po((s,a)=>(s.push(...a),s)),Mr(null),rp(),ke(s=>{if(s===null)return $s(r);let a=xR(s);return J$(a),$(a)}))}processSegment(e,t,r,i,o,s,a){return pe(t).pipe(At(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Ge(l=>{if(l instanceof ru)return $(null);throw l}))),Ye(u=>!!u),Ge(u=>{if(RR(u))return Q$(r,i,o)?$(new bw):$s(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return fn(r)!==s&&(s===oe||!Xh(i,o,r))?$s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):$s(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=NR(t,i,o);if(!u)return $s(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Z$&&(this.allowRedirects=!1));let y=new qs(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,aR(i),fn(i),i.component??i._loadedComponent??null,i,cR(i)),w=Kh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(ke(S=>this.processSegment(e,r,t,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=H$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(lt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(lt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,w=new qs(g,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,aR(r),fn(r),r.component??r._loadedComponent??null,r,cR(r)),R=Kh(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data);let{segmentGroup:S,slicedSegments:N}=sR(t,g,y,l);if(N.length===0&&S.hasChildren())return this.processChildren(h,l,S,w).pipe(K(V=>new Bt(w,V)));if(l.length===0&&N.length===0)return $(new Bt(w,[]));let O=fn(r)===o;return this.processSegment(h,l,S,N,O?oe:o,!0,w).pipe(K(V=>new Bt(w,V instanceof Bt?[V]:[])))}))):$s(t)))}getChildConfig(e,t,r){return t.children?$({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?$({routes:t._loadedRoutes,injector:t._loadedInjector}):j$(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(Ae(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):$$(t))):$({routes:[],injector:e})}};function J$(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function X$(n){let e=n.value.routeConfig;return e&&e.path===""}function xR(n){let e=[],t=new Set;for(let r of n){if(!X$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=xR(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!t.has(r))}function aR(n){return n.data||{}}function cR(n){return n.resolve||{}}function eH(n,e,t,r,i,o){return ke(s=>Y$(n,e,t,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:u})=>ne(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function tH(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of PR(u))s.add(l);let a=0;return pe(s).pipe(At(u=>o.has(u)?nH(u,r,n,e):(u.data=Kh(u,u.parent,n).resolve,$(void 0))),Ae(()=>a++),xo(1),ke(u=>a===s.size?$(t):Et))})}function PR(n){let e=n.children.map(t=>PR(t)).flat();return[n,...e]}function nH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!CR(i)&&(o[ou]=i.title),rH(o,n,e,r).pipe(K(s=>(n._resolvedData=s,n.data=Kh(n,n.parent,t).resolve,null)))}function rH(n,e,t,r){let i=tw(n);if(i.length===0)return $({});let o={};return pe(i).pipe(ke(s=>iH(n[s],e,t,r).pipe(Ye(),Ae(a=>{if(a instanceof nu)throw Yh(new Yc,a);o[s]=a}))),xo(1),ba(o),Ge(s=>RR(s)?Et:nn(s)))}function iH(n,e,t,r){let i=su(e)??r,o=Ys(n,i),s=o.resolve?o.resolve(e,t):er(i,()=>o(e,t));return ii(s)}function X_(n){return lt(e=>{let t=n(e);return t?pe(t).pipe(K(()=>e)):$(e)})}var kR=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[ou]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(oH),providedIn:"root"})}}return n})(),oH=(()=>{class n extends kR{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(G(r0))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nw=new q("",{providedIn:"root",factory:()=>({})}),sH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Nt],decls:1,vars:0,template:function(r,i){r&1&&rs(0,"router-outlet")},dependencies:[Rw],encapsulation:2})}}return n})();function xw(n){let e=n.children&&n.children.map(xw),t=e?ne(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=sH),t}var Pw=new q(""),aH=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(sm)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ii(t.loadComponent()).pipe(K(OR),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ca(()=>{this.componentLoaders.delete(t)})),i=new Co(r,()=>new Me).pipe(bo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cH(r,this.compiler,t,this.onLoadEndListener).pipe(Ca(()=>{this.childrenLoaders.delete(r)})),s=new Co(o,()=>new Me).pipe(bo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cH(n,e,t,r){return ii(n.loadChildren()).pipe(K(OR),ke(i=>i instanceof ja||Array.isArray(i)?$(i):pe(e.compileModuleAsync(i))),K(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Pw,[],{optional:!0,self:!0}).flat()),{routes:s.map(xw),injector:o}}))}function uH(n){return n&&typeof n=="object"&&"default"in n}function OR(n){return uH(n)?n.default:n}var kw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(lH),providedIn:"root"})}}return n})(),lH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dH=new q("");var hH=new q(""),fH=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.transitionAbortSubject=new Me,this.configLoader=x(aH),this.environmentInjector=x(Gt),this.urlSerializer=x(Sw),this.rootContexts=x(Jh),this.location=x(dn),this.inputBindingEnabled=x(Mw,{optional:!0})!==null,this.titleStrategy=x(kR),this.options=x(Nw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(kw),this.createViewTransition=x(dH,{optional:!0}),this.navigationErrorHandler=x(hH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let t=i=>this.events.next(new lw(i)),r=i=>this.events.next(new dw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ne(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Kc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),K(o=>ne(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),lt(o=>{let s=!1,a=!1;return $(o).pipe(lt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ne(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new uo(u.id,this.urlSerializer.serialize(u.rawUrl),p,ow.IgnoredSameUrlNavigation)),u.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $(u).pipe(lt(p=>{let g=this.transitions?.getValue();return this.events.next(new Jc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Et:Promise.resolve(p)}),eH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ne(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new qh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:w,extras:R}=u,S=new Jc(p,this.urlSerializer.serialize(g),y,w);this.events.next(S);let N=DR(this.rootComponentType).snapshot;return this.currentTransition=o=ne(j({},u),{targetSnapshot:N,urlAfterRedirects:g,extras:ne(j({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,$(o)}else{let p="";return this.events.next(new uo(u.id,this.urlSerializer.serialize(u.extractedUrl),p,ow.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Et}}),Ae(u=>{let l=new sw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),K(u=>(this.currentTransition=o=ne(j({},u),{guards:w$(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),N$(this.environmentInjector,u=>this.events.next(u)),Ae(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Yh(this.urlSerializer,u.guardsResult);let l=new aw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",$t.GuardRejected),!1)),X_(u=>{if(u.guards.canActivateChecks.length)return $(u).pipe(Ae(l=>{let h=new cw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),lt(l=>{let h=!1;return $(l).pipe(tH(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",$t.NoDataFromResolver)}}))}),Ae(l=>{let h=new uw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),X_(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ae(g=>{h.component=g}),K(()=>{})));for(let g of h.children)p.push(...l(g));return p};return tl(l(u.targetSnapshot.root)).pipe(Mr(null),Ot(1))}),X_(()=>this.afterPreactivation()),lt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?pe(h).pipe(K(()=>o)):$(o)}),K(u=>{let l=g$(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ne(j({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ae(()=>{this.events.next(new eu)}),_$(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ot(1),Ae({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Ta(this.transitionAbortSubject.pipe(Ae(u=>{throw u}))),Ca(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ge(u=>{if(a=!0,AR(u))this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),v$(u)?this.events.next(new Ks(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Xc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=er(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof nu){let{message:p,cancellationCode:g}=Yh(this.urlSerializer,h);this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ks(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new _r(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pH(n){return n!==Kc}var gH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(mH),providedIn:"root"})}}return n})(),Tw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},mH=(()=>{class n extends Tw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xo(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(yH),providedIn:"root"})}}return n})(),yH=(()=>{class n extends FR{constructor(){super(...arguments),this.location=x(dn),this.urlSerializer=x(Sw),this.options=x(Nw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(kw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Jc)this.stateMemento=this.createStateMemento();else if(t instanceof uo)this.rawUrlTree=r.initialUrl;else if(t instanceof qh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof eu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof _r&&(t.code===$t.GuardRejected||t.code===$t.NoDataFromResolver)?this.restoreHistory(r):t instanceof Xc?this.restoreHistory(r,!0):t instanceof ri&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof wr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xo(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gc||{});function vH(n,e){n.events.pipe(ut(t=>t instanceof ri||t instanceof _r||t instanceof Xc||t instanceof uo),K(t=>t instanceof ri||t instanceof uo?Gc.COMPLETE:(t instanceof _r?t.code===$t.Redirect||t.code===$t.SupersededByNewNavigation:!1)?Gc.REDIRECTING:Gc.FAILED),ut(t=>t!==Gc.REDIRECTING),Ot(1)).subscribe(()=>{e()})}function _H(n){throw n}var wH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ir=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(nd),this.stateManager=x(FR),this.options=x(Nw,{optional:!0})||{},this.pendingTasks=x(es),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(fH),this.urlSerializer=x(Sw),this.location=x(dn),this.urlHandlingStrategy=x(kw),this._events=new Me,this.errorHandler=this.options.errorHandler||_H,this.navigated=!1,this.routeReuseStrategy=x(gH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Pw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Mw,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _r&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ri)this.navigated=!0;else if(r instanceof Ks){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pH(i.source)},s);this.scheduleNavigation(a,Kc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}DH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=_R(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return wR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=co(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kc,null,r)}navigate(t,r={skipLocationChange:!1}){return EH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},wH):r===!1?i=j({},IH):i=r,co(t))return nR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return vH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function EH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function DH(n){return!(n instanceof eu)&&!(n instanceof Ks)}var LR=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(co(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Vb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:co(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Ee(Ir),Ee(lo),Fg("tabindex"),Ee(Ai),Ee(un),Ee(is))}}static{this.\u0275dir=pt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ve("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ga("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$r],replaceUrl:[2,"replaceUrl","replaceUrl",$r],routerLink:"routerLink"},standalone:!0,features:[tm,Lr]})}}return n})();var bH=new q("");function VR(n,...e){return Xn([{provide:Pw,multi:!0,useValue:n},[],{provide:lo,useFactory:CH,deps:[Ir]},{provide:om,multi:!0,useFactory:TH},e.map(t=>t.\u0275providers)])}function CH(n){return n.routerState.root}function TH(){let n=x(nt);return e=>{let t=n.get(ki);if(e!==t.components[0])return;let r=n.get(Ir),i=n.get(SH);n.get(AH)===1&&r.initialNavigation(),n.get(RH,null,ce.Optional)?.setUpPreloading(),n.get(bH,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SH=new q("",{factory:()=>new Me}),AH=new q("",{providedIn:"root",factory:()=>1});var RH=new q("");var Xt=(()=>{class n{constructor(){this.firebaseAuthService=x(hr),this.userLoggedInStatus$=zd(this.firebaseAuthService),this.router=x(Ir),this.loggedInCurrentUser=Q_(this.userLoggedInStatus$)}login(t={email:"todo@todo.com",password:"todo12"}){let r=$d(this.firebaseAuthService,t.email,t.password);return pe(r)}logout(){console.log("logout"),rS(this.firebaseAuthService).then(t=>this.router.navigateByUrl("/login"))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jR=(()=>{class n{constructor(){this.todosService=x(Ln),this.authService=x(Xt),this.title=""}addTodo(){this.title&&(this.todosService.addItem(this.title),this.todosService.addUserwiseTodo(this.authService.loggedInCurrentUser()?.uid,this.title).subscribe(t=>{this.title=""}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["app-todo-header"]],standalone:!0,features:[Nt],decls:2,vars:1,consts:[[1,"header"],["autofocus","","placeholder","What needs to be done?",1,"new-todo",3,"ngModelChange","keyup.enter","ngModel"]],template:function(r,i){r&1&&(le(0,"header",0)(1,"input",1),Br("ngModelChange",function(s){return xi(i.title,s)||(i.title=s),s}),Ve("keyup.enter",function(){return i.addTodo()}),ae()()),r&2&&(Ne(),Ur("ngModel",i.title))},dependencies:[ls,Hr,us,Vi],encapsulation:2})}}return n})();var NH=["todoInputRef"];function xH(n,e){if(n&1){let t=or();le(0,"div",5)(1,"input",6,0),Br("ngModelChange",function(i){Kt(t);let o=Ze();return xi(o.title,i)||(o.title=i),Qt(i)}),Ve("focus",function(i){Kt(t);let o=Ze();return Qt(o.handleFocus(i))})("blur",function(i){Kt(t);let o=Ze();return Qt(o.handleBlur(i))})("keyup.enter",function(){Kt(t);let i=Ze();return Qt(i.updateTodo(i.todo.id))}),ae(),le(3,"label",7),xe(4," Edit Todo title "),ae()()}if(n&2){let t=Ze();Ne(),Ur("ngModel",t.title)}}var UR=(()=>{class n{constructor(){this.remove=new Oe,this.todoService=x(Ln),this.authService=x(Xt),this.title="",this.isEditing=!1}toggleTodo(t){this.todoService.updateUserwiseSpecificField(this.authService.loggedInCurrentUser()?.uid,t,"completed",!this.todo.completed).subscribe(r=>console.log({isUpdated:r})),this.todo.completed=!this.todo.completed}removeTodo(t){this.remove.emit(this.todo),this.todoService.deleteUserwiseSpecificField(this.authService.loggedInCurrentUser()?.uid,t).subscribe(r=>console.log({isRecordDeleted:r}))}startEdit(){this.isEditing=!0}handleBlur(t){this.isEditing=!1}handleFocus(t){this.title=this.todo.title}updateTodo(t){this.title?(this.todo.title=this.title,this.todoService.updateUserwiseSpecificField(this.authService.loggedInCurrentUser()?.uid,t,"title",this.title).subscribe(r=>console.log({isUpdated:r}))):(this.remove.emit(this.todo),this.todoService.deleteUserwiseSpecificField(this.authService.loggedInCurrentUser()?.uid,t).subscribe(r=>console.log({isRecordDeleted:r}))),this.isEditing=!1}ngAfterViewChecked(){this.isEditing&&this.inputRef?.nativeElement.focus()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["app-todo-item"]],viewQuery:function(r,i){if(r&1&&MC(NH,5),r&2){let o;rm(o=im())&&(i.inputRef=o.first)}},inputs:{todo:"todo"},outputs:{remove:"remove"},standalone:!0,features:[Nt],decls:7,vars:7,consts:[["todoInputRef",""],[1,"view"],["type","checkbox",1,"toggle",3,"click","checked"],[3,"dblclick"],[1,"destroy",3,"click"],[1,"input-container"],["id","edit-todo-input",1,"edit",3,"ngModelChange","focus","blur","keyup.enter","ngModel"],["htmlFor","edit-todo-input",1,"visually-hidden"]],template:function(r,i){r&1&&(le(0,"li")(1,"div",1)(2,"input",2),Ve("click",function(){return i.toggleTodo(i.todo.id)}),ae(),le(3,"label",3),Ve("dblclick",function(){return i.startEdit()}),xe(4),ae(),le(5,"button",4),Ve("click",function(){return i.removeTodo(i.todo.id)}),ae()(),Ft(6,xH,5,1,"div",5),ae()),r&2&&(En("completed",i.todo.completed)("editing",i.isEditing),Ne(2),ln("checked",i.todo.completed),Ne(2),Ni(i.todo.title),Ne(2),ir(i.isEditing?6:-1))},dependencies:[ls,Hr,us,Vi],encapsulation:2})}}return n})();function PH(n,e){if(n&1){let t=or();le(0,"app-todo-item",6),Ve("remove",function(i){Kt(t);let o=Ze(2);return Qt(o.removeTodo(i))}),ae()}if(n&2){let t=e.$implicit;ln("todo",t)}}function kH(n,e){if(n&1){let t=or();le(0,"main",0)(1,"div",1)(2,"input",2),Ve("change",function(i){Kt(t);let o=Ze();return Qt(o.toggleAll(i))}),ae(),le(3,"label",3),xe(4,"Toggle All Input"),ae()(),le(5,"ul",4),SC(6,PH,1,1,"app-todo-item",5,TC),ae()()}if(n&2){let t=Ze();Ne(2),ln("checked",!t.activeTodos.length),Ne(4),AC(t.todos)}}var BR=(()=>{class n{constructor(){this.location=x(dn),this.todosService=x(Ln),this.authService=x(Xt)}get todos(){let t=this.location.path().split("/")[1]||"all";return this.todosService.getItems(t)}get activeTodos(){return this.todosService.getItems("active")}removeTodo(t){this.todosService.removeItem(t)}toggleAll(t){let r=t.target;this.todosService.toggleAll(r.checked),this.todosService.toggleUserwiseTodo(this.authService.loggedInCurrentUser()?.uid,r.checked)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["app-todo-list"]],standalone:!0,features:[Nt],decls:1,vars:1,consts:[[1,"main"],[1,"toggle-all-container"],["type","checkbox",1,"toggle-all",3,"change","checked"],["htmlFor","toggle-all",1,"toggle-all-label"],[1,"todo-list"],[3,"todo"],[3,"remove","todo"]],template:function(r,i){r&1&&Ft(0,kH,8,1,"main",0),r&2&&ir(i.todos.length>0?0:-1)},dependencies:[UR],encapsulation:2})}}return n})();function OH(n,e){if(n&1){let t=or();le(0,"button",7),Ve("click",function(){Kt(t);let i=Ze(2);return Qt(i.confirmClearCompleted())}),xe(1," Clear Completed "),ae()}}function FH(n,e){if(n&1&&(le(0,"footer",0)(1,"span",1)(2,"strong"),xe(3),ae(),xe(4),ae(),le(5,"ul",2)(6,"li")(7,"a",3),xe(8,"All"),ae()(),le(9,"li")(10,"a",4),xe(11,"Active"),ae()(),le(12,"li")(13,"a",5),xe(14,"Completed"),ae()()(),Ft(15,OH,2,0,"button",6),ae()),n&2){let t=Ze();Ne(3),Ni(t.activeTodos.length),Ne(),ed(" ",t.activeTodos.length===1?"task":"tasks"," left "),Ne(3),En("selected",t.filter==="all"),Ne(3),En("selected",t.filter==="active"),Ne(3),En("selected",t.filter==="completed"),Ne(2),ir(t.completedTodos.length>0?15:-1)}}var $R=(()=>{class n{constructor(){this.location=x(dn),this.todosService=x(Ln),this.authService=x(Xt)}get todos(){return this.todosService.getItems()}get activeTodos(){return this.todosService.getItems("active")}get completedTodos(){return this.todosService.getItems("completed")}get filter(){return this.location.path().split("/")[1]||"all"}clearCompleted(){this.todosService.deleteAllCompletedTodos(this.authService.loggedInCurrentUser()?.uid),this.todosService.clearCompleted()}confirmClearCompleted(){confirm("Are you sure you want to clear all completed tasks?")&&(this.todosService.deleteAllCompletedTodos(this.authService.loggedInCurrentUser()?.uid),this.todosService.clearCompleted())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["app-todo-footer"]],standalone:!0,features:[Nt],decls:1,vars:1,consts:[[1,"footer"],[1,"todo-count"],[1,"filters"],["routerLink","/"],["routerLink","/active"],["routerLink","/completed"],["type","button",1,"clear-completed"],["type","button",1,"clear-completed",3,"click"]],template:function(r,i){r&1&&Ft(0,FH,16,9,"footer",0),r&2&&ir(i.todos.length>0?0:-1)},dependencies:[LR],encapsulation:2})}}return n})();function LH(n,e){n&1&&(le(0,"div"),rs(1,"router-outlet"),ae())}function VH(n,e){n&1&&rs(0,"app-todo-footer")(1,"app-todo-header")(2,"app-todo-list")}function jH(n,e){n&1&&(le(0,"h3"),xe(1,"Loading Todo.. Wait.."),ae())}function UH(n,e){if(n&1){let t=or();le(0,"div")(1,"h1"),xe(2,"SECURE TO-DO LIST APP"),ae(),le(3,"section",1),Ft(4,VH,3,0)(5,jH,2,0,"h3"),ae(),le(6,"div",2)(7,"button",3),Ve("click",function(){Kt(t);let i=Ze();return Qt(i.logout())}),xe(8,"Log out"),ae()()()}if(n&2){let t=Ze();Ne(4),ir(t.todoService.isLoading()?5:4)}}var Zs=(()=>{class n{constructor(){this.authService=x(Xt),this.todoService=x(Ln)}ngOnInit(){this.authService.userLoggedInStatus$.subscribe(t=>{this.todoService.readUserwiseTodo(t?.uid)})}login(){this.authService.login().pipe(Ye(),Ge(t=>(this.errorMessage=t.message,$(null)))).subscribe(t=>{this.isLoggedinUser=t})}logout(){this.authService.logout()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["app-root"]],standalone:!0,features:[Nt],decls:2,vars:2,consts:[[4,"ngIf"],[1,"todoapp"],[1,"logout-button-container"],[1,"logout-button",3,"click"]],template:function(r,i){r&1&&Ft(0,LH,2,0,"div",0)(1,UH,9,1,"div",0),r&2&&(ln("ngIf",i.authService.loggedInCurrentUser()===null),Ne(),ln("ngIf",i.authService.loggedInCurrentUser()!==null))},dependencies:[um,od,jR,BR,$R,Rw],encapsulation:2})}}return n})();function jn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zw(n,e){return n(e={exports:{}},e.exports),e.exports}var ho=zw(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,s){var a=i.locked.get(o);a===void 0?s===void 0?i.locked.set(o,[]):i.locked.set(o,[s]):s!==void 0&&(a.unshift(s),i.locked.set(o,a))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(s,a){i.isLocked(o)?i.addToLocked(o,s):(i.addToLocked(o),s())})},this.unlock=function(o){var s=i.locked.get(o);if(s!==void 0&&s.length!==0){var a=s.pop();i.locked.set(o,s),a!==void 0&&setTimeout(a,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return t.getInstance()}});Hw(ho);var BH=Hw(zw(function(n,e){var t=fo&&fo.__awaiter||function(h,p,g,y){return new(g||(g=Promise))(function(w,R){function S(V){try{O(y.next(V))}catch(k){R(k)}}function N(V){try{O(y.throw(V))}catch(k){R(k)}}function O(V){V.done?w(V.value):new g(function(k){k(V.value)}).then(S,N)}O((y=y.apply(h,p||[])).next())})},r=fo&&fo.__generator||function(h,p){var g,y,w,R,S={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return R={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function N(O){return function(V){return function(k){if(g)throw new TypeError("Generator is already executing.");for(;S;)try{if(g=1,y&&(w=2&k[0]?y.return:k[0]?y.throw||((w=y.return)&&w.call(y),0):y.next)&&!(w=w.call(y,k[1])).done)return w;switch(y=0,w&&(k=[2&k[0],w.value]),k[0]){case 0:case 1:w=k;break;case 4:return S.label++,{value:k[1],done:!1};case 5:S.label++,y=k[1],k=[0];continue;case 7:k=S.ops.pop(),S.trys.pop();continue;default:if(w=S.trys,!((w=w.length>0&&w[w.length-1])||k[0]!==6&&k[0]!==2)){S=0;continue}if(k[0]===3&&(!w||k[1]>w[0]&&k[1]<w[3])){S.label=k[1];break}if(k[0]===6&&S.label<w[1]){S.label=w[1],w=k;break}if(w&&S.label<w[2]){S.label=w[2],S.ops.push(k);break}w[2]&&S.ops.pop(),S.trys.pop();continue}k=p.call(h,S)}catch(fe){k=[6,fe],y=0}finally{g=w=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([O,V])}}},i=fo;Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key",s={key:function(h){return t(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},getItem:function(h){return t(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},clear:function(){return t(i,void 0,void 0,function(){return r(this,function(h){return[2,window.localStorage.clear()]})})},removeItem:function(h){return t(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},setItem:function(h,p){return t(i,void 0,void 0,function(){return r(this,function(g){throw new Error("Unsupported")})})},keySync:function(h){return window.localStorage.key(h)},getItemSync:function(h){return window.localStorage.getItem(h)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(h){return window.localStorage.removeItem(h)},setItemSync:function(h,p){return window.localStorage.setItem(h,p)}};function a(h){return new Promise(function(p){return setTimeout(p,h)})}function u(h){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",g="",y=0;y<h;y++)g+=p[Math.floor(Math.random()*p.length)];return g}var l=function(){function h(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+u(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,h.waiters===void 0&&(h.waiters=[])}return h.prototype.acquireLock=function(p,g){return g===void 0&&(g=5e3),t(this,void 0,void 0,function(){var y,w,R,S,N,O,V;return r(this,function(k){switch(k.label){case 0:y=Date.now()+u(4),w=Date.now()+g,R=o+"-"+p,S=this.storageHandler===void 0?s:this.storageHandler,k.label=1;case 1:return Date.now()<w?[4,a(30)]:[3,8];case 2:return k.sent(),S.getItemSync(R)!==null?[3,5]:(N=this.id+"-"+p+"-"+y,[4,a(Math.floor(25*Math.random()))]);case 3:return k.sent(),S.setItemSync(R,JSON.stringify({id:this.id,iat:y,timeoutKey:N,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return k.sent(),(O=S.getItemSync(R))!==null&&(V=JSON.parse(O)).id===this.id&&V.iat===y?(this.acquiredIatSet.add(y),this.refreshLockWhileAcquired(R,y),[2,!0]):[3,7];case 5:return h.lockCorrector(this.storageHandler===void 0?s:this.storageHandler),[4,this.waitForSomethingToChange(w)];case 6:k.sent(),k.label=7;case 7:return y=Date.now()+u(4),[3,1];case 8:return[2,!1]}})})},h.prototype.refreshLockWhileAcquired=function(p,g){return t(this,void 0,void 0,function(){var y=this;return r(this,function(w){return setTimeout(function(){return t(y,void 0,void 0,function(){var R,S,N;return r(this,function(O){switch(O.label){case 0:return[4,ho.default().lock(g)];case 1:return O.sent(),this.acquiredIatSet.has(g)?(R=this.storageHandler===void 0?s:this.storageHandler,(S=R.getItemSync(p))===null?(ho.default().unlock(g),[2]):((N=JSON.parse(S)).timeRefreshed=Date.now(),R.setItemSync(p,JSON.stringify(N)),ho.default().unlock(g),this.refreshLockWhileAcquired(p,g),[2])):(ho.default().unlock(g),[2])}})})},1e3),[2]})})},h.prototype.waitForSomethingToChange=function(p){return t(this,void 0,void 0,function(){return r(this,function(g){switch(g.label){case 0:return[4,new Promise(function(y){var w=!1,R=Date.now(),S=!1;function N(){if(S||(window.removeEventListener("storage",N),h.removeFromWaiting(N),clearTimeout(O),S=!0),!w){w=!0;var V=50-(Date.now()-R);V>0?setTimeout(y,V):y(null)}}window.addEventListener("storage",N),h.addToWaiting(N);var O=setTimeout(N,Math.max(0,p-Date.now()))})];case 1:return g.sent(),[2]}})})},h.addToWaiting=function(p){this.removeFromWaiting(p),h.waiters!==void 0&&h.waiters.push(p)},h.removeFromWaiting=function(p){h.waiters!==void 0&&(h.waiters=h.waiters.filter(function(g){return g!==p}))},h.notifyWaiters=function(){h.waiters!==void 0&&h.waiters.slice().forEach(function(p){return p()})},h.prototype.releaseLock=function(p){return t(this,void 0,void 0,function(){return r(this,function(g){switch(g.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,g.sent()]}})})},h.prototype.releaseLock__private__=function(p){return t(this,void 0,void 0,function(){var g,y,w,R;return r(this,function(S){switch(S.label){case 0:return g=this.storageHandler===void 0?s:this.storageHandler,y=o+"-"+p,(w=g.getItemSync(y))===null?[2]:(R=JSON.parse(w)).id!==this.id?[3,2]:[4,ho.default().lock(R.iat)];case 1:S.sent(),this.acquiredIatSet.delete(R.iat),g.removeItemSync(y),ho.default().unlock(R.iat),h.notifyWaiters(),S.label=2;case 2:return[2]}})})},h.lockCorrector=function(p){for(var g=Date.now()-5e3,y=p,w=[],R=0;;){var S=y.keySync(R);if(S===null)break;w.push(S),R++}for(var N=!1,O=0;O<w.length;O++){var V=w[O];if(V.includes(o)){var k=y.getItemSync(V);if(k!==null){var fe=JSON.parse(k);(fe.timeRefreshed===void 0&&fe.timeAcquired<g||fe.timeRefreshed!==void 0&&fe.timeRefreshed<g)&&(y.removeItemSync(V),N=!0)}}}N&&h.notifyWaiters()},h.waiters=void 0,h}();e.default=l})),$H={timeoutInSeconds:60},ZR={name:"auth0-spa-js",version:"2.1.3"},JR=()=>Date.now(),_t=class n extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,n.prototype)}static fromPayload({error:e,error_description:t}){return new n(e,t)}},nf=class n extends _t{constructor(e,t,r,i=null){super(e,t),this.state=r,this.appState=i,Object.setPrototypeOf(this,n.prototype)}},Xs=class n extends _t{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,n.prototype)}},rf=class n extends Xs{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,n.prototype)}},of=class n extends _t{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,n.prototype)}},sf=class n extends _t{constructor(e,t,r){super(e,t),this.mfa_token=r,Object.setPrototypeOf(this,n.prototype)}},uu=class n extends _t{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${HR(e,["default"])}', scope: '${HR(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,n.prototype)}};function HR(n,e=[]){return n&&!e.includes(n)?n:""}var tf=()=>window.crypto,Ow=()=>{let n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(tf().getRandomValues(new Uint8Array(43))).forEach(t=>e+=n[t%n.length]),e},zR=n=>btoa(n),jw=n=>{var{clientId:e}=n,t=jn(n,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:e},t))).toString()},qR=n=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),HH=(n,e)=>v(void 0,null,function*(){let t=yield fetch(n,e);return{ok:t.ok,json:yield t.json()}}),zH=(n,e,t)=>v(void 0,null,function*(){let r=new AbortController,i;return e.signal=r.signal,Promise.race([HH(n,e),new Promise((o,s)=>{i=setTimeout(()=>{r.abort(),s(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(i)})}),qH=(n,e,t,r,i,o,s)=>v(void 0,null,function*(){return a={auth:{audience:e,scope:t},timeout:i,fetchUrl:n,fetchOptions:r,useFormData:s},u=o,new Promise(function(l,h){let p=new MessageChannel;p.port1.onmessage=function(g){g.data.error?h(new Error(g.data.error)):l(g.data),p.port1.close()},u.postMessage(a,[p.port2])});var a,u}),GH=(n,e,t,r,i,o,s=1e4)=>v(void 0,null,function*(){return i?qH(n,e,t,r,s,i,o):zH(n,r,s)});function WH(n,e){return v(this,null,function*(){var{baseUrl:t,timeout:r,audience:i,scope:o,auth0Client:s,useFormData:a}=n,u=jn(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let l=a?jw(u):JSON.stringify(u);return yield function(h,p,g,y,w,R,S){return v(this,null,function*(){let N,O=null;for(let _=0;_<3;_++)try{N=yield GH(h,g,y,w,R,S,p),O=null;break}catch(I){O=I}if(O)throw O;let V=N.json,{error:k,error_description:fe}=V,Q=jn(V,["error","error_description"]),{ok:D}=N;if(!D){let _=fe||`HTTP error. Unable to fetch ${h}`;throw k==="mfa_required"?new sf(k,_,Q.mfa_token):k==="missing_refresh_token"?new uu(g,y):new _t(k||"request_error",_)}return Q})}(`${t}/oauth/token`,r,i||"default",o,{method:"POST",body:l,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||ZR))}},e,a)})}var ef=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},Er=class n{constructor(e,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){let[t,r,i,o]=e.split("::");return new n({clientId:r,scope:o,audience:i},t)}static fromCacheEntry(e){let{scope:t,audience:r,client_id:i}=e;return new n({scope:t,audience:r,clientId:i})}},af=class{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){let t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},lu=class{constructor(){this.enclosedCache=function(){let e={};return{set(t,r){e[t]=r},get(t){let r=e[t];if(r)return r},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}},Uw=class{constructor(e,t,r){this.cache=e,this.keyManifest=t,this.nowProvider=r||JR}setIdToken(e,t,r){return v(this,null,function*(){var i;let o=this.getIdTokenCacheKey(e);yield this.cache.set(o,{id_token:t,decodedToken:r}),yield(i=this.keyManifest)===null||i===void 0?void 0:i.add(o)})}getIdToken(e){return v(this,null,function*(){let t=yield this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){let r=yield this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}})}get(e,t=0){return v(this,null,function*(){var r;let i=yield this.cache.get(e.toKey());if(!i){let a=yield this.getCacheKeys();if(!a)return;let u=this.matchExistingCacheKey(e,a);u&&(i=yield this.cache.get(u))}if(!i)return;let o=yield this.nowProvider(),s=Math.floor(o/1e3);return i.expiresAt-t<s?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},yield this.cache.set(e.toKey(),i),i.body):(yield this.cache.remove(e.toKey()),void(yield(r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body})}set(e){return v(this,null,function*(){var t;let r=new Er({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=yield this.wrapCacheEntry(e);yield this.cache.set(r.toKey(),i),yield(t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey())})}clear(e){return v(this,null,function*(){var t;let r=yield this.getCacheKeys();r&&(yield r.filter(i=>!e||i.includes(e)).reduce((i,o)=>v(this,null,function*(){yield i,yield this.cache.remove(o)}),Promise.resolve()),yield(t=this.keyManifest)===null||t===void 0?void 0:t.clear())})}wrapCacheEntry(e){return v(this,null,function*(){let t=yield this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}})}getCacheKeys(){return v(this,null,function*(){var e;return this.keyManifest?(e=yield this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(e){return new Er({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(r=>{var i;let o=Er.fromKey(r),s=new Set(o.scope&&o.scope.split(" ")),a=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],u=o.scope&&a.reduce((l,h)=>l&&s.has(h),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===e.clientId&&o.audience===e.audience&&u})[0]}},Bw=class{constructor(e,t,r){this.storage=e,this.clientId=t,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},cu=n=>typeof n=="number",KH=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],QH=n=>{if(!n.id_token)throw new Error("ID token is required but missing");let e=(o=>{let s=o.split("."),[a,u,l]=s;if(s.length!==3||!a||!u||!l)throw new Error("ID token could not be decoded");let h=JSON.parse(qR(u)),p={__raw:o},g={};return Object.keys(h).forEach(y=>{p[y]=h[y],KH.includes(y)||(g[y]=h[y])}),{encoded:{header:a,payload:u,signature:l},header:JSON.parse(qR(a)),claims:p,user:g}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!cu(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!cu(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!cu(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let t=n.leeway||60,r=new Date(n.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+t),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(e.claims.nbf!=null&&cu(e.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(e.claims.nbf-t),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(e.claims.auth_time!=null&&cu(e.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(n.organization){let o=n.organization.trim();if(o.startsWith("org_")){let s=o;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(s!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${s}", found "${e.claims.org_id}"`)}else{let s=o.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(s!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${s}", found "${e.claims.org_name}"`)}}return e},po=zw(function(n,e){var t=fo&&fo.__assign||function(){return t=Object.assign||function(u){for(var l,h=1,p=arguments.length;h<p;h++)for(var g in l=arguments[h])Object.prototype.hasOwnProperty.call(l,g)&&(u[g]=l[g]);return u},t.apply(this,arguments)};function r(u,l){if(!l)return"";var h="; "+u;return l===!0?h:h+"="+l}function i(u,l,h){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(p){if(typeof p.expires=="number"){var g=new Date;g.setMilliseconds(g.getMilliseconds()+864e5*p.expires),p.expires=g}return r("Expires",p.expires?p.expires.toUTCString():"")+r("Domain",p.domain)+r("Path",p.path)+r("Secure",p.secure)+r("SameSite",p.sameSite)}(h)}function o(u){for(var l={},h=u?u.split("; "):[],p=/(%[\dA-F]{2})+/gi,g=0;g<h.length;g++){var y=h[g].split("="),w=y.slice(1).join("=");w.charAt(0)==='"'&&(w=w.slice(1,-1));try{l[y[0].replace(p,decodeURIComponent)]=w.replace(p,decodeURIComponent)}catch{}}return l}function s(){return o(document.cookie)}function a(u,l,h){document.cookie=i(u,l,t({path:"/"},h))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=s,e.get=function(u){return s()[u]},e.set=a,e.remove=function(u,l){a(u,"",t(t({},l),{expires:-1}))}});Hw(po),po.encode,po.parse,po.getAll;var YH=po.get,XR=po.set,eM=po.remove,Js={get(n){let e=YH(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),XR(n,JSON.stringify(e),r)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),eM(n,t)}},ZH={get(n){return Js.get(n)||Js.get(`_legacy_${n}`)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),XR(`_legacy_${n}`,JSON.stringify(e),r),Js.save(n,e,t)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),eM(n,t),Js.remove(n,e),Js.remove(`_legacy_${n}`,e)}},JH={get(n){if(typeof sessionStorage>"u")return;let e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};function XH(n,e,t){var r=e===void 0?null:e,i=function(u,l){var h=atob(u);if(l){for(var p=new Uint8Array(h.length),g=0,y=h.length;g<y;++g)p[g]=h.charCodeAt(g);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return h}(n,t!==void 0&&t),o=i.indexOf(`
`,10)+1,s=i.substring(o)+(r?"//# sourceMappingURL="+r:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}var GR,WR,KR,Fw,ez=(GR="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",WR=null,KR=!1,function(n){return Fw=Fw||XH(GR,WR,KR),new Worker(Fw,n)}),Lw={},$w=class{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(e){return v(this,null,function*(){var t;let r=new Set(((t=yield this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(e),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(e){return v(this,null,function*(){let t=yield this.cache.get(this.manifestKey);if(t){let r=new Set(t.keys);return r.delete(e),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}},tz={memory:()=>new lu().enclosedCache,localstorage:()=>new af},QR=n=>tz[n],YR=n=>{let{openUrl:e,onRedirect:t}=n,r=jn(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:t})},Vw=new BH,cf=class{constructor(e){let t,r;if(this.userCache=new lu().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>v(this,null,function*(){yield Vw.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!tf())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(tf().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(t=e.cacheLocation||"memory",!QR(t))throw new Error(`Invalid cache location "${t}"`);r=QR(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Js:ZH,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(s=>`auth0.${s}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;let i=e.useCookiesForTransactions?this.cookieStorage:JH;var o;this.scope=ef("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new Bw(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||JR,this.cacheManager=new Uw(r,r.allKeys?void 0:new $w(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((s,a)=>s?s.startsWith("https://")?s:`https://${s}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new ez)}_url(e){let t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||ZR)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${jw(e)}`)}_verifyIdToken(e,t,r){return v(this,null,function*(){let i=yield this.nowProvider();return QH({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o})}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(e,t,r){return v(this,null,function*(){let i=zR(Ow()),o=zR(Ow()),s=Ow(),a=(h=>{let p=new Uint8Array(h);return(g=>{let y={"+":"-","/":"_","=":""};return g.replace(/[+/=]/g,w=>y[w])})(window.btoa(String.fromCharCode(...Array.from(p))))})(yield(h=>v(this,null,function*(){return yield tf().subtle.digest({name:"SHA-256"},new TextEncoder().encode(h))}))(s)),u=((h,p,g,y,w,R,S,N)=>Object.assign(Object.assign(Object.assign({client_id:h.clientId},h.authorizationParams),g),{scope:ef(p,g.scope),response_type:"code",response_mode:N||"query",state:y,nonce:w,redirect_uri:S||h.authorizationParams.redirect_uri,code_challenge:R,code_challenge_method:"S256"}))(this.options,this.scope,e,i,o,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,t?.response_mode),l=this._authorizeUrl(u);return{nonce:o,code_verifier:s,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri,state:i,url:l}})}loginWithPopup(e,t){return v(this,null,function*(){var r;if(e=e||{},!(t=t||{}).popup&&(t.popup=(a=>{let u=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${u},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let i=yield this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=i.url;let o=yield(a=>new Promise((u,l)=>{let h,p=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(p),clearTimeout(g),window.removeEventListener("message",h,!1),l(new of(a.popup)))},1e3),g=setTimeout(()=>{clearInterval(p),l(new rf(a.popup)),window.removeEventListener("message",h,!1)},1e3*(a.timeoutInSeconds||60));h=function(y){if(y.data&&y.data.type==="authorization_response"){if(clearTimeout(g),clearInterval(p),window.removeEventListener("message",h,!1),a.popup.close(),y.data.response.error)return l(_t.fromPayload(y.data.response));u(y.data.response)}},window.addEventListener("message",h)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new _t("state_mismatch","Invalid state");let s=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:s})})}getUser(){return v(this,null,function*(){var e;let t=yield this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.user})}getIdTokenClaims(){return v(this,null,function*(){var e;let t=yield this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.claims})}loginWithRedirect(){return v(this,arguments,function*(e={}){var t;let r=YR(e),{openUrl:i,fragment:o,appState:s}=r,a=jn(r,["openUrl","fragment","appState"]),u=((t=a.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,l=yield this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:h}=l,p=jn(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:s}),u&&{organization:u}));let g=o?`${h}#${o}`:h;i?yield i(g):window.location.assign(g)})}handleRedirectCallback(){return v(this,arguments,function*(e=window.location.href){let t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");let{state:r,code:i,error:o,error_description:s}=(p=>{p.indexOf("#")>-1&&(p=p.substring(0,p.indexOf("#")));let g=new URLSearchParams(p);return{state:g.get("state"),code:g.get("code")||void 0,error:g.get("error")||void 0,error_description:g.get("error_description")||void 0}})(t.join("")),a=this.transactionManager.get();if(!a)throw new _t("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new nf(o,s||o,r,a.appState);if(!a.code_verifier||a.state&&a.state!==r)throw new _t("state_mismatch","Invalid state");let u=a.organization,l=a.nonce,h=a.redirect_uri;return yield this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i},h?{redirect_uri:h}:{}),{nonceIn:l,organization:u}),{appState:a.appState}})}checkSession(e){return v(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(e)}catch{}})}getTokenSilently(){return v(this,arguments,function*(e={}){var t;let r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ef(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),i=yield((o,s)=>{let a=Lw[s];return a||(a=o().finally(()=>{delete Lw[s],a=null}),Lw[s]=a),a})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?i:i?.access_token})}_getTokenSilently(e){return v(this,null,function*(){let{cacheMode:t}=e,r=jn(e,["cacheMode"]);if(t!=="off"){let i=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(t!=="cache-only"){if(!(yield((i,o=3)=>v(this,null,function*(){for(let s=0;s<o;s++)if(yield i())return!0;return!1}))(()=>Vw.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Xs;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){let l=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}let i=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:o,access_token:s,oauthTokenScope:a,expires_in:u}=i;return Object.assign(Object.assign({id_token:o,access_token:s},a?{scope:a}:null),{expires_in:u})}finally{yield Vw.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return v(this,arguments,function*(e={},t={}){var r;let i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ef(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},$H),t),yield this.loginWithPopup(i,t),(yield this.cacheManager.get(new Er({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return v(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;let t=e.logoutParams||{},{federated:r}=t,i=jn(t,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${jw(Object.assign({clientId:e.clientId},i))}`)+o}logout(){return v(this,arguments,function*(e={}){let t=YR(e),{openUrl:r}=t,i=jn(t,["openUrl"]);e.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(i);r?yield r(o):r!==!1&&window.location.assign(o)})}_getTokenFromIFrame(e){return v(this,null,function*(){let t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);let{url:i,state:o,nonce:s,code_verifier:a,redirect_uri:u,scope:l,audience:h}=yield this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new _t("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let p=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,g=yield((w,R,S=60)=>new Promise((N,O)=>{let V=window.document.createElement("iframe");V.setAttribute("width","0"),V.setAttribute("height","0"),V.style.display="none";let k=()=>{window.document.body.contains(V)&&(window.document.body.removeChild(V),window.removeEventListener("message",fe,!1))},fe,Q=setTimeout(()=>{O(new Xs),k()},1e3*S);fe=function(D){if(D.origin!=R||!D.data||D.data.type!=="authorization_response")return;let _=D.source;_&&_.close(),D.data.response.error?O(_t.fromPayload(D.data.response)):N(D.data.response),clearTimeout(Q),window.removeEventListener("message",fe,!1),setTimeout(k,2e3)},window.addEventListener("message",fe,!1),window.document.body.appendChild(V),V.setAttribute("src",w)}))(i,this.domainUrl,p);if(o!==g.state)throw new _t("state_mismatch","Invalid state");let y=yield this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:g.code,grant_type:"authorization_code",redirect_uri:u,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:s,organization:t.organization});return Object.assign(Object.assign({},y),{scope:l,oauthTokenScope:y.scope,audience:h})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}})}_getTokenUsingRefreshToken(e){return v(this,null,function*(){let t=yield this.cacheManager.get(new Er({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);throw new uu(e.authorizationParams.audience||"default",e.authorizationParams.scope)}let r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:e.authorizationParams.scope,oauthTokenScope:o.scope,audience:e.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);throw o}})}_saveEntryInCache(e){return v(this,null,function*(){let{id_token:t,decodedToken:r}=e,i=jn(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),yield this.cacheManager.set(i)})}_getIdTokenFromCache(){return v(this,null,function*(){let e=this.options.authorizationParams.audience||"default",t=yield this.cacheManager.getIdToken(new Er({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===r?.id_token?r:(this.userCache.set("@@user@@",t),t)})}_getEntryFromCache(i){return v(this,arguments,function*({scope:e,audience:t,clientId:r}){let o=yield this.cacheManager.get(new Er({scope:e,audience:t,clientId:r}),60);if(o&&o.access_token){let{access_token:s,oauthTokenScope:a,expires_in:u}=o,l=yield this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:s},a?{scope:a}:null),{expires_in:u})}})}_requestToken(e,t){return v(this,null,function*(){let{nonceIn:r,organization:i}=t||{},o=yield WH(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),s=yield this._verifyIdToken(o.id_token,r,i);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:s,scope:e.scope,audience:e.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||s.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:s})})}};var tM={name:"@auth0/auth0-angular",version:"2.2.3"},qw=class{static createClient(e){let t=e.get();if(!t)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new cf(ne(j({},t),{auth0Client:{name:tM.name,version:tM.version,env:{"angular/core":td.full}}}))}},uf=new q("auth0.client");function nM(n){return typeof n!="string"}var rM=new q("auth0-angular.config"),Gw=(()=>{class n{constructor(t){t&&this.set(t)}set(t){this.config=t}get(){return this.config}}return n.\u0275fac=function(t){return new(t||n)(G(rM,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nz=(()=>{class n{constructor(t,r){this.location=t;try{this.router=r.get(Ir)}catch{}}navigateByUrl(t){if(this.router){this.router.navigateByUrl(t);return}this.location.replaceState(t)}}return n.\u0275fac=function(t){return new(t||n)(G(dn),G(nt))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iM=(()=>{class n{constructor(t){this.auth0Client=t,this.isLoadingSubject$=new qe(!0),this.refresh$=new Me,this.accessToken$=new qn(1),this.errorSubject$=new qn(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(Po((r,i)=>({previous:r.current,current:i}),{current:null,previous:null}),ut(({previous:r,current:i})=>r!==i)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(ut(r=>!r),No(),lt(()=>np(gn(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(ke(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(ke(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(No(),sp(1)),this.user$=this.isAuthenticatedTrigger$.pipe(At(r=>r?this.auth0Client.getUser():$(null)),No()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(At(r=>r?this.auth0Client.getIdTokenClaims():$(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(t){this.isLoadingSubject$.next(t)}refresh(){this.refresh$.next()}setAccessToken(t){this.accessToken$.next(t)}setError(t){this.errorSubject$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(G(uf))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ww=(()=>{class n{constructor(t,r,i,o){this.auth0Client=t,this.configFactory=r,this.navigator=i,this.authState=o,this.appStateSubject$=new qn(1),this.ngUnsubscribe$=new Me,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let s=a=>nl(()=>a,this.handleRedirectCallback(),gn(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(lt(a=>s(a).pipe(Ge(u=>{let l=this.configFactory.get();return this.navigator.navigateByUrl(l.errorPath||"/"),this.authState.setError(u),$(void 0)}))),Ae(()=>{this.authState.setIsLoading(!1)}),Ta(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(t){return pe(this.auth0Client.loginWithRedirect(t))}loginWithPopup(t,r){return pe(this.auth0Client.loginWithPopup(t,r).then(()=>{this.authState.refresh()}))}logout(t){return pe(this.auth0Client.logout(t).then(()=>{(t?.openUrl===!1||t?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(t={}){return $(this.auth0Client).pipe(At(r=>t.detailedResponse===!0?r.getTokenSilently(ne(j({},t),{detailedResponse:!0})):r.getTokenSilently(t)),Ae(r=>{r&&this.authState.setAccessToken(typeof r=="string"?r:r.access_token)}),Ge(r=>(this.authState.setError(r),this.authState.refresh(),nn(r))))}getAccessTokenWithPopup(t){return $(this.auth0Client).pipe(At(r=>r.getTokenWithPopup(t)),Ae(r=>{r&&this.authState.setAccessToken(r)}),Ge(r=>(this.authState.setError(r),this.authState.refresh(),nn(r))))}handleRedirectCallback(t){return gn(()=>this.auth0Client.handleRedirectCallback(t)).pipe(ap(this.authState.isLoading$),Ae(([r,i])=>{i||this.authState.refresh();let o=r?.appState,s=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(s)}),K(([r])=>r))}shouldHandleCallback(){return $(location.search).pipe(K(t=>{let r=new URLSearchParams(t);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return n.\u0275fac=function(t){return new(t||n)(G(uf),G(Gw),G(nz),G(iM))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rz=(()=>{class n{constructor(t){this.auth=t}canLoad(t,r){return this.auth.isAuthenticated$.pipe(Ot(1))}canActivate(t,r){return this.redirectIfUnauthenticated(r)}canActivateChild(t,r){return this.redirectIfUnauthenticated(r)}redirectIfUnauthenticated(t){return this.auth.isAuthenticated$.pipe(Ae(r=>{r||this.auth.loginWithRedirect({appState:{target:t.url}})}))}}return n.\u0275fac=function(t){return new(t||n)(G(Ww))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var iz=n=>e=>e.pipe(ke(t=>n.pipe(Ye(),ba(t)))),oz=(()=>{class n{constructor(t,r,i,o){this.configFactory=t,this.auth0Client=r,this.authState=i,this.authService=o}intercept(t,r){let i=this.configFactory.get();if(!i.httpInterceptor?.allowedList)return r.handle(t);let o=this.authService.isLoading$.pipe(ut(s=>!s));return this.findMatchingRoute(t,i.httpInterceptor).pipe(At(s=>nl(()=>s!==null,$(s).pipe(iz(o),ip("tokenOptions"),At(a=>this.getAccessTokenSilently(a).pipe(Ge(u=>this.allowAnonymous(s,u)?$(""):(this.authState.setError(u),nn(u))))),lt(a=>{let u=a?t.clone({headers:t.headers.set("Authorization",`Bearer ${a}`)}):t;return r.handle(u)})),r.handle(t))))}getAccessTokenSilently(t){return $(this.auth0Client).pipe(At(r=>r.getTokenSilently(t)),Ae(r=>this.authState.setAccessToken(r)),Ge(r=>(this.authState.refresh(),nn(r))))}stripQueryFrom(t){return t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#"))),t}canAttachToken(t,r){let i=o=>{if(!o)return!1;let s=this.stripQueryFrom(r.url);return o===s?!0:o.indexOf("*")===o.length-1&&r.url.startsWith(o.substr(0,o.length-1))};return nM(t)?t.httpMethod&&t.httpMethod!==r.method?!1:(!t.uri&&!t.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),t.uriMatcher?t.uriMatcher(r.url):i(t.uri)):i(t)}findMatchingRoute(t,r){return pe(r.allowedList).pipe(Ye(i=>this.canAttachToken(i,t),null))}allowAnonymous(t,r){return!!t&&nM(t)&&!!t.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(r.error)}}return n.\u0275fac=function(t){return new(t||n)(G(Gw),G(uf),G(iM),G(Ww))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();function oM(n){return[Ww,oz,rz,{provide:rM,useValue:n},{provide:uf,useFactory:qw.createClient,deps:[Gw]}]}function sz(n,e){if(n&1&&(le(0,"div",9),xe(1),ae()),n&2){let t=Ze();Ne(),Ni(t.errorMessage)}}var sM=(()=>{class n{constructor(){this.authService=x(Xt),this.email="",this.password="",this.errorMessage=""}onLogin(){this.authService.login({email:this.email,password:this.password}).pipe(Ye(),Ge(t=>(this.errorMessage=t.message,$(null)))).subscribe(t=>{})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["app-login"]],standalone:!0,features:[Nt],decls:19,vars:3,consts:[[1,"login-container"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","writingsuggestions","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","writingsuggestions","",3,"ngModelChange","ngModel"],["type","submit"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(r,i){r&1&&(le(0,"div",0)(1,"h2"),xe(2,"Login"),ae(),le(3,"form",1),Ve("submit",function(){return i.onLogin()}),le(4,"div",2)(5,"label",3),xe(6,"Email:"),ae(),le(7,"input",4),Br("ngModelChange",function(s){return xi(i.email,s)||(i.email=s),s}),ae()(),le(8,"div",2)(9,"label",5),xe(10,"Password:"),ae(),le(11,"input",6),Br("ngModelChange",function(s){return xi(i.password,s)||(i.password=s),s}),ae()(),le(12,"button",7),xe(13,"Login"),ae(),Ft(14,sz,2,1,"div",8),ae(),le(15,"p"),xe(16,"Don't have an account? "),le(17,"a"),xe(18,"Register here"),ae()()()),r&2&&(Ne(7),Ur("ngModel",i.email),Ne(4),Ur("ngModel",i.password),Ne(3),ln("ngIf",i.errorMessage))},dependencies:[ls,T0,Hr,us,w0,Cm,Vi,bm,od],styles:[".login-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0000001a;max-width:400px;margin:200px auto}h2[_ngcontent-%COMP%]{text-align:center;color:#333;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#555}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;transition:border .3s}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#b83f45;outline:none}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#ff6c73;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#4f2c2f}p[_ngcontent-%COMP%]{text-align:center;margin-top:15px}a[_ngcontent-%COMP%]{color:#b83f45;text-decoration:none}"]})}}return n})();var aM=K(n=>!!n),cM=(()=>{class n{router;auth;constructor(t,r){this.router=t,this.auth=r}canActivate=(t,r)=>{let i=t.data.authGuardPipe||(()=>aM);return zd(this.auth).pipe(Ot(1),i(t,r),K(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||n)(G(Ir),G(hr))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var uM=n=>Do(aM,K(e=>e||n));var az=()=>uM(["/login"]),lM=[{path:"login",component:sM},{path:"all",component:Zs,canActivate:[cM],data:{authGuardPipe:az}},{path:"active",component:Zs},{path:"completed",component:Zs},{path:"",redirectTo:"/all",pathMatch:"full"}];var dM={production:!1,firebaseConfig:{apiKey:"AIzaSyAWC6leMtBGiZW28kQboU2c8K205BNg56o",authDomain:"bachelorarbeit-to-do-app.firebaseapp.com",projectId:"bachelorarbeit-to-do-app",storageBucket:"bachelorarbeit-to-do-app.appspot.com",messagingSenderId:"772712635935",appId:"1:772712635935:web:8b400cf420611fb981bf2a",measurementId:"G-M9SR122M2H"}};n0(Zs,{providers:[VR(lM),oM({domain:"dev-7yujk5octccad0s1.eu.auth0.com",clientId:"jwjx1mh8mODecUWqJlcRZesgE3Xey5xI",authorizationParams:{redirect_uri:window.location.origin}}),tT(()=>nT(dM.firebaseConfig)),ZA(()=>eR()),tS(()=>nS())]}).catch(n=>console.error(n));
